{"data":[{"title":"å‹æƒ…é“¾æŽ¥","url":"/blogroll/","content":"æœ¬æ¥æ˜¯æ‰“ç®—æŠŠå‹æƒ…é“¾æŽ¥æ”¾åˆ°ä¾§è¾¹æ é‡Œé¢çš„ï¼Œä½†é‚£è¾¹å†™å¤ªå¤šçš„è¯ç”¨æˆ·ä½“éªŒéžå¸¸å·®ï¼Œè€Œä¸”åŽæ¥çœ‹å¥½å¤šäººçš„ç½‘ç«™é‡Œéƒ½æ˜¯ç»™é“¾æŽ¥å•ç‹¬å¼€äº†ä¸ªé¡µé¢å†™ç‚¹ä»‹ç»ã€‚æˆ‘è§‰å¾—è¿™æ ·æŒºä¸é”™çš„ï¼Œæ‰€ä»¥è‡ªå·±ä¹Ÿæžä¸€ä¸ªã€‚ä¾§è¾¹æ çš„å‹æƒ…é“¾æŽ¥çŽ°åœ¨åªä¼šæ”¾å¾ˆé‡è¦å¹¶ä¸”è¿˜åœ¨æ›´æ–°çš„ç«™ç‚¹ï¼Œå¤ªä¹…æ²¡æ›´æ–°çš„è¯å°±åªæ”¾åœ¨è¿™ä¸ªé¡µé¢ç•™æ¡£äº†ã€‚\nåœ¨è¿™ä¸ªé¡µé¢å­¦ä¸€ä¸‹ç‹¼è¯´è¯åº”è¯¥ä¸ä¼šæŒ¨æ‰“å§ï¼Ÿ\næƒ³å’Œå’±äº¤æ¢å‹é“¾ï¼Ÿ\n\n\nå¦‚æžœä½ å’Œä¸€ä¸ªçƒ¦äººçš„å«åšâ€œç¨‹åºçŒ¿DDâ€æˆ–â€œç¿Ÿæ°¸è¶…â€çš„ä¸œè¥¿äº¤æ¢äº†å‹é“¾çš„è¯ï¼Œä¸‹é¢çš„éƒ¨åˆ†ä½ éƒ½ä¸ç”¨çœ‹äº†ï¼Œæˆ‘ä¸ä¼šå’Œä½ äº¤æ¢å‹é“¾çš„ã€‚\nå¾ˆå°‘æœ‰ä¸œè¥¿èƒ½è®©æˆ‘åŽŒæ¶åˆ°å…¬å¼€è¯´å‡ºæ¥ï¼Œè¿™å®¶ä¼™ä¸å¹¸å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚ä¹Ÿä¸è¦é—®ä»€ä¹ˆä½ æ€Žä¹ˆé‚£ä¹ˆçœ‹ä¸èµ·äººå®¶ä¹‹ç±»çš„è¯ï¼Œç†å¿µä¸ä¸€æ ·ï¼Œé“ä¸åŒä¸ç›¸ä¸ºè°‹ï¼Œæˆ‘æœ‰æƒåˆ©æŽ§åˆ¶æˆ‘çš„ç½‘ç«™ä¸è¦å’ŒæŸäº›æ¶å¿ƒçš„ä¸œè¥¿æœ‰è”ç³»ã€‚\nå½“ç„¶å…¶ä»–ç±»ä¼¼çš„å–ä¹¦å–è¯¾å–å…¬ä¼—å·çš„å¾…é‡ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼ŒåŽ» UC éœ‡æƒŠéƒ¨å½“ä¸ªå°ç¼–æˆ–è€…è€å®žè¿è¥è‡ªå·±çš„å…¬ä¼—å·ä¸å¥½å—ï¼Ÿéžè¦åœ¨ç¨‹åºå‘˜åšå®¢åœˆå­åˆ¶é€ è¿™ç§åžƒåœ¾ï¼Ÿ\n\n\nä½ æ·»åŠ å’±\næƒ³æ·»åŠ æˆ‘å‹é“¾æ¯”è¾ƒç®€å•ï¼Œæ‰“ä¸ªæ‹›å‘¼ç„¶åŽåŠ åˆ°ä½ çš„ç½‘ç«™å°±è¡Œäº†ã€‚\nç½‘ç«™çš„æ ‡é¢˜æ˜¯â€œå–µ's StackHarborâ€ï¼Œè€Œæˆ‘çš„åå­—æ˜¯â€œAlynx Zhouâ€ï¼Œå¸Œæœ›ä½ ä¸è¦å¼„æ··äº†ï¼Œæ¯”å¦‚æŠŠåå­—å†™åˆ°äº†ç½‘ç«™æ ‡é¢˜é‡Œæˆ–è€…å¤§å°å†™æ ‡ç‚¹ç¬¦å·æžä¹±äº†ã€‚ä¸è¿‡å…¶å®žæˆ‘ä¸€èˆ¬æ‡’å¾—ç®¡æ‰€ä»¥é—®é¢˜ä¸å¤§ã€‚\nå¦‚æžœä½ çš„å‹é“¾é¡µé¢å¯ä»¥æ˜¾ç¤º logo æˆ–è€…å¤´åƒï¼Œè¯·åŠ¡å¿…ä¼˜å…ˆä½¿ç”¨æœ¬äººåœ¨ä¾§è¾¹æ é‡Œçš„å¤´åƒï¼Œç›´æŽ¥å¤åˆ¶å›¾ç‰‡é“¾æŽ¥å³å¯ã€‚æˆ–è€…å¤åˆ¶å’±çš„ GitHub å¤´åƒé“¾æŽ¥ä¹Ÿå¯ä»¥ã€‚å¦‚æžœä½ åˆ†åˆ«æ˜¾ç¤º logo å’Œå¤´åƒé‚£æœ‰ç‚¹éš¾åŠžï¼Œä¸è¿‡æˆ‘æƒ³ logo å¯ä»¥æ”¾ è¿™ä¸ªé«˜æ¸…çš„ faviconã€‚\nç½‘ç«™ä»‹ç»å»ºè®®ä½¿ç”¨ subtitle \"Whisper to the World\"ï¼Œä¸è¿‡ä½ ç”¨ä¾§è¾¹æ çš„ description ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œåªä¸è¿‡è¿™ä¸ªå¯èƒ½ç»å¸¸è·Ÿæˆ‘çš„å¿ƒæƒ…ä¸€èµ·å˜åŒ–ã€‚\nå’±æ·»åŠ ä½ \nè¦æˆ‘æ·»åŠ ä½ å¯èƒ½æ¯”è¾ƒå›°éš¾ï¼Œé¦–å…ˆæˆ‘ä¼šä¼˜å…ˆè€ƒè™‘ç†Ÿæ‚‰å¹¶ä¸”èŠå¾—æ¥çš„äººï¼Œé™Œç”Ÿäººçš„è¯å»ºè®®ä¸è¦è´¸ç„¶æå‡ºç”³è¯·ï¼Ÿç¤¾äº¤è¿˜æ˜¯æ¯”è¾ƒå›°éš¾çš„äº‹æƒ…å§ã€‚\nå¦‚æžœèŠå¾—æ¯”è¾ƒç†Ÿçš„è¯å¯èƒ½æˆ‘è‡ªå·±å°±ä¼šå’Œä½ æå‡ºäº¤æ¢å‹é“¾çš„ç”³è¯·å¹¶ä¸”ä¸»åŠ¨æ·»åŠ ä½ äº†ï¼Œä½†æ˜¯ä¹Ÿæœ‰å¯èƒ½æˆ‘åªæ˜¯å¿˜è®°äº†ï¼Œé‚£å°±å‘é‚®ä»¶æˆ–è€…æ¶ˆæ¯å‘Šè¯‰æˆ‘ä½ çš„åšå®¢é“¾æŽ¥å§ï¼\nä¸€èˆ¬æ¥è¯´æˆ‘ä¼šä¸»åŠ¨çš„æŒ‰ç…§ä¸Šé¢è¦æ±‚åˆ«äººçš„æ–¹å¼åŽ»èŽ·å–åšå®¢ç›¸å…³ä¿¡æ¯ï¼Œä½†ä½ ä¹Ÿå¯ä»¥ç›´æŽ¥æŠŠä¸‹é¢è¡¨æ ¼çš„å†…å®¹å‘ç»™æˆ‘ï¼Œæœ‹å‹çš„æ„è§æ€»æ˜¯ä¼˜å…ˆè€ƒè™‘çš„ã€‚\næˆ‘ä¼šå…ˆé˜…è¯»ä½ çš„åšå®¢å†è€ƒè™‘æ·»ä¸æ·»åŠ ï¼Œæ‰€ä»¥å‡å¦‚ä½ çš„åšå®¢æ–‡ç« è´¨é‡å¾ˆä½Žæˆ–è€…å’Œå’±ä¸æ˜¯ä¸€è·¯äººï¼Œå¯èƒ½ä½ è¦å…ˆä»Žè‡ªå·±èº«ä¸Šæ‰¾æ‰¾åŽŸå› ï¼Ÿ\nLast but not leastï¼Œä¾§è¾¹æ ä¹Ÿæœ‰ä¸€ä¸ªå‹æƒ…é“¾æŽ¥ï¼Œä½†æ˜¯å› ä¸ºç©ºé—´é™åˆ¶ï¼Œæˆ‘ä¸ä¼šæŠŠæ‰€æœ‰çš„å‹é“¾éƒ½æ”¾ä¸ŠåŽ»ï¼Œåªä¼šæ”¾ä¸€äº›æ¯”è¾ƒé‡è¦æˆ–è€…å¹²è´§å¾ˆå¤šçš„é“¾æŽ¥ï¼å¸Œæœ›ä½ ä¸è¦è§æ€ªã€‚\nè€ç›¸è¯†\nè¿™éƒ½æ˜¯å’±å¥½ä¹…ä¹‹å‰å°±è®¤è¯†å¹¶ä¸”ä¸€èµ·å†™ä»£ç æžè®¾å¤‡åˆ°çŽ°åœ¨çš„æœ‹å‹ã€‚\n\n\n\nå¤´åƒ\né“¾æŽ¥\nè‡ªæˆ‘ä»‹ç»\næˆ‘çš„ä»‹ç»\n\n\n\n\nè—è²“ å…«åƒä»£\n(formerly as å…«é›²) Amateur professional, professional amateur.\nä»åœ¨æ–½å·¥ä¸­â€¦â€¦\n\n\n\nLGiki's Blog\nâ€œå–µå–µå–µâ€\nèŠ‚å¥çŽ‹ Dogikiï¼æ¯å¤©å’•å’•å’•ï¼Œä»Žä¸å†™åšå®¢ï¼\n\n\n\nHackGhost\n\nåœ¨äº”é“å£ç¡è§‰çš„æŸå¤´ã€‚åšå®¢ä»ŽæŸä¸€å¤©èµ·å°±ä¸æ›´æ–°äº†ã€‚\n\n\n\nArt_Chen's Blog\n\næŸè‘—å ROM å¼€å‘è€…ï¼Œä¸Šå¤§å­¦äº†è¦åŠªåŠ›å†™ä»£ç å•Šã€‚\n\n\nå¤§å­¦è®¤è¯†çš„\nå¤§å­¦é‡Œé¢å¯¹é¢äº¤æµè¿‡è€Œä¸”å…³ç³»å¾ˆä¸é”™çš„æœ‹å‹ã€‚\n\n\n\nå¤´åƒ\né“¾æŽ¥\nè‡ªæˆ‘ä»‹ç»\næˆ‘çš„ä»‹ç»\n\n\n\n\nMeow\nâ€œä¸€åªæœ‰å±çš„å–µ~â€\nåˆšå…¥å­¦çš„æ—¶å€™è®¤è¯†çš„å­¦é•¿ï¼Œä¼¼ä¹Žä¹Ÿæ˜¯ä¸€åªçŒ«ï¼ŒçŽ°åœ¨å¤§æ¦‚åœ¨ç¾Žå›½å‘¼å¸è‡ªç”±çš„ç©ºæ°”ï¼ˆå¤§é›¾ï¼‰ã€‚\n\n\n\nsqyon\nâ€œè¯•å›¾è®©æœºå™¨å¸®æˆ‘å­¦ä¹ çš„å‡ ACMerâ€\nä¼˜ç§€çš„å­¦å¼Ÿï¼Œä¸€å®šæ˜¯ä¼˜ç§€çš„å­¦å¼Ÿã€‚\n\n\n\næ»‘ç¨½ä»“åº“\n\nè‘£è€å¸ˆï¼ˆå’•è€å¸ˆï¼‰çš„å¥‡æ€ªç½‘ç«™ã€‚å¸Œæœ›ä¸‹æ¬¡æ‰“ CSGO å‰è‘£è€å¸ˆèƒ½æ‰¾åˆ°å¸¦éº¦å…‹é£Žçš„è€³æœºã€‚\n\n\n\ncserwençš„ç«™ç‚¹\n\"Good Luck and Have Fun\"\næœ‰å¥³æœ‹å‹çš„äººç”Ÿèµ¢å®¶â€¦â€¦\n\n\n\nBo Lin's Blog\nâ€œæ—¢æ¥ä¹‹ åˆ™å®‰ä¹‹â€\næ˜¯å­¦æœ¯ç•Œå¤§ä½¬äº†ï¼æ˜¯å­¦æœ¯ç•Œå¤§ä½¬äº†ï¼\n\n\nArch Linux CN ç¤¾åŒºæˆ–è€… Gentoo Linux CN ç¤¾åŒº\nè¿™é‡Œçš„äººæ‡‚å¾—å¥½åƒéƒ½å¾ˆå¤šï¼Œå’±ç»å¸¸å‘ä»–ä»¬æé—®é¢˜ï¼Œè€Œä¸”ä»–ä»¬ç»å¸¸å›žå¤å’±åœ¨ç¾¤é‡Œçš„ç¢Žç¢Žå¿µï¼Œä¸åŠ ä¸ªå‹é“¾å¥½åƒè¯´ä¸è¿‡åŽ»ã€‚\n\n\n\nå¤´åƒ\né“¾æŽ¥\nè‡ªæˆ‘ä»‹ç»\næˆ‘çš„ä»‹ç»\n\n\n\n\nçº¦ä¼Šå…¹çš„èŒç‹¼ä¹¡æ‰‹æœ­\nã€Œè™½ç„¶å’±é•¿ä¹…ä»¥æ¥è¢«å°Šä¸ºç¥žï¼Œä¸”è¢«æŸç¼šåœ¨è¿™å—åœŸåœ°ä¸Šï¼Œä½†å’±æ ¹æœ¬ä¸æ˜¯ä»€ä¹ˆä¼Ÿå¤§çš„ç¥žã€‚å’±å°±æ˜¯å’±ã€‚å’±æ˜¯èµ«èã€‚ã€\næˆ‘å¤§æ¦‚èƒ½ç†è§£è¿™æ˜¯ä¸ªä»€ä¹ˆç‰©ç§å§â€¦â€¦åæ­£æˆ‘æ˜¯çŒ«ã€‚\n\n\n\nFarseerfc çš„å°çª\nã€Œè¦æ˜¯æœƒèƒ½è®“æ™‚é–“åœä¸‹çš„é­”æ³•å°±å¥½äº†â€¦ The World!ã€\nçˆ±å‘¼å¸ fc è€å¸ˆï¼ä¼¼ä¹Žæ˜¯æ—¥æœ¬æŸå¤§å­¦çš„æ•™æŽˆï¼Œäººç”Ÿèµ¢å®¶ï¼Œå®žåç¾¡æ…•ã€‚\n\n\n\nHydroxide\nâ€œoldherl èƒ¡è¨€ä¹±è¯­ä¹‹ä¸€æ°§åŒ–äºŒæ°¢â€\næˆ‘å’Œè€æµ·å°”æŒºç†Ÿçš„ï¼Œæˆ‘ä¸èƒ½æ€»æ˜¯å¿˜è®°æ·»åŠ ä»–çš„å‹é“¾â€¦â€¦\n\n\n\njm33_ng\n\nä¼¼ä¹Žæ˜¯ä¸ªé«˜äº§çš„å¤§ä½¬ï¼Œåšå®¢é‡Œéƒ½æ˜¯å’Œå®‰å…¨ç›¸å…³çš„ï¼ˆå¤§æ¦‚ï¼‰ã€‚\n\n\n\nNichi Yorozuya\n\"ðŸ°ðŸ°\"\næŸä¸–ç•Œä¸€æµå¤§å­¦å¹´è½»å·¨ä½¬ï¼ˆå½“é¢ç¡®è®¤ï¼Œæœ¬äººä¿è¯æ­¤æ¡å¯ä¿¡åº¦ï¼‰ã€‚\n\n\n\nBruce Z Blog\nã€Œæˆ‘ä¸æ˜¯å…”å­ã€\nç»å¸¸è¿«å®³æˆ‘çš„å¤§ç™½å…”å­ï¼Œå¦‚æžœæœ‰äººæ‰åˆ°äº†å»ºè®®å…ˆæ”¾è¿›é”…é‡Œç…®äº†å†è¯´ã€‚\n\n\n\nliolok\n\"I am not a cat, how disappointing :(\"\nçº ç»“çš„çš“å¥‡è€å¸ˆï¼Œä»–å¥½åƒä¹Ÿæƒ³å½“çŒ«ã€‚\n\n\n\nEdward-P's Blog\n\nè™½ç„¶å’±ç»å¸¸å«ä»–åå¾·åŽï¼Œä½†å¹¶ä¸æ˜¯ä»€ä¹ˆåäººï¼Œä¿æŠ¤å„ç§å¾·åŽä»Žæˆ‘åšèµ·ã€‚\n\n\n\nä¾äº‘'s Blog\n\nè¿™ä¹Ÿæ˜¯ä¸€åªç‹ç‹¸ï¼Œè€Œä¸”æ‡‚å¾—å¾ˆå¤šå¾ˆå¤šå¾ˆå¤šäºŽæ˜¯æˆ‘ç»å¸¸ç»å¸¸ç»å¸¸é˜…è¯»åšå®¢ã€‚\n\n\n\næƒ ç‹ä¹‹ä¹¦\n\"A fox called Megumi\"\nåˆæ˜¯ä¸€åªç‹ç‹¸ï¼Œç§ä»¥ä¸º Arch ç¤¾åŒºå¯æ”¹ååŠ¨ç‰©å›­ã€‚\n\n\n\nCS Slayer\n\nèµ„æ·± ä¼‘ä¼¯åˆ©å®‰å·ç”²æ¿æ¸…æ´å·¥ å´©åä¸‰çŽ©å®¶ï¼ŒFcitx çš„ä½œè€…ã€‚å¯æ˜¯è¿™å’Œæˆ‘å†·é…·æ— æƒ…çš„ iBus ç”¨æˆ·æœ‰æœ‰ä»€ä¹ˆå…³ç³»å‘¢ã€‚\n\n\n\nSukka's Blog\nâ€œç«¥è¯åªç¾Žåœ¨çœŸå®žå´ä»Žä¸ç»­å†™â€\nå¦ä¸€ä¸ªè‡ªç§°æœ‰å¤§å°¾å·´çš„ç‹ç‹¸ã€‚æ˜¯ Hexo çš„ç»´æŠ¤è€…ä¹‹ä¸€ã€‚è™½ç„¶æˆ‘ä¸ç”¨ Hexo äº†ä½†æ˜¯è§‰å¾—è¿˜æ˜¯å¾ˆåŽ‰å®³å› ä¸ºæˆ‘ä¹‹å‰çœ‹è¿‡ Hexo çš„ä»£ç è§‰å¾—è¿·è¿·ç³Šç³Šã€‚\n\n\n\nwgjak47's blog\nâ€œè¿ç»´å¼€å‘å·¥ç¨‹å¸ˆâ€\næ˜¯æˆ‘çœ‹ä¸æ‡‚çš„é‚£ç§ï¼ˆæŒ‡ k8sï¼‰\n\n\n\nåˆç­‰è¨˜æ†¶é«”\nã€Œ ä¸€å€‹ä½ çŸ¥é“çš„åœ°æ–¹ï¼Œå’Œä¸€å€‹æ²’æœ‰é…’çš„æ•…äº‹ ï½œ è¨€æ–‡ ã€\nå¬èµ·æ¥å¥½åƒèŒå¦¹å•Šï¼\n\n\n\nOriginCode æœ­è¨˜\nã€Œç„¡äººè¨ªå•ä¹‹ç„¡è¶£åšå®¢ * 1ã€\nå¥½åƒçŽ°åœ¨æ˜¯ åˆä¸­ç”Ÿ é«˜ä¸­ç”Ÿæ¥ç€â€¦â€¦\n\n\n\nVifly çš„åšå®¢\nâ€œä¸–ä¸Šåªæœ‰ä¸€ç§è‹±é›„ä¸»ä¹‰â€”â€”å°±æ˜¯åœ¨è®¤æ¸…ç”Ÿæ´»çš„çœŸç›¸ä¹‹åŽä¾ç„¶çƒ­çˆ±ç”Ÿæ´»ã€‚â€\nå¥½åƒæ˜¯ç‚¼ä¸¹çš„ï¼Œåæ­£æˆ‘åˆä¸æ‡‚ç‚¼ä¸¹â€¦â€¦åŠ é€Ÿè¿«å®³ä¸è¦åœä¸‹æ¥å•Šï¼\n\n\n\nLeo's Field\n\"Time to change drinks and mix... wait\"\nå‘ƒâ€¦â€¦ä¹‹å‰å¿˜è®°äº†â€¦â€¦ï¼ˆé€ƒ\n\n\nå…¶ä»–åœ°æ–¹è®¤è¯†çš„\nä¸ç¬¦åˆå…¶å®ƒå‡ ä¸ªæ¨¡å—çš„æè¿°å¹¶ä¸æ„å‘³ç€ä¸é‡è¦ï¼\n\n\n\nå¤´åƒ\né“¾æŽ¥\nè‡ªæˆ‘ä»‹ç»\næˆ‘çš„ä»‹ç»\n\n\n\n\né¸¡è…¿å·¥åŠ\n\næ–°é²œ å¯çˆ±çš„é¸¡è…¿ï¼\n\n\n\né«˜æ¸ç¦»ã®å±‹\nä¸€ä¸ªä¸èµ·çœ¼çš„ä¸ªäººå°ç«™\næˆ‘çœŸå¿ƒè§‰å¾—åœ¨ä»–ä»¬å…¬å¸å¹²ä¹…äº†å®¹æ˜“å˜æ ç²¾ã€‚\n\n\n\ntaoky's blog\n\næˆ‘è¯»äº†ä¸€ç¯‡å…³äºŽ GNOME è°ƒè¯•çš„åšå®¢è§‰å¾—å¾ˆæœ‰æ„æ€ï¼ŒæŽ¨èå¤§å®¶ä¹Ÿçœ‹çœ‹ã€‚\n\n\n\nlugosi\nâ€œæˆ‘ä¸åšäººå•¦jojoâ€\nçœ‹åœ°å¶è®¤è¯†çš„ç¨‹åºå‘˜â€¦â€¦\n\n\n\nå‘Šç™½ï¼ŒèŠ±ï¼Œç‹¼ \nâ€œðŸ‘“ ç¨»èŠ±é¦™é‡Œè¯´ä¸°å¹´ï¼Œå¬å–äººç”Ÿç»éªŒã€‚â€\nçœ‹åœ°å¶è®¤è¯†çš„ç¨‹åºå‘˜â€¦â€¦\n\n\n"},{"title":"å…³äºŽ","url":"/about/","content":"æˆ‘ï¼Œå¯çˆ±ï¼ˆåˆ’æŽ‰ï¼‰ï¼Œæ‰“é’±ï¼\nç”Ÿæ´»æ‰€è¿«ï¼Œç»æµŽä¸å¥½ï¼Œæˆ¿ç§Ÿå¤ªè´µâ€¦â€¦ï¼ˆçœç•¥ä¸€ä¸‡å­—å–æƒ¨ï¼‰\næˆ‘çªç„¶è§‰å¾—å¾ˆå°‘æœ‰äººæ‰“èµå¯èƒ½æ˜¯å› ä¸ºæˆ‘å¤ªå…‹åˆ¶äº†ï¼Œæ‰“èµæŒ‰é’®å¹¶ä¸æ€Žä¹ˆæ˜Žæ˜¾ï¼Œè€Œä¸”è¿˜è¦ç‚¹ä¸€ä¸‹æ‰èƒ½å‡ºçŽ°äºŒç»´ç ã€‚\nAnywayï¼Œç‚¹åˆ°è¿™ä¸ªé¡µé¢è¯´æ˜Žä½ å¯¹æˆ‘å¾ˆæ„Ÿå…´è¶£ï¼Œæˆ‘å†™çš„ä¸œè¥¿ä½ è§‰å¾—ä¸é”™ã€‚å¦åˆ™åƒäº†è›‹å¹²å˜›åŽ»è®¤è¯†æ¯é¸¡å‘¢ï¼Ÿæ‰€ä»¥æˆ‘åœ¨è¿™æ”¾ä¸€ä¸‹æ‰“èµç”¨çš„äºŒç»´ç ä¸è¿‡åˆ†å§ï¼\næ‰“å¤šå°‘ï¼Ÿå¤šå¤šç›Šå–„ï¼è°å’Œé’±è¿‡ä¸åŽ»å•Šï¼\n\n  \n  \n\n\nä¸ªäººç®€ä»‹\nAlynx Zhou\n Arch Linux user, Linux desktop dev at SUSE, self-taught cameraman, harmonica player.\n é‚®ç®±ï¼šalynx.zhou@gmail.com\n Telegram: @AlynxZhou\n GitHub: @AlynxZhou\n PGP Fingerprint: 87F2 E316 E0AB C98B 9DE8  D4EF 042F D810 6009 54EF\næƒ³äº†åˆæƒ³è¿˜æ˜¯è§‰å¾—ä»¥å‰å†™çš„ä»‹ç»å¤ªé€ ä½œäº†æ‰€ä»¥å†³å®šæ¢ä¸ªæ­£å¸¸ç‚¹çš„ç‰ˆæœ¬ã€‚\n\nAlynx Zhou / Alynx / AZï¼Œèƒ½å« Alynx å½“ç„¶æ˜¯æœ€å¥½çš„ï¼Œæˆ‘å…¶å®žä¸æ˜¯å¾ˆä»‹æ„ä½ æ€Žä¹ˆç§°å‘¼æˆ‘ï¼Œæ¯•ç«Ÿè¿™æ˜¯æˆ‘è‡ªå·±é€ çš„åå­—ï¼Œåªè¦ä½ å°è¯•åŽ»è¯»å°±å¾ˆå¥½äº†ã€‚ä½†å¦‚æžœä½ å®žåœ¨æ‹…å¿ƒè‡ªå·±è¯»é”™æˆ–è€…æ˜¯æˆ‘æ‡’å¾—æ•™åˆ«äººæ€Žä¹ˆè¯»çš„æ—¶å€™æˆ‘ä¸€èˆ¬ä¼šç›´æŽ¥ç®€ç§° AZï¼Œå…¶å®žè¿™ä¸ªæˆ‘ä¸€å¼€å§‹å†™åœ¨åšå®¢é‡Œçš„æ—¶å€™åªæ˜¯è§‰å¾—è¿™ä¸ªç¼©å†™ä¹Ÿè¿˜è¡Œè€Œä¸”å¤Ÿç®€å•ï¼Œå¹¶æ²¡æœ‰çœŸçš„æ‰“ç®—è®©åˆ«äººç”¨è¿™ä¸ªï¼Œä¸è¿‡è®¤è¯†è“çŒ«ä¹‹åŽå¥¹çœ‹äº†ä¸€ä¸‹åšå®¢å¼€å§‹è¿™ä¹ˆç§°å‘¼ï¼Œç„¶åŽæˆ‘è§‰å¾—è¦ä¸å°±è®©åˆ«äººè®°ä¸ªç®€å•çš„å§ï¼Œæ‰€ä»¥å°±æŽ¥å—äº†ã€‚è™½ç„¶å¾ˆå¤šäººä¼šåªè¯»è‡ªå·±è®¤è¯†çš„éƒ¨åˆ†ä½†æ˜¯æœ€å¥½è¿˜æ˜¯åˆ«åªå« Zhou æ¯•ç«Ÿå‰é¢æ‰æ˜¯æˆ‘è‡ªå·±èµ·çš„ï¼Œä¸è¿‡æˆ‘ä¹Ÿä¸ä¼šç”Ÿæ°”ã€‚æœ€åŽå¦‚æžœä½ ä¸€å®šè¦çŸ¥é“æˆ‘æƒ³æ€Žä¹ˆè¯»ï¼Œå…¶å®žè¿™åªæ˜¯æŠŠ a lynx å†™åœ¨ä¸€èµ·è€Œå·²ï¼Œå°±è¿™æ ·è¯»å°±å¯ä»¥äº†ã€‚\næœ€å–œæ¬¢çš„äºŒæ¬¡å…ƒäººç‰©æ˜¯ ç§‘å­¦è¶…ç”µç£ç‚® é‡Œçš„ å¾¡å‚ç¾Žç´ï¼Œä¸Žæ‰€æœ‰å…¶å®ƒæˆ‘å–œæ¬¢çš„äºŒæ¬¡å…ƒäººç‰©éƒ½ä¸åŒçš„æ˜¯å¥¹æ˜¯æˆ‘å¸Œæœ›æˆä¸ºä½†å¯èƒ½åˆæ°¸è¿œä¸èƒ½æˆä¸ºçš„äººã€‚é¡ºä¾¿ä¸€ææˆ‘ç«™é»‘ç´è®¨åŽŒä¸Šæ¡å½“éº»ã€‚å…¶å®ƒå–œæ¬¢çš„äºŒæ¬¡å…ƒäººç‰©æœ‰ Fate/stay night é‡Œçš„ é˜¿å°”æ‰˜èŽ‰é›…Â·æ½˜å¾·æ‹‰è´¡ å’Œ æ˜Žæ—¥æ–¹èˆŸ é‡Œçš„ æµŠå¿ƒæ–¯å¡è’‚ã€‚å•æŽ¨ ä¸­å•å…‰ä¸€ï¼Œå¤´åƒä½œè€…æ˜¯ èŒ¶å†·ã€‚\næ“ä½œç³»ç»Ÿä½¿ç”¨ Arch Linuxï¼Œæ¡Œé¢çŽ¯å¢ƒä½¿ç”¨ GNOMEï¼Œæµè§ˆå™¨ä½¿ç”¨ Firefoxï¼Œç¼–è¾‘å™¨ä½¿ç”¨ Emacsï¼Œè‡ªå·±å†™çš„è¯é¦–é€‰çš„è¯­è¨€æ˜¯ C æˆ–è€… JavaScriptï¼Œç§»åŠ¨è®¾å¤‡é€‰æ‹© Androidï¼ŒValve å¯¹ Linux å‹å¥½æ‰€ä»¥ç”¨ Steamï¼ŒMinecraft åªçŽ© Java ç‰ˆå› ä¸ºåŸºå²©ç‰ˆä¸æ”¯æŒ Linuxï¼ŒAdobe ä¸æ”¯æŒ Linux æ‰€ä»¥ç”¨ DaVinci Resolve Studio å‰ªè§†é¢‘ã€‚å†™è¿™äº›æ˜¯ä¸ºäº†æé†’æœ‰äº›å–œæ¬¢åˆ°å¤„å®‰åˆ©æˆ–è€…æ‰“å˜´ä»—çš„äººåˆ«æ¥çƒ¦æˆ‘ã€‚\nåŠéŸ³é˜¶å£ç´å¹çš„å¹¶ä¸ç®—ç‰¹åˆ«å¥½ï¼Œåªæ±‚è‡ªå·±å¼€å¿ƒã€‚æ‘„å½±æ°´å¹³ä¸€èˆ¬ä½†è‡ªå·±è§‰å¾—èƒ½ç»™è‡ªå·±æ‹å£çº¸å°±ç®—æˆåŠŸã€‚\næœ€å–œæ¬¢çš„æ­Œæ‰‹æ˜¯ Kalafinaï¼Œå…¶å®ƒäººçš„è¯å¬ é™ˆå¥•è¿… æ¯”è¾ƒå¤šã€‚\nçŒ«å’Œç‹—ä¹‹é—´æ›´å–œæ¬¢çŒ«ï¼Œå¯å£å¯ä¹å’Œç™¾äº‹å¯ä¹ä¹‹é—´æ›´å–œæ¬¢å¯å£å¯ä¹ï¼Œè‚¯å¾·åŸºå’Œéº¦å½“åŠ³ä¹‹é—´æ›´å–œæ¬¢æ±‰å ¡çŽ‹ï¼Œä¸è¿‡ä¹Ÿä¸æ˜¯éžå¸¸è®¨åŽŒå¦ä¸€ç§ã€‚\nä¸è¦ç›—ç”¨æˆ‘çš„å¤´åƒï¼Œå› ä¸ºè¿™æ˜¯ä¸“é—¨ç”»ç»™æˆ‘çš„ã€‚ä¹Ÿä¸è¦ç›´æŽ¥å¤åˆ¶æˆ–è€…ç®€å•æ›¿æ¢æˆ‘å†™çš„å†…å®¹ï¼Œå› ä¸ºæˆ‘çœ‹åˆ°äº†å¤åˆ¶å“ä¼šè§‰å¾—è‡ªå·±çš„å¾ˆå°´å°¬ã€‚\nè¢«äººéœ€è¦æ˜¯æˆ‘å­˜åœ¨çš„æ„ä¹‰ã€‚\nåˆ«çš„ä»€ä¹ˆæƒ³åˆ°äº†å†å†™å§ã€‚\nå¯¹äºŽä¸€äº›äººï¼Œåœ¨å¯¹ç€è¿™ä¸ªé¡µé¢æŒ‰ Control + c ä¹‹å‰ï¼Œéº»çƒ¦å…ˆçœ‹ä¸€ä¸‹ç¬¬ 17 æ¡ã€‚\n\n1. Alynx å¯ä»¥æŽ¥å—çš„ç§°å‘¼åŒ…æ‹¬ Alynx Zhouï¼ŒAlynxï¼ŒAZã€‚\n\n2. Alynx è¿™ä¸ªè¯çš„æ¥åŽ†ã€è¯»éŸ³æ˜¯ *Alynx* is just **a lynx**ã€‚\n\n3. Alynx çš„æœ¬å‘½æ˜¯ **ç§‘å­¦è¶…ç”µç£ç‚®** ä¸­çš„ â€œè¶…ç”µç£ç‚®â€ *å¾¡å‚ç¾Žç´*ï¼Œ*Misaka Mikoto* å’Œ **Fate/stay night** é‡Œé¢çš„ â€œSaberâ€ *é˜¿å°”æ‰˜èŽ‰é›…Â·æ½˜å¾·æ‹‰è´¡* è¿˜æœ‰ **æ˜Žæ—¥æ–¹èˆŸ** é‡Œé¢çš„ *æµŠå¿ƒæ–¯å¡è’‚*ã€‚æœ‰é‡è¦å½±å“çš„ Dota 2 ä¸»æ’­æ˜¯ [*ä¸­å•å…‰ä¸€*](https://space.bilibili.com/434401868)ã€‚å¤´åƒä½œè€…æ˜¯ [*èŒ¶å†·*](https://space.bilibili.com/741520)ã€‚\n\n4. Alynx å¯¹ LGBTQIA æ²¡æœ‰æ­§è§†ä½†æ˜¯ Alynx **åªå–œæ¬¢å¥³å­©å­**ï¼Œæƒ³è¦è®¤è¯†å¯çˆ±çš„å°å§å§ï¼Œæƒ³è„±å•ã€‚\n\n5. Alynx åƒçŒ«ä¸€æ ·æ‡’ã€‚Alynx æ˜¯ Arch Linux CN ç¤¾åŒºé‡Œç¨€æœ‰çš„ GNOME ç”¨æˆ·ä¹‹ä¸€ï¼Œå¸Œæœ›å¤§å®¶çˆ±æŠ¤ç¨€æœ‰åŠ¨ç‰©ã€‚\n\n6. Alynx å–œæ¬¢ Arch Linuxã€Atomã€Cã€Coffee Scriptã€Valaã€GNOMEã€Firefoxã€Androidï¼Œä½ ä¹Ÿè®¸å–œæ¬¢ä¸Žè¿™äº›å¯¹ç«‹çš„è½¯ä»¶ï¼Œä½†æ˜¯ **æ¯ä¸ªäººé€‰æ‹©è‡ªå·±å–œæ¬¢çš„ä¸œè¥¿ä¸€å®šæœ‰å¥¹çš„ç†ç”±**ï¼Œæ‰€ä»¥ **è¯·ä¸è¦å¼ºè¡Œå‘ Alynx å®‰åˆ©ä½ å–œæ¬¢çš„ä¸œè¥¿**ã€‚\n\n7. Alynx å–œæ¬¢éŸ³ä¹ï¼Œç›®å‰æœ€å–œæ¬¢çš„ä¹å™¨æ˜¯åŠéŸ³é˜¶å£ç´ï¼Œæœ‰ä¸åˆ° 7 å¹´çš„ç´é¾„ã€‚å­¦è¿‡ 4 å¹´äºŒèƒ¡å¹¶é€šè¿‡äº†ä¸šä½™æ°´å¹³åçº§ï¼ˆè™½ç„¶çŽ°åœ¨å‡ ä¹Žå¿˜å…‰äº†ï¼‰ï¼Œé€‰äº†æ‰¬ç´é€‰ä¿®è¯¾æ‰€ä»¥å¤§æ¦‚äº†è§£ä¸€ç‚¹ç‚¹ï¼Œå…¶ä»–äº†è§£ä¸€ç‚¹çš„ä¹å™¨è¿˜æœ‰é•¿å·ï¼Œé€‰åˆ°è¯¾çš„å°æç´ã€‚\n\n8. Alynx åšæŒç”¨ Steam å¹¶æ‹’ç» Origin/Epic/Battle.net ç­‰ä¸æ‰“ç®—æ”¯æŒ Linux çš„å¹³å°ï¼ˆæ—¢ç„¶ä½ å¿½ç•¥ Alynx çš„éœ€æ±‚ï¼ŒAlynx ä¹Ÿå¿½ç•¥ä½ ï¼‰ï¼Œ*Counter-Strike: Global Offensive* æ˜¯ç›®å‰ä¸ºæ­¢å”¯ä¸€ä¸€ä¸ªçŽ©äº†è¶…è¿‡ 600 å°æ—¶çš„æ¸¸æˆï¼ˆçŽ°åœ¨ *Dota 2* ~~ä¹Ÿå¿«åˆ°è¿™ä¸ªæ—¶é•¿äº†è™½ç„¶éƒ½æ˜¯æ‰“æœºå™¨äºº~~ ~~å·²ç» 800 å°æ—¶äº†~~ å·²ç»ä¸¤åƒå°æ—¶äº†ï¼‰ï¼Œå”¯ä¸€èƒ½å¤ŸçŽ©è¿›åŽ»çš„ RPG å¤§æ¦‚æ˜¯ *NieR: Automata*ï¼Œæ„Ÿè°¢å®¤å‹ç‰¹åœ°å¸¦ PS4 åˆ°å­¦æ ¡è¿˜å’Œé«˜ä¸­åŒå­¦å€Ÿäº†å…‰ç›˜è®© Alynx èƒ½å’Œå¦ä¸€ä¸ªå®¤å‹ä¸€èµ·ä»¥ 60FPS å’Œé«˜æ¸…ç”»è´¨é€šå…³ä¸»çº¿ï¼ˆè¿™è¯è¯´çš„æœ‰ç‚¹ä¹±å¥—ï¼‰ã€‚å¦å¤–è¡¨ç¤ºå®¤å‹å››ä¸ªäººä¸€èµ·çŽ© *Overcooked!* éžå¸¸å¼€å¿ƒï¼Œæ‰€ä»¥é¢„è´­äº† *Overcooked!2*ã€‚Alynx è¿˜ä¹°äº† Switchã€‚\n\n9. Alynx çš„ Steam ID æ˜¯ AlynxZhouï¼Œå¦‚æžœä½ æƒ³å’Œ Alynx ä¸€èµ·çŽ©æ¸¸æˆçš„è¯ã€‚ä¸å®šæœŸåœ¨çº¿ï¼Œå¹¶ä¸” **å¦‚æžœä½ æ˜¯é‚£ç§å¾ˆåµå¾ˆæš´èºå¼ å£å°±å–·é˜Ÿå‹çš„äººè¯·ä¸è¦æ¥æ‰“æ‰° Alynx**ã€‚\n\n10. Alynx å–œæ¬¢ Minecraftï¼ˆJavaç‰ˆï¼‰ï¼Œ**ä¸æŽ¥å— Win10 ç‰ˆ**ï¼ŒPE/Java ç‰ˆæ­£ç‰ˆçŽ©å®¶ï¼ˆéžç½‘æ˜“ç‰ˆï¼‰ã€‚\n\n11. Alynx å·²ç»çŽ©ä¸åŠ¨å´©å 3rd äº†ï¼Œå³ä½¿æœ‰å°å§å§ + æ•°ä¸€æ•°äºŒçš„æ¸²æŸ“æŠ€æœ¯ã€‚Alynx ä¹Ÿè‚ä¸åŠ¨ Fate/Grand Orderï¼ˆéžçš„è‚ä¸è¿‡æ¬§çš„ï¼‰ï¼ˆæ˜Žæ˜Žæ˜¯ç¢§è“èˆªçº¿ï¼ï¼‰äº†ï¼Œ~~è¿˜æ²¡æŠ½åˆ°è“å‘†æ˜¯ Alynx æ²¡æœ‰å¸è½½æ¸¸æˆçš„ä¸€ä¸ªé‡è¦ç†ç”±ï¼Œå¥¹å·²ç»å¿«ç»æœ›äº†~~**å·²ç»æŠ½åˆ°è“å‘†äº†**ï¼ˆå·²ç»æ»¡ç ´äº†ï¼‰ï¼ˆæˆ‘æ°¸è¿œå–œæ¬¢FGOï¼‰ï¼ˆå¿«è¯´å£°å¤šè°¢å¶å“¥å“¥ï¼‰ï¼ˆæŠ½åˆ°è“å‘†å¹¶å‡çº§åˆ° 100 ä¹‹åŽæ„Ÿè§‰æ¸¸æˆå¤±åŽ»äº†ç›®æ ‡ï¼Œå·²ç»åŠé€€å‘äº†ï¼‰ã€‚\n\n12. Alynx æƒ³ç ”ç©¶æœ‰å…³æ¸¸æˆæ¸²æŸ“çš„ä¸œè¥¿ï¼Œç•¥å¾®æ‡‚ä¸€ç‚¹ OpenGL ES å’Œç›¸å…³çš„çŸ©é˜µè¿ç®—ã€‚\n\n13. Alynx ä¸ä»…æƒ³å­¦æ—¥è¯­ï¼Œè¿˜æŠ“ä½æœºä¼šé€‰åˆ°äº†æ—¥è¯­äºŒå¤–çš„ä»»é€‰è¯¾ã€‚\n\n14. Alynx è®¤ä¸º *Kalafina* å’Œ *æ¢¶æµ¦ç”±çºª* æ‰æ˜¯ **çœŸæ­£çš„éŸ³ä¹**ï¼Œ*Hikaru* æ˜¯ Alynx å®‰è£… Twitter App çš„å”¯ä¸€ç†ç”±ã€‚Alynx ä¹Ÿå–œæ¬¢é™ˆå¥•è¿…å’Œæž—ä¿Šæ°ä»¥åŠå¼ æ°è¿™ç§å”±åŠŸæˆ–è€…éŸ³ä¹æ°´å¹³ç¡®å®žåˆ°ä½çš„æ­Œæ‰‹ï¼Œç½‘æ˜“äº‘æœ‰é‡Œã€Šå¯Œå£«å±±ä¸‹ï¼ˆliveï¼‰ã€‹ï¼Œã€Šå€¾åŸŽã€‹ï¼Œã€Šå–œå¸–è¡—ã€‹ï¼Œã€ŠKæ­Œä¹‹çŽ‹ã€‹ï¼Œã€Šä½ ç»™æˆ‘å¬å¥½ã€‹ï¼Œã€Šä¿®ç‚¼çˆ±æƒ…ã€‹ã€‚\n\n15. Alynx ç»å¸¸æ‡’ç™Œå‘ä½œä»€ä¹ˆä¹Ÿä¸æƒ³åšï¼ŒAlynx æ˜¯ä¸ªä¸è‚¥ï¼ˆ182 cm / 72 KGï¼‰çš„å®…ã€‚Alynx å–œæ¬¢çŒ«ï¼Œä¸å¤ªå–œæ¬¢ç‹—ã€‚\n\n16. Alynx å–œæ¬¢å†™ä¸€äº›ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿ï¼Œå³ä½¿è¿™äº›æ²¡æœ‰äººå–œæ¬¢çœ‹ï¼Œä½†æ— è®ºå¦‚ä½• **è¿™æ˜¯æˆ‘ä»¬åœ¨é¢å¯¹ä¸–ç•Œè¿™ä¸€åºžç„¶å¤§ç‰©æ—¶èƒ½ç•™ä¸‹çš„ä¸€ç‚¹å£°éŸ³ï¼Œæ— è®ºæ˜¯æƒŠæ…Œå¤±æŽªè¿˜æ˜¯æ³°ç„¶é¢å¯¹**ã€‚\n\n17. Alynx è®¨åŽŒå¤åˆ¶å“ã€‚åŠ ä¸Šè¿™ä¸€æ¡æ˜¯å› ä¸º Alynx æœ€è¿‘çœ‹åˆ°äº†å¥½å¤šéƒ¨åˆ†å¤åˆ¶è¿™ä¸ªé¡µé¢çš„ç½‘ç«™ï¼ŒAlynx æ„¤æ€’åœ°å¸Œæœ›è¿™äº›äººè®¤æ¸…æ¥šä»€ä¹ˆæ˜¯æ‹¿æ¥åˆ†äº«çš„ä»€ä¹ˆæ˜¯æ‹¿æ¥çœ‹çš„ã€‚å¦‚æžœè¿™äº›äººä¸èƒ½ç†è§£ï¼ŒAlynx è¡¨ç¤ºä½ ä»¬ **å°½ç®¡ä½¿ç”¨è¿™ä¸ªé¡µé¢çš„æ ·å¼**ï¼Œå› ä¸ºä»£ç å°±åœ¨ GitHub ä¸Šå¹¶ä½¿ç”¨ Apache-2.0 å…¬å¼€æŽˆæƒï¼ŒAlynx **éžå¸¸é«˜å…´ä½ ä»¬å–œæ¬¢è¿™ä¸ªä¸»é¢˜ï¼Œæ¯•ç«Ÿå¥¹ç”¨äº†ä¸¤å‘¨æ¥å®žçŽ°è¿™äº›æ ·å¼**ã€‚ä½†æ˜¯å¯¹äºŽä½¿ç”¨ CC BY-NC-ND 4.0 æŽˆæƒçš„ç½‘ç«™å†…å®¹ï¼Œå¸Œæœ›ä½ ä»¬ä¸è¦æ‹¿æ¥å……å®žè‡ªå·±çš„é¡µé¢ï¼Œè¿™ç§è¡Œä¸ºæœ‰æ—¶å€™ä¼šè®© Alynx è§‰å¾—è‡ªå·±å†™çš„å¾ˆä¸­äºŒè€Œåˆ é™¤å¯¹åº”çš„æ–‡ç« ã€‚**ä½ æœ‰ä¸€åƒç§ä»‹ç»è‡ªå·±çš„æ–¹å¼ï¼Œä½†æ²¡å¿…è¦æŠŠ Alynx çš„é¢å…·æ‹¿è¿‡æ¥æŠ å‡ ä¸ªçªŸçª¿è´´åœ¨è‡ªå·±è„¸ä¸Šï¼Œå› ä¸º Alynx ä¼šè§‰å¾—ç—›**ã€‚ä½ ä¹Ÿå¯ä»¥ç»™è‡ªå·±çš„ç½‘ç«™èµ·ä¸ªç‹¬ç‰¹çš„åå­—ï¼Œè€Œä¸æ˜¯çœ‹åˆ° StackHarbor å°±è§‰å¾—è¿™ä¸ªè¯å¤©ä¸‹ç¬¬ä¸€ï¼Œæ‹¿æ¥è‡ªå·±ç”¨å¯ä¸æ˜¯å¤¸å¥– Alynx å®¡ç¾Žçš„å¥½åŠžæ³•ã€‚\n\n18. Alynx å–œæ¬¢çš„ç”µå½±å’ŒåŠ¨æ¼«æœ‰ã€Šç§‘å­¦è¶…ç”µç£ç‚®ã€‹ï¼Œã€ŠFate/Stay Nightã€‹ç³»åˆ—ï¼Œã€ŠFate/Zeroã€‹ï¼Œã€Šä½ çš„åå­—ã€‚ã€‹ï¼Œã€Šçˆ±ä¹ä¹‹åŸŽã€‹ï¼Œã€Šæµ·ä¸Šé’¢ç´å¸ˆã€‹ä»¥åŠã€Šæ–°ä¸–çºªç¦éŸ³æˆ˜å£«ã€‹ï¼ˆåŒ…æ‹¬ TV å’Œå‰§åœºç‰ˆï¼‰ï¼Œã€Šé»‘æ‰§äº‹ã€‹ã€‚\n\n19. Alynx æœ€å–œæ¬¢ Cï¼Œæ›¾ç»åœ¨ Bilibili ç›´æ’­äº†ä¸€æ®µæ—¶é—´çš„ C è¯­è¨€æ•™å­¦ã€‚å¦‚æžœæ˜¯åŠ¨æ€ç±»åž‹é‚£ä¹ˆä¸€å®šæ˜¯ Coffee Scriptï¼Œå¦‚æžœæ˜¯é¢å‘å¯¹è±¡åˆè¦é™æ€ç±»åž‹ï¼ŒAlynx é€‰æ‹© Valaã€‚\n\n20. Alynx å–œæ¬¢å¯å£å¯ä¹ã€‚\n\n21. Alynx è§‰å¾—èƒ½ä¸èƒ½å†™å‡ºä¼˜ç¾Žçš„å¥å­å®Œå…¨çœ‹è¿æ°”ï¼Œå³ä½¿æœ‰æ—¶å€™ä¼šå› ä¸ºè‡ªå·±å†™ä¸å‡ºæ¥è€Œæ„Ÿåˆ°æ²¡ç”¨ã€‚\n\n22. Alynx è§‰å¾—è°ˆäº†ä¹Ÿæ²¡ç”¨æ‰€ä»¥ **èŽ«è°ˆå›½äº‹**ã€‚\n\n23. Alynx çš„æ¢¦æƒ³æ˜¯çŽ¯æ¸¸ä¸–ç•Œï¼ˆå¦‚æžœä¸åŽ»éžæ´²å—ç¾Žæ´²ä¹Ÿç®—çš„è¯ï¼Ÿï¼‰ï¼Œä¸€ä¸ªäººå¾…åœ¨é™Œç”Ÿçš„ï¼Œæ²¡æœ‰äººçŸ¥é“çš„åœ°æ–¹ä»°æœ›å¤©ç©ºã€‚\n\n24. Alynx ä¸å–œæ¬¢è¯´è¯ï¼Œé™¤éžæ˜¯å¯¹å–œæ¬¢çš„äºº / è¯´å–œæ¬¢çš„ä¸œè¥¿ï¼Œå½“ç„¶ä»¥å‰è¯´çš„éƒ½æ˜¯ç¼–ç¨‹æˆ–è€…éŸ³ä¹ï¼Œèº«è¾¹çš„äººæ€»æ˜¯å¬ä¸æ‡‚ã€‚\n\n25. Alynx è§‰å¾— **æ¯”èµ·ä¾èµ–åˆ«äººï¼Œæˆ‘æ›´å–œæ¬¢è¢«äººä¾èµ–ï¼Œå¦‚æžœæˆ‘å–œæ¬¢çš„äººèƒ½è®©æˆ‘é»˜é»˜ä»˜å‡ºæˆ‘å°±å¾ˆæ»¡è¶³äº†**ã€‚æ‰€ä»¥ä¸è¦å’Œ Alynx å®¢å¥—ã€‚\n\n26. Alynx å¼ºè°ƒä¸€ä¸‹ **ä¸Šä¸€æ¡å¾ˆé‡è¦**ã€‚\n\n27. Alynx è®¨åŽŒéœ€è¦é¼ æ ‡ä¸åœç‚¹ç‚¹ç‚¹çš„ç¨‹åºï¼Œæ¯”å¦‚ MS Officeï¼ŒVisual Studioï¼Œæ‰‹è¿˜è¦ç•™ç€çŽ© FPS æ¸¸æˆå‘¢ã€‚\n\n28. Alynx èƒ½æœ‰ä¸€ä¸ªæ‰€çˆ±çš„äººè¿™ä»¶äº‹æƒ…å’Œ root å¯†ç ä¸€æ ·é‡è¦ï¼Œå³ä½¿ä¸çŸ¥é“å¥¹æ˜¯å¦çˆ±æˆ‘ã€‚\n\n29. Alynx è®¨åŽŒåˆ·é¢˜ï¼Œè®¨åŽŒä¸ºäº†åˆ·é¢˜å†™å‡ºä¸‘é™‹çš„ä»£ç ï¼Œåƒé‡‘éš¾ä¹°å–µä¹æ„ã€‚\n\n30. Alynx æ›´å–œæ¬¢ Telegram è™½ç„¶ä¸å¾—ä¸ç”¨ QQ å’Œå¾®ä¿¡ã€‚Alynx ä¹Ÿä¸èƒ½æŽ¥å—ä¸€ä¸ªä¹±ä¸ƒå…«ç³Ÿçš„æ’­æ”¾å™¨ï¼ŒAlynx çŽ°åœ¨ç”¨ç½‘æ˜“äº‘éŸ³ä¹ä¸‹éŸ³ä¹ç„¶åŽç”¨ Retro Music / Rhythmbox / MPV å¬ã€‚Alynx ä½¿ç”¨ Audacity å½•åˆ¶å’Œç¼–è¾‘éŸ³é¢‘ã€‚Alynx ä½¿ç”¨ DaVinci Resolve å‰ªè¾‘è§†é¢‘ï¼Œå¹¶ä¸”å› ä¸ºå®ƒæ”¯æŒ Linux æ‰€ä»¥è´­ä¹°äº† Studio ç‰ˆæœ¬ã€‚\n\n31. Alynx å®å¯ä¸çœ‹ä¸èƒ½åœ¨ Bilibili ä¸Šçœ‹è€Œåªèƒ½åœ¨å…¶ä»–å›½å†…è§†é¢‘ç½‘ç«™ä¸Šçœ‹çš„è§†é¢‘ã€‚Alynx å¶å°”ä¼šåœ¨ Bilibili ç›´æ’­ å¹å£ç´ / æ‰“æ¸¸æˆ / å†™ä»£ç ã€‚\n\n32. Alynx å¸Œæœ›å¬åˆ°åˆ«äººçš„å£°éŸ³ï¼Œå³ä½¿æˆ‘å¸¸å¸¸è®¨åŽŒäº¤æµã€‚å¦‚æžœæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæ¬¢è¿Žå‘é‚®ä»¶ / Telegram ç”šè‡³æ˜¯åŽ» [è¿™é‡Œ](https://github.com/AlynxZhou/AlynxZhou.github.io/issues) å‘issueã€‚\n\n33. Alynx è¯´ä½ å¥½ï¼Œä¸–ç•Œã€‚\n-->\n\næœ‰å…³åŸŸåå’Œç‚¹å‡»é‡\nç”±äºŽé€‰æ‹©å›°éš¾å’Œæ²¡äº‹æŠ˜è…¾çš„åŽŸå› ï¼Œå»ºç«™ä»¥æ¥æ¢è¿‡ä¸‰ä¸ªåŸŸåäº†ï¼Œç„¶è€Œæˆ‘ç”¨çš„æ˜¯ä¸è’œå­è®¡æ•°ï¼Œå®ƒæŒ‰ç…§å®Œæ•´ URL è®¡ç®—ç‚¹å‡»é‡ï¼Œæ‰€ä»¥æ¯æ›´æ¢ä¸€æ¬¡åŸŸåå°±ä¼šä¸¢å¤±ä¸€æ¬¡æ•°æ®ï¼Œå¹¶ä¸”ä½œè€…ä¸€ç›´å’•å’•å’•æ‰€ä»¥æ²¡åŠžæ³•æŠŠæ•°æ®è½¬ç§»è¿‡æ¥ï¼Œè€Œæˆ‘åˆæƒ³ä¸åˆ°å¥½çš„é€ è½®å­æ–¹æ¡ˆï¼Œæ‰€ä»¥ä¸¢äº†ä¹Ÿå°±ä¸¢äº†ï¼Œè®°åœ¨è¿™é‡Œä¸»è¦æ˜¯æ€•æˆ‘å¿˜äº†ï¼Œè€Œä¸”å¯ä»¥å†™ä¸€ä¸‹æ¢åŸŸåçš„ç†ç”±ï¼Œè¿˜æŒºå¥½çŽ©çš„ï¼š\n\nalynx.xyzï¼šç”¨äº†ä¸‰å¹´ï¼Œç‚¹å‡»é‡å¤§æ¦‚ 10 ä¸‡ä»¥ä¸Šã€‚2016 å¹´æˆ‘ç§Ÿè¿™ä¸ªåŸŸåçš„æ—¶å€™ï¼Œxyz åŽç¼€è¿˜æ²¡æœ‰æ‰“æŠ˜ï¼Œç›´åˆ°åŽæ¥å®ƒå¼€å§‹æžæ´»åŠ¨å˜æˆåžƒåœ¾ç«™æœ€çˆ±â€¦â€¦\nalynx.moeï¼šç”¨äº†ä¸åˆ°ä¸€å¹´ï¼Œç‚¹å‡»é‡å¤§æ¦‚ 3 ä¸‡ä»¥ä¸Šã€‚ä¸»è¦æ˜¯æœ‰äº†æ”¶å…¥å‘çŽ°è‡ªå·±èƒ½è´Ÿæ‹…å¾—èµ·ç¨å¾®è´µä¸€ç‚¹çš„åŸŸåï¼Œç„¶åŽè§‰å¾—è¿™ä¸ª moe å¾ˆå¯çˆ±ï¼Œç›´åˆ°åŽæ¥æˆ‘å‘çŽ°è¦ç»™éžåŠ¨æ¼«è¿·ä»‹ç»è¿™ä¸ªå®žåœ¨æ˜¯æœ‰ç‚¹éš¾â€¦â€¦è€Œä¸”æƒ³äº†æƒ³ä»¥åŽå¹´çºªå¤§äº†ä¹Ÿä¸èƒ½æ€»å……å¯çˆ±ï¼Œä¼šæƒ¹å¹´è½»äººè®¨åŽŒçš„ï¼ˆè¿™éƒ½å“ªè·Ÿå“ªå•Šï¼‰â€¦â€¦\nalynx.oneï¼šçŽ°åœ¨ç”¨çš„è¿™ä¸ªã€‚ä¸»è¦åŽŸå› æ˜¯æˆ‘æœ‰å¦ä¸€ä¸ª ismyonly.one çš„åŸŸåï¼Œone åŽç¼€å¹´è´¹å¾ˆä¾¿å®œä¹Ÿæ²¡å¥—è·¯ï¼Œè€Œä¸”ä»‹ç»èµ·æ¥ä¹Ÿå¾ˆç®€å•ã€‚å…¶å®žä¸€å¼€å§‹æˆ‘å¾ˆæƒ³æ³¨å†Œ ooo åŽç¼€ï¼ŒåŽæ¥å‘çŽ°æ˜¯ä¸ªå°åº¦å…¬å¸æžçš„è€Œä¸”æœ‰äººè¯´å®¹æ˜“å’Œ 000 æ··â€¦â€¦æˆ‘å€’ä¸æ˜¯å¯¹å°åº¦å…¬å¸æœ‰ä»€ä¹ˆåè§ï¼ˆä½ å°±æ˜¯æœ‰å§å–‚ï¼ï¼‰ï¼Œæˆ‘åªæ˜¯æƒ³èµ· cat åŽç¼€ä¸æ˜¯çŒ«çŒ«å´è¢«åŠ æ³°ç½—å°¼äºšäººéœ¸å çš„æ‚²æƒ¨äº‹å®žâ€¦â€¦\n\nçœ‹ä¸è§æˆ‘ é¦–é¡µ test\nçœ‹ä¸è§æˆ‘ é¦–é¡µ test\n\n\n\n    \n\n-->\n"},{"title":"Undefined Script Works!","url":"/Undefined-Script-Works/","content":"Undefined Script Works!\nã€ŒI am the shell of my system.ã€\nã€ŒCommand is my body, and argument is my blood.ã€\nã€ŒI have created over a thousand lines of logs.ã€\nã€ŒUnaware of less, nor aware of more.ã€\nã€ŒWithstood error to create many scripts, waiting for prompt's arrival.ã€\nã€ŒI have no mouse. This is the only bug.ã€\nã€ŒMy whole life was `Undefined Script Works`!ã€\n\nä¸€äº›ä¸ªäººé¡¹ç›®\nå¤§æ¦‚éƒ½æ˜¯äº›æˆ‘è§‰å¾—æ¯”è¾ƒæœ‰æ„æ€çš„å°çŽ©æ„ã€‚\nHikaru\nç”Ÿæˆè¿™ä¸ªç½‘ç«™çš„é™æ€ç”Ÿæˆå™¨ã€‚\n\nä¸»é¡µï¼šhttps://hikaru.alynx.one/\nä»“åº“ï¼šhttps://github.com/AlynxZhou/hikaru/\n\nShow Me The Key\nåœ¨å±å¹•ä¸Šæ˜¾ç¤ºä½ æŒ‰çš„é”®ï¼ŒScreenkey çš„æ›¿ä»£å“ï¼Œé‡‡ç”¨ libinput ä½œä¸ºåŽç«¯å› æ­¤å¯ä»¥åŒæ—¶æ”¯æŒ X11 å’Œ Waylandã€‚\n\nä¸»é¡µï¼šhttps://showmethekey.alynx.one/\nä»“åº“ï¼šhttps://github.com/AlynxZhou/showmethekey/\n\nFlipClock\nC è¯­è¨€å®žçŽ°çš„ä¸€ä¸ªå¼€æº Fliqlo æ›¿ä»£å“ï¼ˆmacOS ç”¨æˆ·è§†é¢‘é‡Œç»å¸¸å‡ºçŽ°çš„ç¿»é¡µæ—¶é’Ÿå±ä¿ï¼‰ã€‚åŸºäºŽ SDL2ã€‚\næ”¯æŒ Linux/Windows/Android ä¸” ä¸ä¾èµ– Adobe Flashã€‚å¯ç›´æŽ¥è®¾ç½®ä¸º Windows å±ä¿ï¼Œç»¿è‰²å…å®‰è£…ã€‚\n\nä»“åº“ï¼šhttps://github.com/AlynxZhou/flipclock/\nAndroid ä»“åº“ï¼šhttps://github.com/AlynxZhou/flipclock-android/\nWindows ç¼–è¯‘å¥½çš„å®‰è£…åŒ…ä¸‹è½½ï¼šç‚¹å‡»å¸¦æœ‰ win çš„åŽ‹ç¼©åŒ…\nAndroid ç¼–è¯‘å¥½çš„å®‰è£…åŒ…ä¸‹è½½ï¼šç‚¹å‡» apk æ–‡ä»¶ æˆ–è€…åŽ» é…·å®‰ç½‘ æˆ– Google Play Storeã€‚\n\nKouichi 100\nâ€œå¸®åŠ©å…‰ä¸€å¤©æ¢¯ä¸Šåˆ†â€å°æ¸¸æˆï¼ŒåŸºæœ¬ä¸Šæ˜¯ä¸ªå¹³é¢ç‰ˆç¥žåº™é€ƒäº¡ï¼Œå®Œå…¨ä½¿ç”¨åŽŸç”Ÿ JS ç¼–å†™ã€‚\n\nä¸»é¡µï¼šhttps://kouichi100.ismyonly.one/\nä»“åº“ï¼šhttps://github.com/AlynxZhou/kouichi100/\n\nGNOME Terminal Middle Click Close Tab Patch\nä¸€ä¸ªæ·»åŠ äº†ä½¿ç”¨é¼ æ ‡ä¸­é”®å…³é—­ tab åŠŸèƒ½çš„ GNOME Terminalï¼ˆä¸Šæ¸¸ç»´æŠ¤è€…è„¾æ°”å¤æ€ªï¼Œè§‰å¾—é¼ æ ‡ä¸­é”®å…³ tab å®¹æ˜“è¯¯è§¦å¹¶ä¸”å®¹æ˜“å’Œä¸­é”®ç²˜è´´æ‰€ä»¥ä¸åˆ patchï¼Œæˆ‘ä¸ªäººè§‰å¾—æ²¡è¿™ä¹ˆå¤§é—®é¢˜ï¼Œä¸è¿‡æ— æ‰€è°“ï¼‰ã€‚\nArch Linux ç”¨æˆ·ç›´æŽ¥åˆ° AUR å®‰è£…ã€‚\nGNOME Shell Extension Net Speed\nç”±äºŽ Simple Netspeed è¿™ä¸ªæ‰©å±•ä¸€ç›´æ²¡æœ‰ä¿®æŽ‰å®ƒå­—ç¬¦ä¹±é—ªçš„ bugï¼ˆå¥½åƒä½œè€…è¯´æ˜¯ä»€ä¹ˆä»–ä¸æƒ³è®©è¿™ä¸ªçŽ©æ„æ€»å˜åŒ–å®½åº¦æ‰€ä»¥è®¾ç½®äº†å›ºå®šçš„ width ç„¶åŽåˆ äº†å°±å¥½äº†ä½†æ˜¯ä»–ä¸æƒ³æ”¹ï¼Œä¸è¿‡è¯´å®žè¯æˆ‘è§‰å¾—è¿™çŽ©æ„æœ€å¤šä¹Ÿå°±å˜ä¸¤ä¸ªå­—ç¬¦å®½ï¼‰ï¼ŒäºŽæ˜¯æˆ‘å°±è‡ªå·±å†™äº†ä¸€ä¸ªï¼Œæˆ‘ä¸å¤ªéœ€è¦å®ƒé‚£ä¹ˆå¤šæ¨¡å¼ä¹Ÿä¸éœ€è¦è°ƒæ•´å­—å·ï¼Œæ‰€ä»¥è¿™ä¸ªæ‰©å±•åªæœ‰ä¸€ç§æ¨¡å¼å’Œä¸€ç§å­—å·ã€‚\n\nä»“åº“ï¼šhttps://github.com/AlynxZhou/gnome-shell-extension-net-speed/\nGNOME Shell æ‰©å±•å®‰è£…é¡µï¼šhttps://extensions.gnome.org/extension/4478/net-speed/\nAUR: https://aur.archlinux.org/packages/gnome-shell-extension-net-speed/\n\nGNOME Shell Extension Fixed IME List\næˆ‘ä¸çŸ¥é“æ˜¯å“ªä¸ªè„‘å­æŠ½äº†çš„å°å¤©æ‰åœ¨ GNOME Shell é‡ŒåŠ äº†ä»£ç ç»™è¾“å…¥æ³•åˆ—è¡¨æ”¹æˆäº†æœ€è¿‘ä¼˜å…ˆæŽ’åºï¼Œè¾“å…¥æ³•åˆ—è¡¨é¡ºåºä¸€ç›´å˜åŒ–ï¼ŒäºŽæ˜¯å½“æˆ‘æœ‰ä¸‰ä¸ªè¾“å…¥æ³•çš„æ—¶å€™å†ä¹Ÿæ²¡åŠžæ³•ä¸çœ‹åˆ—è¡¨ç›²åˆ‡åˆ°æˆ‘æƒ³è¦çš„é‚£ä¸€ä¸ªã€‚è¿™ä¸ªæ‰©å±•é€šè¿‡ hook æŽ‰ GNOME Shell é‡Œé¢ä¸€ç³»åˆ—çš„å‡½æ•°åŽ»æŽ‰äº†è¿™ä¸ªæ·»ä¹±çš„â€œç‰¹æ€§â€ï¼Œè¿˜ä½ ä¸€ä¸ªé¡ºåºå›ºå®šçš„è¾“å…¥æ³•åˆ—è¡¨ã€‚\n\nä»“åº“ï¼šhttps://github.com/AlynxZhou/gnome-shell-extension-fixed-ime-list/\nGNOME Shell æ‰©å±•å®‰è£…é¡µï¼šhttps://extensions.gnome.org/extension/3663/fixed-ime-list/\nAUR: https://aur.archlinux.org/packages/gnome-shell-extension-fixed-ime-list/\n\nGNOME Shell Extension Always Show Workspace Thumbnails\næ›´æ–°åˆ° GNOME 40 åŽå¦‚æžœä½ åˆšå¼€æœºåªæœ‰ä¸€ä¸ªå·¥ä½œåŒºçš„è¯ï¼Œå·¥ä½œåŒºç¼©ç•¥å›¾çŽ°åœ¨æ˜¯ä¸æ˜¾ç¤ºçš„ï¼Œå¼€å‘è€…è¡¨ç¤ºâ€œè¿™æ˜¯ä¸ºäº†æ–¹ä¾¿é‚£äº›ä¸ä¼šç”¨å·¥ä½œåŒºçš„ç”¨æˆ·ï¼Œç»™ä»–ä»¬æä¾›æ›´å¤§çš„ç©ºé—´â€ï¼Œä½†æˆ‘è§‰å¾—è¿™ä½å°å¤©æ‰æ˜¾ç„¶å¿½è§†äº†æˆ‘ä»¬è¿™äº›é«˜åº¦ä¾èµ–å·¥ä½œåŒºçš„ç”¨æˆ·ï¼Œå¦å¤–æˆ‘ä¸ªäººè§‰å¾—æ—¢ç„¶ä½ æŠŠå·¥ä½œåŒºä½œä¸ºè‡ªå·±çš„ä¸»è¦ç‰¹æ€§ä¹‹ä¸€ï¼Œé‚£å¯¹äºŽé‚£äº›ä¸ä¼šç”¨å·¥ä½œåŒºçš„ç”¨æˆ·åº”å½“æƒ³åŠžæ³•æç¤ºå¹¶æ•™ä¼šä»–ä»¬ä½¿ç”¨å·¥ä½œåŒºï¼Œè€Œä¸æ˜¯è¿å°±ä»–ä»¬ä»Žè€Œå½±å“åˆ°å·²ç»åœ¨ä½¿ç”¨è¿™ä¸ªç‰¹æ€§çš„ç”¨æˆ·ã€‚ä¸è¿‡åæ­£æˆ‘çœ‹äº†ä¸€çœ¼ä»£ç éžå¸¸ç®€å•ï¼Œè¿™ä¸ªæ‰©å±• hook æŽ‰é‚£ä¸ªå†³å®šæ˜¯å¦æ˜¾ç¤ºå·¥ä½œåŒºç¼©ç•¥å›¾çš„å‡½æ•°ï¼Œä¸è®ºä»€ä¹ˆæ—¶å€™éƒ½è¿”å›ž true å°±å¯ä»¥äº†ã€‚å¤ªè¿‡ç®€å•ä»¥è‡³äºŽæˆ‘éƒ½æ²¡æœ‰ç»™å®ƒæ‰“ AUR çš„åŒ…ã€‚\n\nä»“åº“ï¼šhttps://github.com/AlynxZhou/gnome-shell-extension-always-show-workspace-thumbnails/\nGNOME Shell æ‰©å±•å®‰è£…é¡µï¼šhttps://extensions.gnome.org/extension/4156/always-show-workspace-thumbnails/\n\nAZBot-Telegram\né›¶ä¾èµ– Node.JS Telegram Bot API æ¡†æž¶ã€‚\n\nä¸»é¡µï¼šhttps://tgbot.alynx.one/\nä»“åº“ï¼šhttps://github.com/AlynxZhou/azbot-telegram/\né…’ä»™ï¼šç‚¹è¿™é‡Œè®©é…’ä»™å¸®ä½ å†³å®šæ™šä¸Šåƒä»€ä¹ˆ\n\nAZPiano\nä¸€ä¸ªæŠŠä½ çš„æŒ‰é”®æ˜ å°„æˆé’¢ç´å¹¶ä¸”èƒ½è®°å½•ä¸‹æ¥çš„ React Web Appã€‚æ›´æ–°ï¼šå·²ç»ä¸æ˜¯ React å®žçŽ°çš„äº†ï¼Œå› ä¸ºæˆ‘å‘çŽ°æ‰€æœ‰åŠŸèƒ½æˆ‘éƒ½å¯ä»¥ç”¨ Vanilla JS å†™ï¼Œè€Œä¸” create-react-app å¼•å…¥äº†å¤§æŠŠå¤§æŠŠçš„ä¾èµ–ï¼Œä¸ç®¡å‡çº§åˆ°å“ªä¸ªç‰ˆæœ¬éƒ½æœ‰å¯èƒ½æœ‰é£Žé™©çš„ä¾èµ–ã€‚\n\nä¸»é¡µï¼šhttps://piano.alynx.one/\nä»“åº“ï¼šhttps://github.com/AlynxZhou/azpiano-vanilla/\nReact ç‰ˆä»“åº“ï¼šhttps://github.com/AlynxZhou/azpiano-react/\n\nAlynx Live Wallpaper\nè®©ä½ é€‰æ‹©è§†é¢‘ä½œä¸ºå£çº¸çš„ Android åº”ç”¨ã€‚\n\nä¸»é¡µï¼šhttps://livewallpaper.alynx.one/\nä»“åº“ï¼šhttps://github.com/AlynxZhou/alynx-live-wallpaper/\nä¸‹è½½ï¼šé…·å®‰ç½‘ æˆ– Google Play Storeã€‚\n\n"},{"title":"GNOME å’Œ IBus å’Œ Wayland è¾“å…¥æ³•","url":"/posts/GNOME-IBus-Wayland-IME/","content":"é•¿ä¹…ä»¥æ¥ï¼Œç”¨æˆ·å¯¹äºŽ GNOME çš„è¾“å…¥æ³•æ˜¯æ€Žä¹ˆå®žçŽ°çš„æœ‰ç€å„ç§å„æ ·çš„è¯¯è§£ï¼Œæ¯”å¦‚è¯¯ä»¥ä¸º IBus æŽŒæŽ§ä»Žç•Œé¢åˆ°å¼•æ“Žçš„å…¨éƒ¨é€»è¾‘ã€‚è€Œæˆ‘æœ€è¿‘å°è¯•ç»™ GNOME æ·»åŠ äº† text-input-v1 æ”¯æŒï¼Œä»¥ä¾¿ç”¨æˆ·å¯ä»¥åœ¨è¿è¡ŒäºŽ Wayland ä¸‹çš„ Chromium/Electron ç¨‹åºä¸­ä½¿ç”¨è¾“å…¥æ³•ï¼ˆChromium åªæ”¯æŒ text-input-v1ï¼Œè€Œä¸æ˜¯å¤§éƒ¨åˆ†å…¶å®ƒç¨‹åºéƒ½åœ¨ç”¨çš„ text-input-v3ï¼‰ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘é˜…è¯»äº†å¤§é‡å’Œè¾“å…¥æ³•ç›¸å…³çš„ä»£ç ï¼Œæ‰“ç®—æŠŠå…·ä½“çš„ç»“æž„å†™ä¸‹æ¥ï¼Œè¿™æ ·å¦‚æžœæœ‰äººæƒ³å°è¯•ä¿®æ”¹ï¼Œå¯ä»¥ä»Žæˆ‘è¿™é‡Œå‚è€ƒï¼Œè€Œä¸æ˜¯é˜…è¯»é”™è¯¯çš„èµ„æ–™ï¼Œæ‰¾ä¸åˆ°åº”è¯¥ä¿®æ”¹çš„ä½ç½®ï¼ŒåŒæ—¶ä¹Ÿé˜²æ­¢è‡ªå·±æŸå¤©æƒ³é‡æ–°æ”¹çš„æ—¶å€™æƒ³ä¸èµ·æ¥æ˜¯æ€Žä¹ˆå›žäº‹ï¼ˆå®žé™…ä¸Šåœ¨æˆ‘æ‰“ç®—å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™å‘çŽ°è‡ªå·±å·²ç»å¼€å§‹å¿˜è®°äº†ï¼Œå¥½ææ€–ï¼‰ã€‚\nWayland ä¸‹é¢æ ‡å‡†çš„è¾“å…¥æ³•ç»“æž„åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼Œåº”ç”¨ç¨‹åºå’Œæ··æˆå™¨å’Œè¾“å…¥æ³•ï¼Œå…¶ä¸­åº”ç”¨ç¨‹åºé€šè¿‡ text-input åè®®å’Œæ··æˆå™¨äº¤æ¢æ•°æ®ï¼Œæ··æˆå™¨é€šè¿‡ input-method åè®®å’Œè¾“å…¥æ³•äº¤æ¢æ•°æ®ã€‚ä½†å‡å¦‚ä½ ç®€å•åœ°æŠŠæ··æˆå™¨å¯¹åº”æˆ GNOME Shellï¼Œè¾“å…¥æ³•å¯¹åº”æˆ IBusï¼Œé‚£å°±å¤§é”™ç‰¹é”™äº†ã€‚å®žé™…ä¸Š GNOME Shell å’Œ IBus å…±åŒç»„æˆäº†è¿™ä¸ªç»“æž„é‡Œçš„â€œè¾“å…¥æ³•â€ï¼Œè€Œ Mutter åˆ™å®žçŽ°äº† text-input å’Œåº”ç”¨ç¨‹åºé€šè¿‡ Wayland äº¤äº’ï¼Œä¹Ÿå°±æ˜¯â€œæ··æˆå™¨â€ï¼ŒGNOME Shell å’Œ Mutter åˆ™é€šè¿‡ ClutterInputMethod è¿™ä¸ªæŽ¥å£äº¤æ¢æ•°æ®ï¼Œè€Œä¸æ˜¯ input-method åè®®ã€‚ä¸‹é¢æˆ‘é€ä¸ªè§£é‡Šå…·ä½“çš„ç»†èŠ‚ã€‚\né¦–å…ˆæ˜¯â€œè¾“å…¥æ³•â€éƒ¨åˆ†ï¼ŒIBus æœ¬èº«æ˜¯å¯ä»¥å½“ä½œå®Œæ•´çš„è¾“å…¥æ³•ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯æ—¢åŒ…å«ç•Œé¢åˆåŒ…å«å¼•æ“Žï¼Œä½†å®žé™…ä¸Šçš„è¿è¡Œæ–¹å¼æ˜¯ IBus åªè´Ÿè´£å¼•æ“Žéƒ¨åˆ†ï¼Œå’Œç•Œé¢æœ‰å…³æ¯”å¦‚å€™é€‰è¯æç¤ºæ¡†å’Œåˆ‡æ¢è¾“å…¥æ³•çš„é€»è¾‘å…¨éƒ¨æ˜¯åœ¨ GNOME Shell é‡Œé¢å®žçŽ°çš„ã€‚è¿™æ ·åšçš„åŽŸå› æ˜¯åœ¨ Overview æ¨¡å¼ä¸‹æ‰€æœ‰å®¢æˆ·ç«¯çš„çª—å£éƒ½ä¼šè¢«é‡å®šå‘ï¼ŒGNOME Shell æŠ¢å äº†è¾“å…¥ç„¦ç‚¹ï¼Œè€Œ IBus è‡ªå·±ç»˜åˆ¶ç•Œé¢æ—¶ä¹Ÿè¢«è®¤ä¸ºæ˜¯å®¢æˆ·ç«¯çª—å£ä¹‹ä¸€ï¼Œç›®å‰çš„è®¾è®¡ä¸ä¼šå¯¹è¾“å…¥æ³•å®¢æˆ·ç«¯çª—å£åšä»€ä¹ˆç‰¹æ®Šå¤„ç†ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯ GNOME Shell è´Ÿè´£ç•Œé¢é€»è¾‘ï¼Œç„¶åŽé€šè¿‡ D-Bus å’Œ IBus é€šä¿¡ï¼ŒèŽ·å–åˆ°è¾“å…¥æ³•çš„æ•°æ®å¡«å……åˆ°è¾“å…¥æ³•çš„ç•Œé¢é‡Œã€‚é¢˜å¤–è¯å°±æ˜¯ç»å¸¸æœ‰äººåæ§½ä¸ºä»€ä¹ˆ GNOME è¦ä½¿ç”¨ IBus æä¾›çš„ D-Bus åè®®è€Œä¸æ˜¯ä½¿ç”¨ Wayland æ ‡å‡†çš„ input-method åè®®ï¼Œä½†å®žé™…ä¸Š GNOME Shell å’Œ IBus ä¹‹é—´çš„ D-Bus è¿žæŽ¥ä¼ è¾“çš„æ˜¯â€œè¾“å…¥æ³•å†…éƒ¨çš„æ•°æ®â€ï¼Œè€Œ input-method åè®®ä¼ é€’çš„æ˜¯â€œè¾“å…¥æ³•å’Œæ··æˆå™¨ä¹‹é—´çš„æ•°æ®â€ï¼Œè¿™ä¸¤è€…æ˜¾ç„¶ä¸æ˜¯ä¸€ä¸ªä¸œè¥¿ã€‚\nå› æ­¤ï¼Œå¦‚æžœä½ æƒ³ä¿®æ”¹ GNOME ä¸‹é¢è¾“å…¥æ³•çš„ç•Œé¢ï¼Œé‚£éœ€è¦ä¿®æ”¹çš„å¯èƒ½ä¸æ˜¯ IBusï¼Œè€Œæ˜¯ GNOME Shell ä¸‹é¢çš„ js/ui/ibusCandidatePopup.jsï¼Œè¿™ä¸ªæ–‡ä»¶åŒ…å«å€™é€‰æ¡†ç•Œé¢ï¼Œæˆ–è€… js/ui/status/keyboard.jsï¼Œè¿™ä¸ªæ–‡ä»¶åŒ…å«è¾“å…¥æºé€‰æ‹©æ¡†ã€‚\nç„¶åŽ GNOME Shell éœ€è¦å’Œ Mutter äº¤æ¢æ•°æ®ï¼Œè¿™æ ·æ‰èƒ½é€šè¿‡ text-input åè®®æŠŠæ•°æ®ä»Ž Mutter ä¼ é€åˆ°åº”ç”¨ç¨‹åºé‡Œã€‚å¦‚æžœæ‰“ç®—å®žçŽ° input-method åè®®ï¼Œä½ åº”è¯¥æ•´ä¸ªæ›¿æ¢æŽ‰ GNOME Shell å’Œ IBus ç»„åˆèµ·æ¥å®žçŽ°çš„â€œè¾“å…¥æ³•â€ï¼Œè€Œéžæ‹¿ç€è¾“å…¥æ³•å†…éƒ¨çš„ D-Bus è¿žæŽ¥å¤§åšæ–‡ç« ã€‚å®žçŽ°èµ·æ¥å¹¶ä¸å›°éš¾ï¼ŒMutter æœ¬èº«ä½¿ç”¨ Clutter ä½œä¸ºå›¾å½¢åº“ï¼ŒClutter æœ‰ ClutterInputMethod è¿™ä¸ªæŽ¥å£ç®¡ç†è¾“å…¥æ³•ï¼Œæ— è®ºä½ æ˜¯ä»€ä¹ˆæ¥å¤´ï¼Œæœ€åŽéƒ½è¦å›žåˆ°è¿™ä¸ªæŽ¥å£ï¼Œåªæœ‰è¿™æ ·æ‰èƒ½ä¿è¯å¯¹ GNOME Shell è‡ªå·±çš„ UI ä¹Ÿèƒ½å®žçŽ°æ–‡æœ¬è¾“å…¥ï¼ˆå› ä¸ºå®ƒä»¬æœ€åŽéƒ½æ˜¯ä½¿ç”¨ Clutterï¼‰ï¼Œå› æ­¤ä¸»è¦å·¥ä½œæ˜¯æŠŠ input-method çš„æŽ¥å£å’Œ ClutterInputMethod çš„æŽ¥å£è¿žæŽ¥èµ·æ¥ã€‚ä½†è¿™æ˜¯ç†æƒ³æƒ…å†µï¼Œå®žé™…ä¸ºä»€ä¹ˆæ²¡äººè¿™ä¹ˆåšå‘¢â€¦â€¦å› ä¸º Wayland å®žé™…ä¸Šæä¾›çš„æ˜¯è¿›ç¨‹é—´é€šä¿¡ï¼Œinput-method åè®®è¯´åˆ°åº•åªæ˜¯ç»™è¾“å…¥æ³•å’Œæ··æˆå™¨ä¸¤ä¸ªä¸åŒè¿›ç¨‹æä¾›ä¸€ä¸ªé€šè¿‡ Wayland è¿›è¡Œè¿›ç¨‹é—´é€šä¿¡çš„æ–¹æ¡ˆè€Œå·²â€¦â€¦ä½† Mutter æ˜¯ä¸ªåº“è€Œä¸æ˜¯å•ç‹¬çš„è¿›ç¨‹ï¼ŒGNOME Shell å’Œ Mutter ç›´æŽ¥é“¾æŽ¥ï¼Œå±žäºŽåŒä¸€ä¸ªè¿›ç¨‹ï¼Œå› æ­¤å®Œå…¨æ²¡å¿…è¦å†ç»•ä¸€åœˆè¿›ç¨‹é—´é€šä¿¡å•Šâ€¦â€¦æ‰€ä»¥ä½ å¯ä»¥çœ‹åˆ° GNOME Shell ç›´æŽ¥ç»§æ‰¿äº† ClutterInputMethod æŽ¥å£ç„¶åŽåœ¨é‡Œé¢å¯¹æŽ¥ IBus çš„ D-Bus åè®®ä¼ è¿‡æ¥çš„æ•°æ®â€¦â€¦\nå¦‚æžœä½ å¯¹è¿™ä¸€éƒ¨åˆ†æœ‰å…´è¶£ï¼Œå¯ä»¥ç›´æŽ¥æŸ¥çœ‹ GNOME Shell ä¸‹é¢çš„ js/misc/inputMethod.jsã€‚å¦‚æžœä½ ä»ç„¶åšæŒåº”å½“å®žçŽ° input-method åè®®çš„è¯ï¼Œä½ å¯ä»¥å°è¯•æŒ‰æˆ‘è¯´çš„åŽ»æ”¹ï¼Œä½†æˆ‘ä»ç„¶è®¤ä¸ºè¿™æ ·æ”¶ç›Šä¸å¤§ï¼Œå› ä¸ºåªæ˜¯è§£å†³äº†è¾“å…¥æ³•ä»Žæ··æˆå™¨èŽ·å–æ•°æ®çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜¯è®© GNOME æ”¯æŒ IBus ä»¥å¤–çš„è¾“å…¥æ³•çš„æ–¹æ¡ˆä¹‹ä¸€ï¼Œä¸ºä»€ä¹ˆè¯´æ˜¯ä¹‹ä¸€å‘¢ï¼Œå› ä¸ºå®žé™…ä¸Šç›®å‰ Linux çš„è¾“å…¥æ³•ä¹Ÿåªå‰© IBus å’Œ Fcitx ä¸¤ä¸ªï¼Œè€Œ @CSSlayer å·²ç»é€šè¿‡åœ¨ Fcitx é‡Œå®žçŽ° IBus å’Œ GNOME Shell ä¹‹é—´çš„ D-Bus åè®®çš„æ–¹å¼è§£å†³äº†è¿™ä¸ªé—®é¢˜â€¦â€¦å› æ­¤æˆ‘é€‰æ‹©å¯¹ä»–å¿ƒæ€€æ„Ÿæ¿€ç„¶åŽæŽ¥å—çŽ°çŠ¶ã€‚\nä½†é™¤æ­¤ä¹‹å¤–ä½ è¿˜éœ€è¦è§£å†³è¾“å…¥æ³•è‡ªå·±ç»˜åˆ¶ç•Œé¢åœ¨ Overview ä¸‹é¢ä¼šè¢« GNOME Shell å¿½ç•¥çš„é—®é¢˜ï¼Œå¦‚æžœä½ ä»”ç»†é˜…è¯»è¿‡ @CSSlayer å…³äºŽ Fcitx å¼€å‘çš„åšå®¢æ–‡ç« ï¼Œä½ å°±ä¼šæ„è¯†åˆ°æœ€å¤§çš„é™åˆ¶æ˜¯åœ¨ Wayland ä¸‹é¢ä¸€ä¸ªå®¢æˆ·ç«¯ç¨‹åºæ²¡åŠžæ³•å†³å®šè‡ªå·±çš„å…¨å±€åæ ‡ï¼Œè€Œè¾“å…¥æ³•ä¹Ÿåªæ˜¯ä¸ªæ™®é€šçš„å®¢æˆ·ç«¯çª—å£ï¼Œè§£å†³è¿™ä¸ªéœ€è¦æ··æˆå™¨å¯¹è¾“å…¥æ³•çš„çª—å£è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼Œå› æ­¤ä½ éœ€è¦åœ¨ Mutter é‡Œé¢ç»™ input-method ä¸“é—¨æ‰“æ´žæ¥å®žçŽ°å•ç‹¬å¤„ç†è¾“å…¥æ³•çª—å£çš„ wl_surface è¿™éƒ¨åˆ†ã€‚ä½†å¯¹äºŽ GNOME æ¥è¯´ï¼Œè¾“å…¥æ³•ç•Œé¢å·²ç»æ˜¯åœ¨æ··æˆå™¨è¿›ç¨‹é‡Œå®žçŽ°çš„äº†ï¼Œæ‰€ä»¥ä½ å¯èƒ½éœ€è¦ä»Žå¤´å†™ä¸€å¤§å †ä»£ç æ¥å¤„ç†è¿™ä¸ªå¹¶ä¸”å’ŒçŽ°æœ‰çš„è¾“å…¥æ³•ç•Œé¢ä»£ç æ²¡æœ‰ä»»ä½•åœ°æ–¹èƒ½å¤ç”¨ï¼Œä¸Šæ¸¸ä¹Ÿè‡ªç„¶æ²¡æœ‰å¾ˆå¼ºçƒˆçš„æ„æ„¿åˆå¹¶è¿™ä¸ªï¼Œè€Œå¯¹äºŽ Fcitx æ¥è¯´ä¹Ÿå¯ä»¥é€šè¿‡ kimpanel çš„ GNOME æ‰©å±•æŠŠ Fcitx çš„ç•Œé¢åµŒå…¥åˆ°æ··æˆå™¨è¿›ç¨‹é‡Œï¼Œè¿™å®žé™…ä¸Šå’Œ GNOME Shell å¯¹äºŽè¾“å…¥æ³•ç•Œé¢çš„å¤„ç†æ–¹å¼æ˜¯ç±»ä¼¼çš„â€¦â€¦å·²ç»æœ‰å¯ç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œå®žçŽ° input-method æˆ‘è§‰å¾—æ˜¯æœ‰ç‚¹åƒåŠ›ä¸è®¨å¥½ï¼Œè‡³å°‘ä½ ä¸èƒ½è¦æ±‚æˆ‘åŽ»åšè¿™ä¸ªâ€¦â€¦\nè‡³äºŽç¨‹åºå’Œæ··æˆå™¨ä¹‹é—´å°±æ²¡é‚£ä¹ˆå¤šäº‹æƒ…äº†ï¼Œè¿™é‡Œå°±æ˜¯é€šè¿‡æ ‡å‡†çš„ text-input åè®®è¿›è¡Œï¼Œå¯¹äºŽ Mutter æ¥è¯´ï¼Œä»ç„¶æ˜¯æŠŠ ClutterInputMethod çš„æŽ¥å£å’Œ text-input åè®®çš„æŽ¥å£å¯¹æŽ¥èµ·æ¥ï¼Œæˆ‘åšçš„ä¸»è¦æ˜¯è¿™ä¸€éƒ¨åˆ†çš„å·¥ä½œã€‚\nå½“ç„¶è¿˜æœ‰ä¸€ç§åŠžæ³•æ˜¯ IM Moduleï¼Œå› ä¸ºè¯´åˆ°åº• text-input å’Œ input-method åªæ˜¯ä¸ºäº†æƒ³åŠžæ³•åœ¨ç¨‹åºå’Œè¾“å…¥æ³•ä¹‹é—´äº¤æ¢æ•°æ®ï¼Œè€Œä½ ä¹Ÿå¯ä»¥ç»•è¿‡ Waylandï¼Œç»•è¿‡æ··æˆå™¨ï¼ŒIM Module å°±æ˜¯è¿™æ ·çš„æ–¹å¼ï¼Œåº”ç”¨ç¨‹åºçš„å›¾å½¢åº“ä½¿ç”¨ IM Module é€šè¿‡ D-Bus ç›´æŽ¥å’Œè¾“å…¥æ³•äº¤æ¢æ•°æ®ï¼Œå‘Šè¯‰è¾“å…¥æ³•åº”è¯¥åœ¨å“ªé‡Œæ˜¾ç¤ºç•Œé¢ï¼Œæœ‰å“ªäº›æŒ‰é”®äº‹ä»¶ï¼Œè¾“å…¥æ³•å†æŠŠå€™é€‰è¯ä¼ å›žæ¥ã€‚å¯¹äºŽ GNOMEï¼Œè¿™ä¸ªæƒ…å†µä¸‹åªæ˜¯ç”¨åˆ°äº† GNOME Shell é‡Œé¢å…³äºŽè¾“å…¥æ³•ç•Œé¢çš„éƒ¨åˆ†ï¼Œå’Œ Mutter ä»¥åŠ Wayland å°±å…³ç³»ä¸å¤§äº†ã€‚\næœ€åŽå¦‚æžœä½ è¿˜æ˜¯çœ‹ä¸æ‡‚ï¼Œé‚£æˆ‘ç”»äº†å‡ ä¸ªæ¡†å›¾ï¼š\nä½ æƒ³è±¡ä¸­çš„å”¯ä¸€çš„ Wayland è¾“å…¥æ³•æž¶æž„ï¼š\n\nå¯èƒ½å®žé™…æ­£åœ¨è¿è¡Œçš„æž¶æž„ï¼š\n\nGNOME åªæ˜¯åœ¨ä¸Šé¢çš„åŸºç¡€ä¸Šè¿›è¡Œäº†ä¸€ç‚¹ç‚¹ç‚¹ç‚¹ç‚¹å˜åŒ–ï¼š\n\nè‡³äºŽä½ é—®æˆ‘ GNOME ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡è¾“å…¥æ³•ç»“æž„ï¼Ÿè¿™ä¸æ˜¯æˆ‘èƒ½å›žç­”ä½ çš„é—®é¢˜ï¼Œä¹Ÿè®¸æ˜¯åŽ†å²åŽŸå› ï¼Œä¹Ÿè®¸æ˜¯ç‰¹æ®Šç»“æž„ï¼ˆæ¯•ç«Ÿ Clutter è¿™ä¸ªå›¾å½¢åº“ä¸€å¼€å§‹æ˜¯ä¸ªå®¢æˆ·ç«¯çš„å›¾å½¢åº“ï¼‰ï¼Œæˆ‘è¿™ç¯‡æ–‡ç« åªæ˜¯è®²è¿°çŽ°çŠ¶ï¼Œå¸Œæœ›èƒ½å‡å°‘ä¸€äº›ä»¥è®¹ä¼ è®¹ã€‚\n"},{"title":"åå¹´è¿‡åŽ»äº†ï¼Œæˆ‘ä¹°äº†å° MacBook","url":"/posts/10-Years-Passed-and-I-Bought-MacBook/","content":"æˆ‘å…¶å®žå·²ç»å¾ˆä¹…æ²¡æœ‰å±žäºŽè‡ªå·±çš„ç¬”è®°æœ¬äº†ã€‚æ¯•ä¸šä¹‹åŽå…¬å¸å‘äº†ä¸€å° Precision 5530 ä½œä¸ºå·¥ä½œç”µè„‘ï¼Œæˆ‘å°±æŠŠæˆ‘è‡ªå·±çš„ Precision 5510 ç•™ç»™å®¶é‡Œäººç”¨äº†ï¼Œå†åŠ ä¸Šä¸ºäº†æ‰“æ¸¸æˆæˆ‘åˆ†åˆ«åœ¨è‡ªå·±ä½å¤„å’Œå®¶é‡Œè£…äº†å°å¼æœºï¼Œç”¨ç¬”è®°æœ¬çš„åœºæ™¯å°±æ›´å°‘äº†ã€‚æƒ³æ¥æƒ³åŽ»ï¼Œéœ€è¦ç¬”è®°æœ¬çš„åœºæ™¯åªæœ‰ä¸€ä¸ªï¼Œå°±æ˜¯å‡ºè¿œé—¨æ‹ç…§çš„æ—¶å€™ï¼Œå¯èƒ½éœ€è¦æŠŠç›¸æœºå­˜å‚¨å¡é‡Œçš„æ•°æ®å¤åˆ¶åˆ°ç§»åŠ¨ç¡¬ç›˜é‡Œï¼Œç„¶åŽå¯èƒ½é¡ºä¾¿å¿«é€Ÿä¿®å›¾å‘æœ‹å‹åœˆã€‚è™½ç„¶æˆ‘ä¹‹å‰å°è¯•è¿‡å¹³æ¿ç”µè„‘ä¹Ÿèƒ½æ»¡è¶³è¿™äº›éœ€æ±‚ï¼Œä½†å¹³æ¿ç”µè„‘ä¾›ç”µçš„èƒ½åŠ›æœ‰é™ï¼Œè¿žæŽ¥ç§»åŠ¨ç¡¬ç›˜è¿˜éœ€è¦å¤–æŽ¥ä¾›ç”µï¼Œè€Œä¸” Android ç‰ˆçš„ Lightroom å¯¼å…¥çš„é€Ÿåº¦ä¹Ÿå¤ªæ…¢äº†ï¼Œåªèƒ½è¯´å‹‰å¼ºèƒ½ç”¨ã€‚\nå½“ç„¶æˆ‘å¯ä»¥ç›´æŽ¥å¸¦ç€å…¬å¸çš„ Precision 5530 å‡ºé—¨çš„æ—¶å€™ç”¨ï¼Œä½†æ˜¯å®žåœ¨æ˜¯å¤ªé‡äº†ï¼Œè€Œä¸”åœ¨ Linux ä¸‹é¢ç”µæ± é¡¶å¤šèƒ½ç”¨ä¸¤å°æ—¶ã€‚æœ‰äº†å°å¼æœºä¹‹åŽæˆ‘å¯¹ç¬”è®°æœ¬çš„éœ€æ±‚äº§ç”Ÿäº†ä¸€äº›å˜åŒ–ï¼Œæ¯”å¦‚ç¬”è®°æœ¬å¯ä»¥ä¸éœ€è¦å¤„ç†æ‰€æœ‰çš„ä»»åŠ¡ï¼Œå¤æ‚çš„å·¥ä½œå¯ä»¥åœ¨å°å¼æœºä¸Šè§£å†³ï¼Œæ‰€ä»¥æˆ‘å¯¹ç¬”è®°æœ¬çš„éœ€æ±‚å˜æˆäº†è½»ä¾¿å’Œé•¿ç»­èˆªã€‚è¿™æ ·ä¸€çœ‹è‹¹æžœçš„ M1 å˜æˆäº†æœ€åˆé€‚çš„é€‰é¡¹ï¼šç»­èˆªå¯ä»¥å’Œå¹³æ¿ç”µè„‘ç›¸æ¯”ï¼Œä½†æ˜¯åˆæ˜¯å®žæ‰“å®žçš„ç”µè„‘ï¼ŒåŒæ—¶å¯¹äºŽå‰ªè§†é¢‘ä¿®å›¾è¿™ç§åª’ä½“ç¼–è¾‘éžå¸¸åˆé€‚ã€‚å½“ç„¶è¿™éƒ½æ˜¯é©¬åŽç‚®ï¼Œæˆ‘ä¸€å¼€å§‹åªæ˜¯å› ä¸ºåœ¨äºŒæ‰‹é¢‘é“åˆ·åˆ°æœ‰äººå‡ºå”® M1 çš„ MacBook Air åªè¦ 3000 å—å‡ºå¤´ï¼Œæ„Ÿè§‰è¿™ä¸ªä»·æ ¼å°±ç®—æ˜¯ä¹°ä¸€ä¸ªå›žæ¥çŽ©çŽ©ä¹Ÿå¾ˆåˆé€‚ã€‚ä¸è¿‡è¿™ä¸ªä»·æ ¼æ˜¯ä¸ç‰ˆï¼Œ8G å†…å­˜å¯¹æˆ‘æ¥è¯´ç­‰äºŽä¸èƒ½ç”¨ã€‚ä½†æˆ‘çœ‹äº†ä¸€ä¸‹ 16G M1 çš„ MacBook Airï¼Œä»·æ ¼è¦è´µ 1500 å·¦å³ï¼Œåˆæœ‰ç‚¹ä¸‹ä¸åŽ»æ‰‹ã€‚\næˆ‘æ°å¥½æœ‰ä¸€ä¸ªæœ‹å‹åœ¨è‹¹æžœå®žä¹ ï¼Œå¥¹å‘Šè¯‰æˆ‘è‹¹æžœæœ‰å‘˜å·¥ä¼˜æƒ è®¡åˆ’ï¼Œå¯ä»¥ä»¥ 85 æŠ˜ç»™å®¶äººæˆ–è€…æœ‹å‹è´­ä¹° MacBookï¼Œä¸è¿‡ä»…é™äºŽå®˜ç½‘æœ‰å–çš„äº§å“ï¼ŒäºŽæ˜¯æˆ‘å¼€å§‹æ€è€ƒè¦ä¸è¦å¹²è„†åŠ é’±æ­£ç»ä¹°ä¸€å°ç¬”è®°æœ¬ç»™è‡ªå·±ç”¨ï¼Œè¿™ä¸­é—´åå¤çš„çº ç»“è¿‡ç¨‹å°±ç•¥è¿‡ä¸æï¼Œæ€»ä¹‹æˆ‘æœ€åŽä¸¤åƒå—é’±å–æŽ‰äº†ä¸€åƒå—é’±è´­å…¥çš„ä¸‡ä¸–æƒæ–ï¼ˆå½“æ—¶å·¥ä½œä¹‹åŽæ‰“ç®—ä¹°ä¸€ä¸ªçŽ©çŽ©ï¼Œæ²¡æƒ³åˆ°æ¶¨äº†ä¸€å€ï¼‰ï¼Œåˆä¸¤åƒå—é’±å–æŽ‰äº†å¾ˆä¹…æ²¡ç”¨è¿‡çš„å°¼åº·å¤§ Fï¼Œç„¶åŽæœ¬ç€ä¹°æ–°ä¸ä¹°æ—§ä¸è¡ŒæŒ‚é—²é±¼çš„é€»è¾‘ä¹°äº† M3 çš„ MacBook Airï¼Œæ¯•ç«Ÿæœ‰ä¸ªåœ¨è‹¹æžœå·¥ä½œçš„æœ‹å‹å¯ä¸å®¹æ˜“ï¼\nä¸€å¼€å§‹æˆ‘æ˜¯æƒ³ä¹° 16G + 256G çš„ç‰ˆæœ¬çš„ï¼Œä½†æ˜¯å‘çŽ° 16G + 512G å¯ä»¥ç›´æŽ¥åŽ» Apple Store æè´§ï¼Œæ€è€ƒå†ä¸‰è¿˜æ˜¯ä¹°äº† 512Gï¼Œç”šè‡³è¿˜åŠ äº† AppleCare+ã€‚ç„¶åŽçœ‹åˆ°åˆå¤œé»‘çš„é…è‰²è™½ç„¶æˆ‘çŸ¥é“è‚¯å®šä¼šç²˜æŒ‡çº¹ä½†æˆ‘è¿˜æ˜¯ä¹‰æ— åé¡¾çš„é€‰äº†ï¼Œç„¶åŽç›´å¥”æœé˜³å¤§æ‚¦åŸŽçš„ Apple Store æäº†ç”µè„‘æœ¬ä½“å’Œè‹¹æžœè´­ç‰©è¢‹ã€‚\nè¿™ä¸ªè¿‡ç¨‹ä¸­å½“ç„¶æœ‰æœ‹å‹è´¨ç–‘æˆ‘ä¸€ä¸ª Linux æ¡Œé¢ç¨‹åºå‘˜ä¸ºä»€ä¹ˆä¼šä¹° MacBook è‡ªå·±ç”¨ï¼Œé™¤äº†ä¸Šé¢é‚£äº›æ¯”è¾ƒç†æ€§çš„åŽŸå› ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸ªåŽŸå› æ˜¯å°±ç®—æ˜¯ Linux æ¡Œé¢ç¨‹åºå‘˜ä¹Ÿä¸æ˜¯ä¸€å‡ºç”Ÿå°±æ˜¯ Linux æ¡Œé¢ç¨‹åºå‘˜ çš„å§ï¼å¤§æ¦‚åå¹´ä»¥å‰æˆ‘è¿˜ä¸æ˜¯ Linux æ¡Œé¢ç¨‹åºå‘˜ï¼ˆç”šè‡³ä¸æ˜¯ç¨‹åºå‘˜ï¼‰çš„æ—¶å€™ï¼Œæˆ‘å¯¹ Retina MacBook Pro çš„å®£ä¼ ç‰‡å°è±¡æ·±åˆ»ï¼š\n\n\næˆ‘ä¹°ç”µè„‘ç¡®å®žæ˜¯çœ‹è„¸çš„ï¼Œå› æ­¤ä¸ç®¡åˆ«çš„ Linux çˆ±å¥½è€…æœ‰å¤šå–œæ¬¢ ThinkPadï¼Œæˆ‘éƒ½å¯¹é‚£çŽ©æ„å—¤ä¹‹ä»¥é¼»ï¼šæ‚¨èƒ½å…ˆè®©è‡ªå·±çœ‹èµ·æ¥åƒæ˜¯ä¸€æ•´å—ä¸œè¥¿å—ï¼Ÿä¸è¿‡æˆ‘çœ‹åˆ°è¿™ä¸ªå®£ä¼ ç‰‡çš„æ—¶å€™å¯èƒ½è¿˜åœ¨ä¸Šåˆä¸­ï¼Œè·ç¦»æˆ‘èƒ½ä¹°å¾—èµ·äº”ä½æ•°ç”µè„‘çœ‹èµ·æ¥ä¸èƒ½è¯´æ˜¯é¥é¥æ— æœŸï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯å¸Œæœ›æ¸ºèŒ«ã€‚è‡³äºŽä¸Šå¤§å­¦ä¹‹å‰èŠ±äº†ä¸¤ä¸‡å—ä¹°äº† Precision 5510 åˆ™æ˜¯åŽè¯äº†ï¼ŒåŽŸå› ä¹Ÿå¾ˆç®€å•ï¼Œå•çº¯æ˜¯ XPS 15 é‚£ä¸ªæ—¶å€™çœ‹è„¸æ¯” MacBook æ›´é…·ï¼Œè€Œä¸”æˆ‘é‚£ä¸ªæ—¶å€™å·²ç»å¼€å§‹ç”¨ Linux äº†ã€‚æ‰€ä»¥å¦‚æžœæ²¡æœ‰ XPS 15ï¼Œæˆ‘å¯èƒ½å°±ä¼šä¹° MacBook Proï¼Œä¸è¿‡å†å›žæƒ³ä¸€ä¸‹ 2016 å¹´åˆ° 2020 å¹´è‹¹æžœåœ¨ MacBook äº§å“çº¿ä¸Šåšäº†å¤šå°‘æ„šè ¢çš„å†³ç­–ï¼ˆæˆ‘ä¼šæŠŠæˆ‘è¿™è¾ˆå­è§è¿‡æœ€è ¢çš„ç¬”è®°æœ¬ç”µè„‘çš„ç§°å·é¢ç»™ New MacBookâ€¦â€¦çœŸæ˜¯åªæœ‰å¤–è§‚è®¾è®¡å®Œå…¨ä¸è€ƒè™‘èƒ½ä¸èƒ½ç”¨çš„é¡¶å³°å•Šï¼‰â€¦â€¦å¯èƒ½æ²¡æœ‰ä¹°è‹¹æžœåè€Œæ˜¯å¹¸è¿ã€‚\nä½†æŠŠæ—¶é—´æ‹¨å›žåˆ° 2012 å¹´ï¼ŒRetina MacBook Pro ç¡®å®žçœ‹èµ·æ¥å¾ˆæ£’ï¼Œç”¨èµ·æ¥ä¹Ÿå¾ˆæ£’ã€‚è€ƒè™‘åˆ°ä½¿ç”¨ M ç³»åˆ—èŠ¯ç‰‡çš„ MacBook Air ç¡®å®žåœ¨ç»­èˆªå’Œæ€§èƒ½ä¹‹é—´æ‰¾åˆ°äº†å¹³è¡¡ç‚¹ï¼Œå¹¶ä¸”è‹¹æžœç¡®å®žé€æ¸ä»Žå½“å¹´åˆ¶é€ æ„šè ¢ç¬”è®°æœ¬çš„é¡¶å³°é€€ä¸‹æ¥ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—æ˜¯æ—¶å€™ä¹°ä¸€å°äº†ï¼Œå°±ç®—æ˜¯ä¸ºäº†å»¶è¿Ÿæ»¡è¶³åå¹´å‰çš„è‡ªå·±ã€‚å°±åƒé€‰æ‹©åˆå¤œé»‘çš„é¢œè‰²ä¹Ÿå¾ˆç®€å•ï¼Œå®ƒå¾ˆåƒåå¹´å‰æˆ‘ç”¨çš„è“é»‘å¢¨æ°´ï¼Œä¸åƒç¢³ç´ å¢¨æ°´é‚£ä¹ˆæ— èŠï¼Œä¹Ÿä¸åƒè“å¢¨æ°´é‚£ä¹ˆè‚¤æµ…ã€‚æˆ‘ä¹Ÿæ²¡æ‰“ç®—è€ƒè™‘ä¹° Windows ç¬”è®°æœ¬è£… Linux çš„é€‰é¡¹ï¼Œå› ä¸ºæ˜¾ç„¶ç»­èˆªä¸Šéš¾ä»¥å’Œ MacBook ç›¸æ¯”ï¼Œè€Œä¸”æŒ‰æˆ‘çœ‹è„¸çš„æ ‡å‡†èƒ½ä¹°çš„ Windows ç¬”è®°æœ¬ä¹Ÿå¥”ç€äº”ä½æ•°åŽ»äº†â€¦â€¦\næ‹¿åˆ°æ‰‹ä¹‹åŽç¡®å®žä¹Ÿæ˜¯æ¯”è¾ƒæ»¡æ„å§ï¼Œé™¤äº†å†…å­˜å’Œç¡¬ç›˜å–é‡‘å­ä»·æ ¼è¿˜æ˜¯è®©æˆ‘å¾ˆä¸çˆ½ï¼Œä»¥åŠåˆ˜æµ·â€¦â€¦è™½ç„¶ä¸€ä¸ªå†™æ’ä»¶æ¶æžè¿‡è¿™ä¸ªåˆ˜æµ·çš„äººä¹°äº†åˆ˜æµ·ç¬”è®°æœ¬è¿™ä»¶äº‹æœ‰ç‚¹è®½åˆºå§ï¼Œä½†æˆ‘æƒ³é—®æ—¢ç„¶å› ä¸ºåˆ˜æµ·åŠ é«˜äº†é¡¶æ ï¼Œä¸ºä»€ä¹ˆè¦ç‰¹æ„æŠŠé¡¶æ åšçš„æ¯”åˆ˜æµ·é«˜ä¸€ç‚¹ç‚¹ï¼å°±ç®—æ˜¯ä¸ºäº†å‘Šè¯‰ç”¨æˆ·åˆ˜æµ·ä¸¤ä¾§æ˜¯è”é€šçš„ï¼Œè¿™ä¸ªè®¾è®¡ä¹Ÿè¶³å¤Ÿé€¼æ­»å¼ºè¿«ç—‡äº†ã€‚\næˆ‘è‡ªå·±çš„åšå®¢ç”Ÿæˆå™¨å› ä¸ºæ˜¯ Node.js å†™çš„æ‰€ä»¥ç›´æŽ¥å°±å¯ä»¥åœ¨ macOS ä¸Šè¿è¡Œï¼ŒEmacs åˆ™ä¸€ç›´ä»¥æ¥å¯¹ macOS æ”¯æŒéƒ½å¥½å¾—è¿‡åˆ†ï¼Œç®€å•ä¿®æ”¹äº† Ansel çš„è„šæœ¬ä¹‹åŽæˆ‘ä¹ŸæˆåŠŸåœ¨ macOS ä¸Šè¿è¡Œäº†ï¼ŒDaVinci Resolve ä¹Ÿæ˜¯è·¨å¹³å°çš„ï¼Œæ‰€ä»¥æˆ‘æœŸæœ›åœ¨ç¬”è®°æœ¬ä¸Šåšçš„ä»»åŠ¡éƒ½è¿˜æ¯”è¾ƒæ–¹ä¾¿ï¼Œæˆ‘ç”šè‡³ä¹Ÿè·‘äº† Tailscale æ–¹ä¾¿æˆ‘éšæ—¶è¿œç¨‹è¿žæŽ¥åˆ° Linux è®¾å¤‡ä¸Šã€‚è™½ç„¶åˆ«äººå¯èƒ½è§‰å¾—æˆ‘æ‰“è‚¿è„¸å……èƒ–å­ä½†æˆ‘è¿˜æ˜¯è¦è¯´æˆ‘è§‰å¾— GNOME æ¡Œé¢çš„ä½¿ç”¨ä½“éªŒæ¯” macOS æ¡Œé¢è¦å¥½ï¼Œæˆ‘åœ¨è‡ªå·±çš„åšå®¢é‡Œå†™è‡ªå·±çš„ä¸»è§‚çœ‹æ³•ä¸æ˜¯å¾ˆè¿‡åˆ†å§ï¼å…¶å®ƒçš„å½“ç„¶å¯ä»¥é€‚åº”ï¼ˆæ¯”å¦‚æˆ‘åœ¨ GNOME é‡ŒæŠŠå…³é—­æŒ‰é’®æ”¹åˆ°å·¦è¾¹äº†ï¼Œæˆ‘ä¸æ˜¯å¾ˆåœ¨ä¹Žè¿™ä¸ªï¼Œç„¶åŽåœ¨ macOS é‡Œé¢ç”¨ Loop å®žçŽ°äº†çª—å£é è¾¹è´´æ”¾ï¼‰ï¼Œä½†ä¸ºä»€ä¹ˆ macOS ä¸èƒ½è‡ªå·±è°ƒæ•´è¾“å…¥æ³•é¡ºåºï¼æˆ‘æƒ³è¦ä¸€ä¸ªå›ºå®šçš„è‡ªå·±è®¾ç½®çš„è¾“å…¥æ³•åˆ—è¡¨æ˜¯ä»€ä¹ˆå¤§é€†ä¸é“çš„äº‹æƒ…å—ï¼Ÿ\nå½“ç„¶å°‘ä¸äº†åŽ»æ˜Ÿå·´å…‹å½“æ°”æ°›ç»„ï¼Œæ¯”å¦‚è¿™ç¯‡åšå®¢å°±æ˜¯åœ¨æ˜Ÿå·´å…‹å†™çš„ï¼š\n\nå…³äºŽä¹°è¿™å°ç¬”è®°æœ¬è¿˜æœ‰ä¸ªå¾ˆæœ‰æ„æ€çš„æ’æ›²æ˜¯ä¸€å¼€å§‹å’Œåœ¨è‹¹æžœçš„æœ‹å‹å¯¹éœ€æ±‚å¯¹äº†åŠå°æ—¶ç»“æžœå¥¹ä»¥ä¸ºæˆ‘è¦ä¹°çš„æ˜¯ iPad Proï¼Œç‰¹åˆ«æ˜¯æˆ‘è¿˜è¯´äº†æˆ‘è¦è·‘ Node.js è¦å†™åšå®¢ iPad Pro å¤ªè ¢äº†ä¹‹åŽï¼Œæˆ‘ä¸çŸ¥é“è¿™ä¸ªå¯¹è¯æ˜¯æ€Žä¹ˆè¿›è¡Œä¸‹åŽ»çš„ï¼Œæˆ‘ä»¬è·¨é¢‘é“èŠå¤©ä¸€ç›´èŠåˆ°å¥¹ä»¥ä¸ºæˆ‘è¦èŠ±ä¸¤åƒå—é’±ä¹°å¦™æŽ§é”®ç›˜â€”â€”æˆ‘æ›¾ç»æ— æ•°æ¬¡çš„æ‰¹è¯„è¿‡è¿™ä¸ªç ´çŽ©æ„ï¼Œæ¯•ç«Ÿ HHKB è¿™ç§é¡¶çº§çš„é™ç”µå®¹é”®ç›˜æˆ‘ä¹Ÿæ‰èŠ±äº†ä¸¤åƒå—â€¦â€¦æˆ‘çœŸçš„æœ‰æ€è€ƒè¦æ˜¯æœ€åŽå¥¹ç»™æˆ‘ä¹°äº† iPad Pro å’Œå¦™æŽ§é”®ç›˜æˆ‘æ˜¯æŽé’±è¿˜æ˜¯ä¸æŽé’±â€¦â€¦\n"},{"title":"Module çš„æ„æ€ä¸æ˜¯ Moduleï¼ŒModule çš„æ„æ€æ˜¯ Config","url":"/posts/Module-Does-Not-Mean-Module-Module-Means-Config/","content":"å¦‚æžœæœ‰å¾—é€‰ï¼Œåœ¨å¼€å§‹ä¸€ä¸ªæ–°é¡¹ç›®ä¹‹å‰æˆ‘æ˜¯æ— è®ºå¦‚ä½•ä¹Ÿä¸ä¼šé€‰æ‹© CMake åšæž„å»ºç³»ç»Ÿçš„ï¼Œæˆ‘ä¸ä¿¡æœ‰ä»»ä½•äººè§‰å¾— CMake çš„è¯­æ³•å¾ˆå‹å¥½å¾ˆå®¹æ˜“è¯»ï¼ŒMeson ç›¸æ¯”ä¹‹ä¸‹æ›´å®¹æ˜“è¯»å†™ï¼Œè€Œä¸”æŒ‰æˆ‘çš„ç»éªŒä¹Ÿæ›´å¥½ç”¨ã€‚ä½†æœ€å¤§çš„é—®é¢˜æ˜¯ Meson å‡ºæ¥çš„å¾ˆæ™šï¼ŒäºŽæ˜¯æœ‰å¤§é‡çš„é¡¹ç›®åœ¨ CMake å·²ç»æµè¡Œè€Œ Meson è¿˜æ²¡å‡ºçŽ°çš„æ—¶é—´é‡ŒæŠŠåŸºäºŽ Autotools çš„æž„å»ºç³»ç»Ÿæ¢æˆäº† CMakeï¼ˆå‰©ä¸‹æ²¡æœ‰æ›´æ¢çš„é‚£äº›å¤šæ•°åœ¨ Meson ç¨³å®šä¹‹åŽæ›´æ¢åˆ°äº† Mesonï¼‰ã€‚æ˜¾ç„¶æŠŠæ‰€æœ‰ CMake é¡¹ç›®é‡å†™æˆ Meson æ˜¯ä¸çŽ°å®žçš„ï¼Œæœ€å¤§çš„å›°éš¾å…¶å®žæ˜¯ CMake è™½ç„¶éš¾ç”¨ï¼Œä½†åœ¨â€œè·¨å¹³å°çš„æž„å»ºç³»ç»Ÿâ€è¿™ä¸€ç‚¹ä¸Šå·²ç»è¶³å¤Ÿç”¨äº†ï¼Œæ‰€ä»¥å¯¹äºŽå·²æœ‰çš„ CMake é¡¹ç›®ï¼Œæˆ‘é€‰æ‹©è¿˜æ˜¯å‡‘åˆç”¨ã€‚\nå®žé™…éœ€è¦æˆ‘æœ¬äººäº²æ‰‹è°ƒæ•´ CMake çš„é¡¹ç›®å¾ˆå°‘ï¼ŒAnsel æ˜¯å…¶ä¸­ä¸€ä¸ªï¼Œå› ä¸ºå½“åˆä»Ž Darktable fork å‡ºæ¥çš„æ—¶å€™æˆ‘å‡ ä¹Žæ˜¯å®Œå…¨åœ°æ•´ç†äº†ä¸€éå®ƒçš„æž„å»ºç³»ç»Ÿï¼Œè€Œæˆ‘ä»Šå¤©æ‰“å¼€ Element å‘çŽ°æ³•å›½è€å“¥åœ¨ç¾¤é‡Œ @ æˆ‘è¯´æ˜¯ MSYS2 çš„ cURL æ›´æ–°åˆ° 8.8.0 å¯¼è‡´æˆ‘ä»¬çš„ CI æž„å»ºä¸äº†äº†è®©æˆ‘å¸®ä»–çœ‹çœ‹ï¼Œè™½ç„¶æˆ‘è‡ªå·±ä¹Ÿä¸æ˜¯å¾ˆæƒ³å†™ CMakeï¼Œä½†ä¸ºäº†é¿å…ä»–ä¸€è¨€ä¸åˆå°±æŠŠä¾èµ–å¤åˆ¶åˆ°é¡¹ç›®æºç é‡Œé¢æˆ‘æ—©å°±è·Ÿä»–è¯´è¿‡è¿™ç§äº‹æƒ…æˆ‘æ›¿ä»–å¤„ç†ï¼Œæ‰€ä»¥è¿˜æ˜¯è¯´åˆ°åšåˆ°ã€‚\næŠ¥é”™å°±æ˜¯ä¸€å † undefined referenceï¼Œæˆ‘ç›´æŽ¥åŽ» Google æœäº†ä¸€ä¸‹æ²¡æœ‰æœåˆ°ä»€ä¹ˆæœ‰ç”¨çš„èµ„æ–™ã€‚åŽ» MSYS2 çš„ issue æœç´¢ curl å€’æ˜¯æœåˆ°äº† https://github.com/msys2/MINGW-packages/issues/21028ï¼Œä¸‹é¢æœ‰äººè¯´æŠŠ CURL_LIBRARIES è¿™ä¸ªå˜é‡æ¢æˆ CURL::libcurl è¿™ä¸ª target å°±å¯ä»¥äº†ã€‚æˆ‘å€’æ˜¯ç†è§£è¿™æ˜¯ä»€ä¹ˆæ„æ€ï¼Œä½†æˆ‘æƒ³çŸ¥é“è¿™æ˜¯æ€Žä¹ˆå›žäº‹ã€‚è¿™ä¸­é—´çš„è¿‡ç¨‹å¯ä»¥è¯´æ˜¯æ›²æŠ˜ç¦»å¥‡ã€‚\né¦–å…ˆæ˜¯åœ¨è¿™é‡Œçœ‹åˆ°æœ‰ç»´æŠ¤è€…è¯´è¿™ä¸ªå¯èƒ½æ˜¯å› ä¸ºä»–ä»¬æŠŠ cURL ä»Ž Autotools æž„å»ºæ¢æˆ CMake æž„å»ºå¯¼è‡´çš„ï¼Œä½†æˆ‘å…¶å®žä¸æ˜¯å¾ˆç†è§£ï¼Œå› ä¸ºæˆ‘å°è±¡é‡Œ CMake æŸ¥æ‰¾ package æ˜¯è°ƒç”¨ Find&lt;PackageName&gt;.cmakeï¼Œæˆ‘åŽ»çœ‹äº†æˆ‘ä»¬é¡¹ç›®æœ¬èº«æ²¡æœ‰æä¾›è¿™ä¸ªæ–‡ä»¶ï¼Œé‚£åº”è¯¥è°ƒç”¨çš„å°±æ˜¯ /usr/share/cmake/Modules/FindCURL.cmake è¿™ä¸ªç”± CMake æœ¬èº«æä¾›çš„æ–‡ä»¶äº†ï¼Œä½†æŠ›å¼€ CMake è¿™ç§ Find æ¨¡å—è°œä¸€æ ·çš„è¯­æ³•ä¸è°ˆï¼Œè¿™ä¸ªæ–‡ä»¶æ˜Žç¡®è®¾ç½®äº† CURL_LIBRARIES å˜é‡ï¼Œé‚£ä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªæ–‡ä»¶æ ¹æœ¬æ²¡æœ‰ç”Ÿæ•ˆï¼Ÿè¿™æ—¶å€™æˆ‘åŽ»ç¿»äº† CMake find_package() çš„æ–‡æ¡£ï¼Œå¥½å®¶ä¼™ï¼Œè¿™çŽ©æ„é™¤äº†æœ‰åŸºç¡€å’Œæ‰©å±•ä¸¤ç§è¯­æ³•ï¼Œè¿˜æœ‰ Module å’Œ Config ä¸¤ç§æŸ¥æ‰¾æ¨¡å¼ï¼ˆå†…å¿ƒä¸€ä¸‡åŒ¹è‰æ³¥é©¬é£žå¥”è€Œè¿‡ï¼‰â€¦â€¦å¦‚æžœæ˜¯ Module æ¨¡å¼ï¼Œå°±ä¼šç”¨ FindCURL.cmake è¿™ä¸ªæ¨¡å—ï¼Œä½†å¦‚æžœæ˜¯ Config æ¨¡å¼ï¼Œå°±ä¼šåŽ»è°ƒç”¨ CURLConfig.cmake è¿™ä¸ªé…ç½®â€¦â€¦è€ŒåŽé¢è¿™ä¸ªé…ç½®é‡Œé¢åªå†™äº† CMake çš„ targetï¼Œæ²¡æœ‰å®šä¹‰ CURL_LIBRARIES è¿™ä¸ªå˜é‡ã€‚\nä½†è¿™æ ·åˆæœ‰ä¸¤ä¸ªç–‘é—®ï¼Œé¦–å…ˆæ˜¯ä¸ºä»€ä¹ˆä¼šæœ‰åŽé¢è¿™ä¸ª Config æ–‡ä»¶å‘¢ï¼Ÿæ¯•ç«Ÿä»¥å‰ä¸€ç›´ç”¨çš„æ˜¯ Moduleï¼Œæˆ‘æ¯”è¾ƒäº† Arch çš„ curl PKGBUILD å’Œ MSYS2 çš„ curl PKGBUILD å¾—å‡ºç»“è®ºï¼šè¿™ä¸ªæ–‡ä»¶æ˜¯ CMake æž„å»ºé¡¹ç›®çš„æ—¶å€™è‡ªåŠ¨åŸºäºŽå½“å‰æ‰€æœ‰çš„ target ç”Ÿæˆçš„ï¼Œå› ä¸º Arch ä½¿ç”¨ Autotools æž„å»ºçš„åŒ…æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ã€‚ä½†ä¸ºä»€ä¹ˆé»˜è®¤ä¼šä½¿ç”¨è¿™ä¸ª Config å‘¢ï¼ŸæŒ‰ç…§ CMake çš„æ–‡æ¡£ï¼ŒConfig ä¼¼ä¹Žæ˜¯ Module çš„ fallbackï¼Œä¹Ÿå°±æ˜¯è¯´åªæœ‰æ²¡æœ‰ Module çš„æ—¶å€™æ‰ä¼šä½¿ç”¨ Configï¼Œæˆ‘ç™¾æ€ä¸å¾—å…¶è§£ã€‚ä½†æ€»ä¹‹è§£å†³æ–¹æ¡ˆå¾ˆç®€å•ï¼Œå¯¹äºŽ Ansel è‡ªå·±ï¼Œæˆ‘ä½¿ç”¨äº†ä¸‹é¢çš„ä»£ç ï¼š\nfind_package(CURL REQUIRED)\nif(TARGET CURL::libcurl)\n  set(CURL_LIBRARIES CURL::libcurl)\nendif()\n\nè¿™æ ·å¯ä»¥ä¿è¯å¯¹ä¸åŒç‰ˆæœ¬çš„å…¼å®¹æ€§ï¼Œè€Œå¯¹äºŽæˆ‘ä»¬è‡ªå·±æž„å»ºçš„ exiv2 ä¾èµ–ï¼Œæˆ‘ä¸€å¼€å§‹æ‰“ç®—ç›´æŽ¥ find_package(CURL MODULE REQUIRED)ï¼Œæ¯•ç«ŸæŒ‰ç…§æ–‡æ¡£è¿™æ ·å¯ä»¥å¼ºåˆ¶å®ƒå¿½ç•¥ Config å˜›ï¼Œä½†ç»“æžœæˆ‘æŽ¨åˆ° CI ä¸Šä»ç„¶æŠ¥é”™ã€‚æˆ‘ä¸æ˜¯å¾ˆç†è§£ï¼Œç›´åˆ°æˆ‘çœ‹äº†ä¸€çœ¼ log å‘çŽ°å®ƒä»ç„¶æ˜¯ç”¨çš„ Configï¼Œæˆ‘å½“æ—¶çœŸçš„éª‚äººäº†ï¼Œæˆ‘ä¸æ˜¯å†™çš„å¾ˆæ¸…æ¥šè¦å¼ºåˆ¶ Module å—ï¼Ÿè¿™åˆ°åº•æ˜¯æ€Žä¹ˆå›žäº‹ï¼Ÿ\nå½“ç„¶å®žé™…ä¸Šè§£å†³æ–¹æ³•æ˜¯æœ‰çš„ï¼Œåªè¦ä½¿ç”¨å‰ä¸€ç§æ–¹æ³•å°±å¯ä»¥äº†ã€‚ä½†æˆ‘å’½ä¸ä¸‹è¿™å£æ°”ï¼Œä¸æŒ‰ç…§æ–‡æ¡£è¯´çš„é¡ºåºå…ˆå°è¯• Module å°±ç®—äº†ï¼Œæˆ‘å¼ºåˆ¶ Module äº†è¿˜æ˜¯ç»™æˆ‘ç”¨ Config æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿä½ çŒœæˆ‘æœ€åŽåœ¨å“ªæ‰¾åˆ°äº†è§£é‡Šï¼Œæ˜¯åœ¨ FindCURL.cmake çš„æ–‡æ¡£é¡µé¢ï¼š\n\nIf CURL was built using the CMake buildsystem then it provides its own CURLConfig.cmake file for use with the find_package() command's config mode. This module looks for this file and, if found, returns its results with no further action.\n\næˆ‘è§‰å¾—ä»»ä½•ä¸€ä¸ªè„‘å­æ­£å¸¸çš„ç¨‹åºå‘˜éƒ½è¯¥éª‚åšå‡ºè¿™ä¸ªæ”¹åŠ¨çš„äººï¼Œé¦–å…ˆä½ æ”¹å˜äº†é»˜è®¤çš„åŠ è½½é¡ºåºä¹Ÿå°±ç®—äº†ï¼Œæˆ‘å¯ä»¥ç†è§£æˆè¿™æ˜¯ä½ ä»¬ CMake ç”¨æˆ·çš„æŸç§éšæ€§çº¦å®šæˆ‘æ–°æ¥çš„æˆ‘ä¸çŸ¥é“ã€‚ä½ ç”¨ Config çš„æ—¶å€™ä¸éµå®ˆ Find&lt;PackageName&gt;.cmake Module çº¦å®šçš„å¯¼å‡ºå˜é‡æˆ‘ä¹Ÿå¿äº†ã€‚ä½†æ˜¯è¯·é—®ä¸ºä»€ä¹ˆæˆ‘åœ¨ æ˜¾å¼æŒ‡å®š äº† MODULE å…³é”®å­—çš„æƒ…å†µä¸‹ï¼Œä»ç„¶ä¼šè¢«ä¸çŸ¥ä¸è§‰çš„æ”¹å˜è¡Œä¸ºï¼Ÿè¿™ä¸ªè¯´æ˜Žè—åœ¨è¿™ä¹ˆå°çš„ä¸“é¢˜é¡µé¢é‡Œï¼Œæ˜¯ç”Ÿæ€•ç”¨æˆ·æžæ¸…æ¥šä¸ºä»€ä¹ˆä»£ç å’Œå®žé™…è¡Œä¸ºå®Œå…¨ç›¸åå—ï¼Ÿå†™è¿™ä¸ªé€»è¾‘çš„äººæœ‰æ²¡æœ‰æ„è¯†åˆ°è‡ªå·±æ˜¯åœ¨å¥½å¿ƒåŠžåäº‹ï¼Ÿ\nè¿™ä¸ª FindCURL.cmake æ˜¯ CMake å®˜æ–¹æä¾›çš„ module ä¹‹ä¸€ï¼Œæ‰€ä»¥ä¹Ÿæ²¡å¿…è¦è¯•å›¾ç”©é”…ç»™å…¶ä»–äººã€‚æ€»ä¹‹æˆ‘åœ¨ä½¿ç”¨ CMake çš„è¿‡ç¨‹ä¸­é™¤äº†è¿·æƒ‘åˆ°éš¾ä»¥é˜…è¯»çš„æ‹¼å†™ä¹ æƒ¯ï¼Œåäººç±»ä¸”å¯èƒ½æ··æ‚ä¸åŒæ—¶æœŸæˆ–è€…ä¸åŒé£Žå‘³ï¼ˆæ¯”å¦‚ find_package() å°±æœ‰ä¸¤ç§è¯­æ³•ï¼‰çš„ APIï¼Œå†™èµ·æ¥å¼¯å¼¯ç»•ç»•çš„çº¦å®šä¹ æƒ¯ï¼ˆæ¯”å¦‚ Find&lt;PackageName&gt;.cmake çº¦å®šå¯¼å‡º &lt;PackageName&gt;_LIBRARIES ç„¶åŽç»å¸¸ä¼šçœ‹åˆ°ä»€ä¹ˆ set(&lt;PackageName&gt;_LIBRARIES &lt;PackageName&gt;_LIBRARY)ï¼‰ä¹‹å¤–ï¼ŒçŽ°åœ¨åˆå¤šäº†ä¸ªå°±ç®—ä½ æ˜¾å¼æŒ‡å®šå‚æ•°è¿˜æ˜¯ä¼šå·å·åšå‡ºç›¸åè¡Œä¸ºçš„ä½“éªŒã€‚æˆ‘ä¸åå¯¹ CMake ç¡®å®žèƒ½ç”¨ï¼Œä½†å’Œ Meson çš„ä½¿ç”¨ä½“éªŒæ¯”èµ·æ¥ï¼Œå†™ CMake ç¡®å®žä¸èƒ½ç®—æ˜¯ä»€ä¹ˆä»¤äººäº«å—çš„äº‹æƒ…ã€‚\n"},{"title":"Pango ä¸­çš„ Ink å’Œ Logical çŸ©å½¢","url":"/posts/Ink-and-Logical-Rectangles-of-Pango/","content":"å¦‚æžœä½ å°è¯•è¿‡è‡ªå·±åœ¨ç¨‹åºé‡Œç»˜åˆ¶ä¸€æ®µå­—ç¬¦ä¸²ï¼Œä½ å°±ä¼šå‘çŽ°ä½ å¾—åˆ°çš„ buffer çš„é«˜åº¦å¹¶ä¸æ€»æ˜¯ä½ è®¾ç½®çš„å­—å·å¤§å°ï¼Œç‰¹åˆ«æ˜¯è‹±æ–‡ã€‚è¿™ä¸ªçŽ°è±¡çš„åŽŸå› æ˜¯è‹±æ–‡åœ¨ä¹¦å†™çš„æ—¶å€™å¹¶ä¸åƒæ±‰å­—ä¸€æ ·é«˜çŸ®éƒ½ä¸€æ ·ï¼Œè€Œæ˜¯æœ‰ä¸Šæœ‰ä¸‹ï¼Œæ¯”å¦‚ g è¿™ä¸ªå­—ç¬¦çš„å°¾å·´æ€»æ˜¯å‘ä¸‹ä¼¸å‡ºæ¥ä¸€ç‚¹ï¼Œè¿™äº›å­—ç¬¦é€šå¸¸æ˜¯åŸºçº¿å¯¹é½çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸»ä½“éƒ¨åˆ†ä¼šèººåœ¨ä¸€æ¡åŸºçº¿ä¸Šï¼Œå°¾å·´å’Œå¤´å‘åˆ™å¯èƒ½ä¼šä¼¸å‡ºæ¥ã€‚è€Œå°±ç®—æ˜¯æ–¹å—é€ åž‹çš„æ±‰å­—ï¼Œå­—ä½“ä¹Ÿå¯èƒ½ä¼šåœ¨ä¸Šä¸‹ç•™ä¸‹ä¸€å®šçš„ç©ºé—´ï¼Œå¯¼è‡´å®žé™…æŽ’ç‰ˆçš„å°ºå¯¸æ¯”è®¾ç½®çš„å­—å·è¦å¤§ã€‚ï¼ˆæˆ‘ä¸æ˜¯ä¸“ä¸šçš„æŽ’ç‰ˆå·¥ä½œè€…æˆ–è€…å­—ä½“è®¾è®¡å¸ˆï¼Œå¦‚æžœè¯´é”™äº†å¸Œæœ›å¤§å®¶æŒ‡æ­£ã€‚ï¼‰\né€šå¸¸æ¥è¯´è¿™ç§å¤šå ç”¨ä¸€ç‚¹ç©ºé—´çš„è¡Œä¸ºä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå› ä¸ºåªæœ‰è¿™æ ·æ¸²æŸ“ä¸€æŽ’å­—ç¬¦çš„æ—¶å€™çœ‹èµ·æ¥æ‰ä¼šæ¯”è¾ƒè‡ªç„¶ã€‚ä½†å‡å¦‚ä½ åƒæˆ‘ä¸€æ ·å¸Œæœ›åœ¨å­—ç¬¦ä¸²å‘¨å›´ç»˜åˆ¶è¾¹æ¡†çš„è¯ï¼Œäº‹æƒ…å°±å˜å¾—éº»çƒ¦èµ·æ¥äº†ï¼Œå¦‚æžœä½ åªæ˜¯æŒ‰ç…§ä½ è®¾ç½®çš„å­—å·å¤§å°åŽ»ç»˜åˆ¶è¾¹æ¡†ï¼Œä½ ä¼šå‘çŽ°è¿™ä¸ªå­—å·å¤§å°è¢« Pango è¿™æ ·çš„æŽ’ç‰ˆåº“å½“ä½œåŸºçº¿ä»¥ä¸Šçš„é«˜åº¦ï¼Œæ‰€ä»¥å­—æ¯çš„å°¾å·´ä¼šå‡ºçŽ°åœ¨è¾¹æ¡†å¤–é¢ï¼Œè¿™æ˜¯ç»˜åˆ¶ä¸‹åˆ’çº¿çš„æ–¹å¼è€Œä¸æ˜¯ç»˜åˆ¶è¾¹æ¡†çš„æ–¹å¼ã€‚å½“ç„¶ä½ å¯ä»¥ä»Ž Pango èŽ·å–ä¸€äº›æœ‰ç”¨çš„æ•°æ®ï¼Œæœ‰ä¸¤ä¸ªçŸ©å½¢å°ºå¯¸å¯ä»¥èŽ·å¾—ï¼Œä¸€ä¸ªæ˜¯ logicalï¼Œè¿™ä¸ªæ˜¯ Pango ç”¨æ¥æŽ’ç‰ˆçš„çŸ©å½¢ï¼Œå®ƒæ˜¯æŒ‰ç…§åŸºçº¿å®‰æŽ’çš„ï¼Œæ‰€ä»¥ä½ ä½¿ç”¨è¿™ä¸ªç»˜åˆ¶ä¼šä¿è¯å­—ç¬¦ä¸»ä½“éƒ½åœ¨ä¸€æ¡ç›´çº¿ä¸Šï¼Œå¤šä¸ªå­—ç¬¦ä¸²ç»˜åˆ¶å‡ºæ¥çš„æ•ˆæžœæ¯”è¾ƒæŽ¥è¿‘ä¹¦å†™çš„ä¹ æƒ¯ï¼Œä¹Ÿå› æ­¤å®ƒçš„ x å’Œ y åæ ‡æ€»æ˜¯ 0ï¼Œæ˜¯ç»˜åˆ¶çš„åŸºå‡†ç‚¹ã€‚å¦ä¸€ä¸ªæ˜¯ inkï¼Œè¿™ä¸ªæ˜¯â€œç€å¢¨â€åŒºåŸŸï¼Œä¹Ÿå°±æ˜¯è¯´æŠŠæ‰€æœ‰å­—ç¬¦åŒ…è¿›åŽ»çš„æœ€å°çŸ©å½¢ï¼Œç”±äºŽå­—ç¬¦ä¹¦å†™çš„æ—¶å€™æ˜¯é”™è½æœ‰è‡´çš„ï¼Œx å’Œ y åæ ‡å¹¶ä¸æ€»æ˜¯ 0ï¼Œè€Œæ˜¯ç›¸å¯¹ logical åŸºå‡†ç‚¹çš„ offsetï¼Œæ¯”å¦‚ä¸€ä¸ªæ–œä½“çš„å­—ç¬¦çš„ x åæ ‡å¾ˆå¯èƒ½æ˜¯è´Ÿæ•°ï¼Œå› ä¸ºä¹¦å†™çš„æ—¶å€™å®ƒæ˜¯å€¾æ–œåˆ°å·¦è¾¹çš„å­—ç¬¦ä¸‹é¢çš„ã€‚\nå¯¹äºŽè¿™ä¸¤ä¸ªçŸ©å½¢ï¼Œå®˜æ–¹æ–‡æ¡£åŸºæœ¬æ²¡æœ‰è§£é‡Šï¼Œè€Œç½‘ä¸ŠæŸ¥åˆ°çš„å¾ˆå¤šè§£é‡Šæ˜¯é”™çš„ï¼Œå®žé™…ä¸Šå¯ä»¥ç”¨ä¸‹é¢çš„ç¨‹åºæŠŠå®ƒä»¬ç»˜åˆ¶å‡ºæ¥ï¼š\n\n\nstatic void draw(GtkDrawingArea *drawing_area, cairo_t *cr, int width, int height, gpointer user_data)\n{\n    PangoLayout *layout = pango_cairo_create_layout(cr);\n    pango_layout_set_ellipsize(layout, PANGO_ELLIPSIZE_NONE);\n    PangoFontDescription *font = pango_font_description_new();\n    pango_font_description_set_family(font, &quot;serif&quot;);\n    pango_font_description_set_style(font, PANGO_STYLE_ITALIC);\n    pango_font_description_set_absolute_size(font, 200 * PANGO_SCALE);\n    pango_layout_set_font_description(layout, font);\n\n    PangoRectangle string_ink;\n    PangoRectangle string_logical;\n    pango_layout_set_text(layout, &quot;g&quot;, -1);\n    pango_layout_get_pixel_extents(layout, &amp;string_ink, &amp;string_logical);\n    g_print(&quot;Logical: x is %d, y is %d, width is %d, height is %d.\\n&quot;, string_logical.x, string_logical.y, string_logical.width, string_logical.height);\n    g_print(&quot;Ink: x is %d, y is %d, width is %d, height is %d.\\n&quot;, string_ink.x, string_ink.y, string_ink.width, string_ink.height);\n\n    cairo_set_source_rgb(cr, 0.3, 0.3, 0.3);\n    cairo_paint(cr);\n\n    const int x = 100;\n    const int y = 100;\n    cairo_move_to(cr, x, y);\n    cairo_set_source_rgba(cr, 1.0, 1.0, 1.0, 1.0);\n    pango_cairo_show_layout(cr, layout);\n\n    cairo_set_line_width(cr, 5);\n    cairo_set_source_rgba(cr, 1.0, 0.0, 0.0, 1.0);\n    cairo_rectangle(cr, x + string_logical.x, y + string_logical.y, string_logical.width, string_logical.height);\n    cairo_stroke(cr);\n\n    cairo_set_source_rgba(cr, 0.0, 0.0, 1.0, 1.0);\n    cairo_rectangle(cr, x + string_ink.x, y + string_ink.y, string_ink.width, string_ink.height);\n    cairo_stroke(cr);\n}\n\nstatic void on_activate(GtkApplication *app, gpointer user_data)\n{\n    GtkWidget *window = gtk_application_window_new (app);\n    gtk_window_set_title(GTK_WINDOW(window), &quot;Test Pango Extents&quot;);\n    gtk_window_set_default_size(GTK_WINDOW(window), 500, 500);\n    GtkWidget *area = gtk_drawing_area_new();\n    gtk_drawing_area_set_draw_func(GTK_DRAWING_AREA(area), draw, NULL, NULL);\n    gtk_window_set_child(GTK_WINDOW(window), area);\n    gtk_window_present(GTK_WINDOW(window));\n}\n\nint main(int argc, char *argv[])\n{\n    GtkApplication *app = gtk_application_new(&quot;one.alynx.test-pango-extents&quot;, G_APPLICATION_DEFAULT_FLAGS);\n    g_signal_connect(app, &quot;activate&quot;, G_CALLBACK(on_activate), NULL);\n    int status = g_application_run(G_APPLICATION(app), argc, argv);\n    g_object_unref(app);\n    return status;\n}\n\" data-info=\"language-c\" data-lang=\"c\" class=\"code-block\">#include &lt;gtk/gtk.h&gt;\n\nstatic void draw(GtkDrawingArea *drawing_area, cairo_t *cr, int width, int height, gpointer user_data)\n{\n    PangoLayout *layout = pango_cairo_create_layout(cr);\n    pango_layout_set_ellipsize(layout, PANGO_ELLIPSIZE_NONE);\n    PangoFontDescription *font = pango_font_description_new();\n    pango_font_description_set_family(font, \"serif\");\n    pango_font_description_set_style(font, PANGO_STYLE_ITALIC);\n    pango_font_description_set_absolute_size(font, 200 * PANGO_SCALE);\n    pango_layout_set_font_description(layout, font);\n\n    PangoRectangle string_ink;\n    PangoRectangle string_logical;\n    pango_layout_set_text(layout, \"g\", -1);\n    pango_layout_get_pixel_extents(layout, &amp;string_ink, &amp;string_logical);\n    g_print(\"Logical: x is %d, y is %d, width is %d, height is %d.\\n\", string_logical.x, string_logical.y, string_logical.width, string_logical.height);\n    g_print(\"Ink: x is %d, y is %d, width is %d, height is %d.\\n\", string_ink.x, string_ink.y, string_ink.width, string_ink.height);\n\n    cairo_set_source_rgb(cr, 0.3, 0.3, 0.3);\n    cairo_paint(cr);\n\n    const int x = 100;\n    const int y = 100;\n    cairo_move_to(cr, x, y);\n    cairo_set_source_rgba(cr, 1.0, 1.0, 1.0, 1.0);\n    pango_cairo_show_layout(cr, layout);\n\n    cairo_set_line_width(cr, 5);\n    cairo_set_source_rgba(cr, 1.0, 0.0, 0.0, 1.0);\n    cairo_rectangle(cr, x + string_logical.x, y + string_logical.y, string_logical.width, string_logical.height);\n    cairo_stroke(cr);\n\n    cairo_set_source_rgba(cr, 0.0, 0.0, 1.0, 1.0);\n    cairo_rectangle(cr, x + string_ink.x, y + string_ink.y, string_ink.width, string_ink.height);\n    cairo_stroke(cr);\n}\n\nstatic void on_activate(GtkApplication *app, gpointer user_data)\n{\n    GtkWidget *window = gtk_application_window_new (app);\n    gtk_window_set_title(GTK_WINDOW(window), \"Test Pango Extents\");\n    gtk_window_set_default_size(GTK_WINDOW(window), 500, 500);\n    GtkWidget *area = gtk_drawing_area_new();\n    gtk_drawing_area_set_draw_func(GTK_DRAWING_AREA(area), draw, NULL, NULL);\n    gtk_window_set_child(GTK_WINDOW(window), area);\n    gtk_window_present(GTK_WINDOW(window));\n}\n\nint main(int argc, char *argv[])\n{\n    GtkApplication *app = gtk_application_new(\"one.alynx.test-pango-extents\", G_APPLICATION_DEFAULT_FLAGS);\n    g_signal_connect(app, \"activate\", G_CALLBACK(on_activate), NULL);\n    int status = g_application_run(G_APPLICATION(app), argc, argv);\n    g_object_unref(app);\n    return status;\n}\n\nä¸‹é¢æ˜¯ç¼–è¯‘å‘½ä»¤ï¼š\n$ gcc -o test-pango-extents `pkg-config --cflags --libs gtk4` test-pango-extents.c\n$ ./test-pango-extents\n\nè¾“å‡ºçš„å°ºå¯¸æ˜¯è¿™æ ·ï¼š\nLogical: x is 0, y is 0, width is 113, height is 265.\nInk: x is -1, y is 102, width is 122, height is 151.\n\nå¾—åˆ°çš„ç»“æžœæ˜¯è¿™æ ·çš„ï¼š\n\nä½†æ˜¯è¿™ä¸¤ä¸ªéƒ½ä¸ç¬¦åˆæˆ‘çš„éœ€æ±‚ï¼Œå› ä¸ºæˆ‘å¸Œæœ›å­—ç¬¦ä¸²æŒ‰ç…§è¾¹æ¡†å¯¹é½è€Œä¸æ˜¯æŒ‰ç…§åŸºçº¿å¯¹é½ï¼ŒåŒæ—¶è¾¹æ¡†çœ‹èµ·æ¥éƒ½ä¸€æ ·é«˜ï¼Œç›´æŽ¥ç»˜åˆ¶ logical çŸ©å½¢å®žé™…ä»ç„¶æ˜¯åŸºçº¿å¯¹é½ï¼Œæ¯”æˆ‘æƒ³è¦çš„å¤§äº†å¾ˆå¤šã€‚è€ŒæŒ‰ç…§ ink ç»˜åˆ¶ä¸èƒ½ä¿è¯è¾¹æ¡†ä¸€æ ·é«˜ã€‚æœ€åŽçš„åšæ³•æ˜¯ä½¿ç”¨ ink çš„å®½åº¦ç»˜åˆ¶è¾¹æ¡†çš„å®½åº¦ï¼Œç„¶åŽåˆ©ç”¨ ink çš„é«˜åº¦é‡æ–°è®¡ç®—ç»˜åˆ¶ä½ç½®å°†å­—ç¬¦æ”¾åœ¨åº•è¾¹ä¸Šï¼Œè¿™é‡Œè¦æ³¨æ„çš„æ˜¯å› ä¸ºé»˜è®¤ç»˜åˆ¶æ˜¯ä»¥ logical çŸ©å½¢å·¦ä¸Šè§’ä½œä¸ºåŸºå‡†ç‚¹ï¼Œéœ€è¦å‡åŽ» ink çŸ©å½¢çš„å·¦ä¸Šè§’ offset æ‰èƒ½ä»Ž ink çš„å·¦ä¸Šè§’å¼€å§‹ç»˜åˆ¶ã€‚å…·ä½“çš„ä¿®æ”¹åœ¨ https://github.com/AlynxZhou/showmethekey/commit/f1a2a5a995d6c224700b376b287c7aaff512d365#diff-295efe2fde895e5fedc8e4194f1be7ba064dc9787643139520f7913541aee1f6ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ã€‚\n"},{"title":"æž„å»ºå’Œè¿è¡Œ Xen HVM å’Œ PV","url":"/posts/Xen-HVM-PV/","content":"è¯·æ³¨æ„æœ¬æ–‡å¹¶ä¸æ˜¯æŽ¨èè¯»è€…ä½¿ç”¨ Xen ä½œä¸ºè™šæ‹ŸåŒ–æ–¹æ¡ˆï¼Œç›¸åï¼ŒKVM æ‰æ˜¯ç›®å‰æ›´åˆé€‚å¤§éƒ¨åˆ†è¯»è€…çš„æ–¹æ¡ˆã€‚\n\nç®€ä»‹\nç”±äºŽå·¥ä½œéœ€è¦ï¼Œæœ€è¿‘æˆ‘éœ€è¦æžä¸€ä¸ª Xen PV æ¥è¿›è¡Œæµ‹è¯•ï¼Œåœ¨æ­¤ä¹‹å‰æˆ‘ä¸€ç›´ä½¿ç”¨ qemu/KVMï¼Œåªæ˜¯å¬è¯´ Xen æ˜¯ KVM ä¹‹å‰æµè¡Œè¿‡çš„è™šæ‹ŸåŒ–æ–¹æ¡ˆã€‚æ¯”èµ·å‡ ä¹Žä»€ä¹ˆéƒ½ä¸éœ€è¦åšäº¤ç»™ libvirt åŒ…åŠžå°±å¯ä»¥çš„ KVMï¼ŒXen çš„è®¾ç½®ç›¸å¯¹è¦å¤æ‚ä¸€ç‚¹ã€‚\n\n\né¦–å…ˆ Xen åˆ†ä¸º HVM å’Œ PV ä¸¤ç§å¸¸è§çš„è™šæ‹Ÿæ–¹æ¡ˆï¼ˆPVH æˆ‘ä¹Ÿæ²¡ç”¨è¿‡ï¼‰ï¼ŒHVM ä¾èµ–äºŽç¡¬ä»¶è™šæ‹ŸåŒ–ï¼Œå’Œå¸¸è§çš„è™šæ‹Ÿæœºæ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œè€Œ PV å¹¶ä¸ä¾èµ–ç¡¬ä»¶è™šæ‹ŸåŒ–ï¼Œæ˜¯é€šè¿‡è™šæ‹Ÿæœº Linux å†…æ ¸ä¸­ç‰¹æ®Šçš„é©±åŠ¨ï¼Œå°†è¯·æ±‚è½¬ç»™å®¿ä¸»æœºçš„å†…æ ¸ä»£ä¸ºæ“ä½œï¼Œä½†é…ç½®èµ·æ¥ä¹Ÿæ›´åŠ å¤æ‚ã€‚ç›®å‰ PV æ‰€éœ€çš„ä»£ç å·²ç»å¹¶å…¥ Linux å†…æ ¸ä¸Šæ¸¸ï¼Œä½ èƒ½å®‰è£…çš„å‘è¡Œç‰ˆå¤§éƒ¨åˆ†éƒ½å¯ä»¥ç›´æŽ¥ä½œä¸º PV çš„è™šæ‹Ÿæœºè¿è¡Œã€‚\næ— è®ºæ˜¯ HVM è¿˜æ˜¯ PVï¼ŒXen éƒ½ç”¨ domUï¼ˆdomain çš„ç¼©å†™ï¼ŒU å¯ä»¥æ˜¯ 1ã€2ã€3â€¦â€¦ï¼‰ä»£è¡¨è™šæ‹Ÿæœºï¼Œç„¶åŽç”¨ dom0 ä»£è¡¨å®¿ä¸»æœºï¼Œå½“ç„¶æ–‡æ¡£é‡Œä¹Ÿä¼šå«å®¿ä¸»æœº Hypervisorï¼Œè¿™é‡Œæˆ‘ä¹Ÿå¯èƒ½ç›´æŽ¥å°†è™šæ‹Ÿæœºå«åš VMã€‚\næž„å»ºå’Œè¿è¡Œ dom0\næ¸©é¦¨æç¤ºï¼šæ ¹æ®æˆ‘çš„ç»éªŒï¼Œåœ¨ Xen Hypervsior ä¸Šè¿è¡Œçš„ GNOME æ¡Œé¢ä¼šç”±äºŽæœªçŸ¥åŽŸå› åœ¨æœªçŸ¥æ“ä½œæ—¶å¡ä½ï¼Œå»ºè®®ä¸è¦ç”¨ä½ å¹³æ—¶ä½¿ç”¨çš„å¼€å‘æœºä½œä¸º Xen Hypervisorï¼Œè€Œæ˜¯å¦æ‰¾ä¸€å°æœºå™¨ä½œä¸ºæœåŠ¡å™¨è¿è¡Œ Xen Hypervisorï¼Œç„¶åŽè¿œç¨‹è¿žæŽ¥ä¸ŠåŽ»æ“ä½œã€‚\n\nå’Œ KVM ä¸éœ€è¦ä»€ä¹ˆæ“ä½œå°±èƒ½ç”¨ä¸ä¸€æ ·ï¼ŒXen éœ€è¦ä½ æž„å»ºä¸€ä¸ªå•ç‹¬çš„ boot loaderï¼Œåœ¨åŠ è½½ Linux å†…æ ¸ä¹‹å‰å…ˆåŠ è½½å®ƒï¼Œä»Žè€Œå®žçŽ° Xen çš„æ”¯æŒã€‚æˆ‘è¿™é‡Œç”¨çš„ Arch Linuxï¼Œéœ€è¦æž„å»º xen è¿™ä¸ª AUR åŒ…ï¼Œæ ¹æ® wiki æ‰€è¯´æŽ¨èç”¨ä¸‹é¢çš„æŒ‡ä»¤æž„å»ºï¼š\n$ build_stubdom=true efi_dir=\"/boot\" makepkg -si\n\næˆ‘è¿™é‡Œç›´æŽ¥æŠŠ ESP æŒ‚è½½åˆ° /bootï¼Œä½ å¯èƒ½éœ€è¦æŒ‰æƒ…å†µä¿®æ”¹ã€‚\nä½ è¿˜éœ€è¦ xen-qemu è¿™ä¸ª AUR åŒ…æä¾› qemu å‰ç«¯å¯¹ Xen çš„æ”¯æŒï¼Œä½†å’Œä¸€èˆ¬çš„ AUR åŒ…ä¸åŒçš„æ˜¯å¦‚æžœä½ ç›´æŽ¥æž„å»ºè¿™ä¸ªåŒ…ï¼Œå¾—åˆ°çš„åŒ…å¾ˆå¯èƒ½å’Œä½ å·²ç»å®‰è£…çš„ qemu æ–‡ä»¶å†²çªã€‚è¿™æ˜¯æˆ‘é‡åˆ°çš„å”¯ä¸€ä¸€ä¸ªå¿…é¡»åœ¨ clean chroot æ‰èƒ½æž„å»ºçš„åŒ…ã€‚ç„¶åŽç”±äºŽå®ƒä¾èµ– xen è¿™ä¸ª AUR åŒ…ï¼Œä½ å¿…é¡»æ‰‹åŠ¨æ“ä½œã€‚\né¦–å…ˆå®‰è£… devtoolsï¼š\n# pacman -S devtools\n\nç„¶åŽåˆ›å»ºä¸€ä¸ªç”¨äºŽæž„å»º clean chroot çš„ç›®å½•ï¼š\n$ mkdir ~/chroot\n\nç„¶åŽåœ¨é‡Œé¢å®‰è£…åŸºç¡€ä¾èµ–ï¼š\n$ mkarchroot ~/chroot/root base-devel\n\nä¸€èˆ¬è¿™æ—¶å€™ chroot é‡Œé¢åº”è¯¥å·²ç»æ˜¯æœ€æ–°çš„äº†ï¼Œä½†ä¹Ÿå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤æ›´æ–°ï¼š\n$ arch-nspawn ~/chroot/root pacman -Syu\n\nç„¶åŽåˆ‡æ¢åˆ°ä½ åŒ…å« xen-qemu çš„ PKGBUILD çš„ç›®å½•ï¼Œä½ å¯èƒ½éœ€è¦çš„ä¸¤ä¸ªä¾èµ–æ˜¯ xen å’Œ numactlï¼Œå‰è€…æˆ‘ä»¬åˆšåˆšæž„å»ºè¿‡ï¼ŒåŽè€…æˆ‘ä»¬å¯ä»¥ç›´æŽ¥ä»Žå®˜æ–¹ä»“åº“é€šè¿‡ pacman -S numactl å®‰è£…ï¼Œç„¶åŽåœ¨å‘½ä»¤è¡Œå‚æ•°é‡ŒæŒ‡å®šè¿™ä¸¤ä¸ªæ–‡ä»¶çš„ä½ç½®ï¼š\n$ makechrootpkg -c -r ~/chroot -I ../xen/xen-4.18.1pre-1-x86_64.pkg.tar.zst -I /var/cache/pacman/pkg/numactl-2.0.18-1-x86_64.pkg.tar.zst\n\nç„¶åŽç”¨ pacman -U xen-qemu-*.tar.pkg.zst å®‰è£…ä½ åˆšåˆšæž„å»ºå¥½çš„åŒ…ï¼Œæ­¤æ—¶åº”è¯¥æ²¡æœ‰æ–‡ä»¶å†²çªäº†ã€‚\nä½ è¿˜éœ€è¦å®‰è£…ä¸‹é¢çš„åŒ…æä¾›è™šæ‹Ÿæœºå†…çš„ BIOS å’Œ UEFI å¼•å¯¼æ”¯æŒï¼š\n# pacman -S seabios edk2-ovmf\n\nç„¶åŽä½ éœ€è¦åŠ è½½æž„å»ºå¥½çš„ Xen boot loaderï¼Œè®©å®ƒåœ¨ Linux å†…æ ¸ä¹‹å‰å¯åŠ¨ï¼Œæˆ‘ä½¿ç”¨çš„ systemd-bootï¼Œæ‰€ä»¥ä¸‹é¢å°±ç®€å•å†™ systemd-boot çš„é…ç½®æ–¹å¼ï¼Œé€»è¾‘ä¸Šæ˜¯å®Œå…¨ä¸€è‡´çš„ï¼Œå¦‚æžœä½ ä½¿ç”¨ GRUBï¼Œå»ºè®®å‚è€ƒ Arch Wikiã€‚\né¦–å…ˆæ·»åŠ ä¸€ä¸ª systemd-boot å¯åŠ¨é¡¹æ–‡ä»¶ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨ /boot/loader/entries/xen.confï¼š\ntitle Xen Hypervisor\nsort-key xen\nefi /xen.efi\n\nå¦‚æžœä½ ä¹Ÿç”¨ systemd-bootï¼Œè¿™ä¸ªæ–‡ä»¶å¯¹ä½ æ¥è¯´åº”è¯¥éžå¸¸ç®€å•ï¼Œæž„å»º xen åŒ…çš„æ—¶å€™å·²ç»å°†æ”¯æŒ EFI çš„ Xen boot loader ä¹Ÿå°±æ˜¯ xen.efi è¿™ä¸ªæ–‡ä»¶å®‰è£…åˆ°äº† ESPï¼Œåªè¦å¼•å¯¼å®ƒå°±å¯ä»¥ã€‚\næŽ¥ä¸‹æ¥æˆ‘ä»¬ç¼–å†™ Xen çš„é…ç½®æ–‡ä»¶è®©å®ƒå¯ä»¥æ­£ç¡®æ‰¾åˆ°ä½ çš„ initramfs å’Œå†…æ ¸ï¼Œå¹¶ä¼ é€’å†…æ ¸å‚æ•°ï¼Œé…ç½®æ–‡ä»¶ xen.cfg éœ€è¦å’Œ xen.efi ä½äºŽåŒä¸€ä¸ªç›®å½•ï¼Œè¿™é‡Œå°±æ˜¯ /boot/xen.cfgï¼š\n[global]\ndefault=xen\n\n[xen]\noptions=console=vga loglvl=all noreboot\nkernel=vmlinuz-linux root=\"UUID=XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\" rootfstype=\"btrfs\" rootflags=\"rw,defaults,noatime,compress=zstd:3,ssd,space_cache,subvolid=257,subvol=/@\" rw add_efi_memmap threadirqs nvidia_drm.modeset=1\nramdisk=initramfs-linux.img\nucode=amd-ucode.img\n\nä»¥ä¸Šçš„å†…æ ¸å‚æ•°æ˜¯æˆ‘æ‰€ç”¨çš„ï¼Œä½ å¯ä»¥ä»Žä½ å½“å‰çš„ boot loader å¯åŠ¨é¡¹æ–‡ä»¶é‡Œå¤åˆ¶å‡ºä½ æ­£åœ¨ç”¨çš„å†…æ ¸å‚æ•°ã€‚å¦‚æžœä½ å¤åˆ¶äº† xen åŒ…è‡ªå¸¦çš„ç¤ºä¾‹æ–‡ä»¶è€Œä¸æ˜¯æˆ‘çš„ï¼Œéœ€è¦æ³¨æ„é‡Œé¢åŒ…å«é™åˆ¶å®¿ä¸»æœºå¯ç”¨å†…å­˜çš„å‚æ•°ï¼Œè¿™æ˜¯ä¸ºäº†é¿å…åœ¨åˆ›å»ºè™šæ‹Ÿæœºæ—¶å†é™åˆ¶å®¿ä¸»æœºå†…å­˜ï¼Œå½±å“å®¿ä¸»æœºå„ç§ç¼“å­˜çš„ç­–ç•¥ï¼Œé»˜è®¤çš„å€¼ç»™çš„å¾ˆå°ï¼Œå¯èƒ½å¯¼è‡´æ— æ³•æ­£å¸¸å¯åŠ¨æ¡Œé¢ï¼Œä½ å¯èƒ½éœ€è¦æ”¹å¤§ä¸€ç‚¹ã€‚ä¸è¿‡å¯¹äºŽæˆ‘ä»¬è¿™ç§ç®€å• debug ç”¨ï¼Œå¯ä»¥ç›´æŽ¥å¿½ç•¥æ­¤å‚æ•°ï¼Œå½±å“ä¸å¤§ã€‚\nç„¶åŽä½ éœ€è¦è®© Xen æ‰€éœ€çš„ä¸€äº›å®ˆæŠ¤è¿›ç¨‹å¼€æœºå¯åŠ¨ï¼š\n# systemctl enable xenconsoled.service xen-init-dom0.service xen-qemu-dom0-disk-backend.service xendomains.service\n\nç„¶åŽé‡å¯ç³»ç»Ÿï¼Œé€‰æ‹©åå­—æ˜¯ Xen Hypervisor çš„å¯åŠ¨é¡¹ï¼Œä½ åº”è¯¥å°±æœ‰ä¸€ä¸ªå¯ä»¥è¿è¡Œ Xen çš„çŽ¯å¢ƒäº†ã€‚\né…ç½®å’Œè¿è¡Œ domU\nç„¶åŽæŒ‰é“ç†è¯´æ—¢ç„¶ Xen å’Œ KVM éƒ½æ˜¯ç”¨ qemu ä½œä¸ºå‰ç«¯ï¼Œé‚£å®Œå…¨å¯ä»¥äº¤ç»™æˆ‘å¸¸ç”¨çš„ virt-manager æ“åŠžä¸€åˆ‡ï¼Œä½†æˆ‘å°è¯•æž„å»ºäº†å¸¦ Xen æ”¯æŒçš„ libvirtï¼Œç»“æžœè¿è¡Œèµ·æ¥å‘çŽ°ç”±äºŽæŸä¸ª bugï¼Œå®ƒå¹¶ä¸èƒ½çœŸçš„æ”¯æŒ Xenï¼Œæ‰€ä»¥åªèƒ½å…¨æ‰‹åŠ¨æ“ä½œäº†ã€‚\næž„å»ºè™šæ‹Ÿæœºç”¨çš„ NAT ç½‘ç»œ\nvirt-manager ä¼šå¸®æˆ‘è‡ªåŠ¨åˆ›å»ºä¸€ä¸ª NAT ç½‘ç»œä½¿å¾—è™šæ‹Ÿæœºä¹‹é—´å¯ä»¥äº’ç›¸è”ç³»å¹¶ä¸”é€šè¿‡å®¿ä¸»æœºè®¿é—®å¤–ç½‘ï¼Œæˆ‘ç›¸ä¿¡å¤§éƒ¨åˆ†äººéƒ½éœ€è¦è®©è™šæ‹Ÿæœºè”ç½‘ï¼Œä½†åªèƒ½æˆ‘è‡ªå·±è§£å†³è¿™ä»¶äº‹äº†ã€‚\nå…·ä½“çš„æ“ä½œåŒ…å«ä»¥ä¸‹å‡ æ­¥ï¼šæ·»åŠ ä¸€ä¸ªæ¡¥æŽ¥æŽ¥å£ï¼›ç„¶åŽç»™å®ƒåˆ†é…ä¸€ä¸ª IPï¼›å†å¼€å¯ç³»ç»Ÿçš„ NAT è½¬å‘ï¼ˆåŒ…å« sysctl å’Œ iptables ä¸¤éƒ¨åˆ†ï¼Œæˆ‘è‡ªå·±ä¹Ÿä¸æ˜¯ iptables é«˜æ‰‹æ‰€ä»¥æˆ‘ä¹Ÿä¸èƒ½ç»™ä½ è§£é‡Šï¼‰ï¼›ç„¶åŽåœ¨è¿™ä¸ªæŽ¥å£ä¸Šå¯åŠ¨ DHCP æœåŠ¡å™¨ï¼Œç»™è™šæ‹Ÿæœºæä¾› IP åœ°å€å’Œ DNS æœåŠ¡å™¨ã€‚è¿™æ ·å°±å®Œæˆäº†å®¿ä¸»æœºçš„éƒ¨åˆ†ï¼ŒXen å¯ä»¥æ ¹æ®è™šæ‹Ÿæœºçš„é…ç½®æ–‡ä»¶è‡ªåŠ¨æŠŠè™šæ‹Ÿæœºæ·»åŠ åˆ°ä½ åˆšæ‰åˆ›å»ºçš„æ¡¥æŽ¥æŽ¥å£ä¸Šã€‚\nä¸ºäº†ç®€åŒ–è¿™ä¸ªæ“ä½œæˆ‘ç¼–å†™äº†ä¸€ä¸ªè„šæœ¬ï¼š\n.\nsysctl net.ipv4.ip_forward=1\niptables -t nat -A POSTROUTING -o &quot;${OUT_IF}&quot; -j MASQUERADE\n\n# Start DHCP server so we don't need to manually assign IP addresses for VMs.\n# `--no-daemon` starts dnsmasq in debug mode, so it won't overload SIGINT.\n# It is hard to prevent `dnsmasq` from listening `127.0.0.1:53` as a DNS server,\n# so just disable its DNS server, and send DNS server to VMs via DHCP.\n# It seems you need to set `--bind-interfaces` with `--interface` to make it\n# bind to a interface only, otherwise it will try to bind to other interfaces\n# and conflict with other dnsmasq instance (if exists).\ndnsmasq --no-daemon \\\n    --port=0 \\\n    --interface=&quot;${BR_IF}&quot; \\\n    --bind-interfaces \\\n    --dhcp-range=&quot;${BR_IP_RANGE}&quot; \\\n    --dhcp-option=&quot;option:dns-server,${BR_DNS}&quot;\n\niptables -t nat -D POSTROUTING -o &quot;${OUT_IF}&quot; -j MASQUERADE\nsysctl &quot;net.ipv4.ip_forward=${FORWARD}&quot;\n\nip link set dev &quot;${BR_IF}&quot; down\nip link delete &quot;${BR_IF}&quot;\n\" data-info=\"language-bash\" data-lang=\"bash\" class=\"code-block\">#!/bin/bash\n\nset -x\n\nOUT_IF=\"${1}\"\nBR_IF=\"${2}\"\nBR_IP=\"192.168.123.1\"\nBR_IP_RANGE=\"192.168.123.100,192.168.123.200\"\nBR_DNS=\"1.1.1.1,8.8.8.8\"\n\n[[ -z \"${OUT_IF}\" ]] &amp;&amp; exit 1\n[[ -z \"${BR_IF}\" ]] &amp;&amp; BR_IF=\"vmbr0\"\n\nip link add name \"${BR_IF}\" type bridge\nip link set dev \"${BR_IF}\" up\n\nip address add dev \"${BR_IF}\" \"${BR_IP}/24\"\n\n# Enable NAT, so VMs can accept Internet.\nFORWARD=$(sysctl --values net.ipv4.ip_forward)\n# See &lt;https://www.karlrupp.net/en/computer/nat_tutorial&gt;.\nsysctl net.ipv4.ip_forward=1\niptables -t nat -A POSTROUTING -o \"${OUT_IF}\" -j MASQUERADE\n\n# Start DHCP server so we don't need to manually assign IP addresses for VMs.\n# `--no-daemon` starts dnsmasq in debug mode, so it won't overload SIGINT.\n# It is hard to prevent `dnsmasq` from listening `127.0.0.1:53` as a DNS server,\n# so just disable its DNS server, and send DNS server to VMs via DHCP.\n# It seems you need to set `--bind-interfaces` with `--interface` to make it\n# bind to a interface only, otherwise it will try to bind to other interfaces\n# and conflict with other dnsmasq instance (if exists).\ndnsmasq --no-daemon \\\n    --port=0 \\\n    --interface=\"${BR_IF}\" \\\n    --bind-interfaces \\\n    --dhcp-range=\"${BR_IP_RANGE}\" \\\n    --dhcp-option=\"option:dns-server,${BR_DNS}\"\n\niptables -t nat -D POSTROUTING -o \"${OUT_IF}\" -j MASQUERADE\nsysctl \"net.ipv4.ip_forward=${FORWARD}\"\n\nip link set dev \"${BR_IF}\" down\nip link delete \"${BR_IF}\"\n\nä½ å¯ä»¥æŠŠè¿™ä¸ªè„šæœ¬ä¿å­˜æˆ mkvmbr0.shï¼Œç„¶åŽ chmod +x mkvmbr0.shï¼Œç„¶åŽç”¨ ip a æŸ¥çœ‹ä½ å½“å‰è”ç½‘æ‰€ç”¨çš„ç«¯å£åï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯ wlp5s0ï¼Œå°±å¯ä»¥ sudo ./mkvmbr0.sh wlp5s0 åˆ›å»ºä¸€ä¸ªè¿è¡Œåœ¨ vmbr0 ç«¯å£ä¸Šçš„ NAT ç½‘ç»œï¼Œè„šæœ¬ä¼šå¯åŠ¨ dnsmasq ä½œä¸º DHCP æœåŠ¡å™¨å¹¶é€šè¿‡ DHCP æœåŠ¡å™¨ç»™è™šæ‹Ÿæœºä¸‹å‘ DNS æœåŠ¡å™¨åœ°å€ï¼Œå¦‚æžœä½ å·²ç»ç”¨å®Œäº†è™šæ‹Ÿæœºï¼ŒCtrl+C æ‰“æ–­ dnsmasq å®ƒå°±ä¼šè¿›è¡ŒåŽç»­çš„æ¸…ç†å·¥ä½œå¹¶é€€å‡ºã€‚\nç¼–å†™ HVM é…ç½®æ–‡ä»¶\nHVM å®žåœ¨æ˜¯æ²¡ä»€ä¹ˆå¤æ‚çš„ï¼Œè¿™ä¹ˆè¯´æ˜¯ç›¸å¯¹äºŽ PV è€Œè¨€ï¼Œæ¯”å¦‚è¯´æž„å»ºä¸€ä¸ª openSUSE Tumbleweed çš„ HVM å¯ä»¥å†™ä¸€ä¸ªå«åš hvm-tumbleweed.cfg çš„æ–‡ä»¶ï¼š\nname = 'hvm-tumbleweed'\nbuilder = 'hvm'\nmemory = 2048\nvcpus = 4\ndisk = [ 'file:/home/alynx/xen/disk-tumbleweed.img,xvda,rw', 'file:/home/alynx/xen/openSUSE-Tumbleweed-DVD-x86_64-Current.iso,sdb:cdrom,r' ]\nvif = [ 'mac=00:16:3e:00:00:02,bridge=vmbr0' ]\nvnc = 1\nvnclisten = '0.0.0.0'\nvncdisplay = 1\n\nè¿™é‡Œæ²¡ä»€ä¹ˆè¦æ³¨æ„çš„ï¼Œæ— éžæ˜¯ bridge= åŽé¢æŽ¥ä½  NAT ç½‘ç»œçš„æ¡¥æŽ¥ç«¯å£ã€‚ä»¥åŠä½ åœ¨é…ç½®æ–‡ä»¶é‡Œå†™ xvda åœ¨è™šæ‹Ÿæœºé‡Œä¼šå˜æˆ sdaï¼Œæ‰€ä»¥ä¸è¦å†å†™å¦ä¸€ä¸ªå«åš sda çš„è®¾å¤‡äº†ã€‚å¦‚æžœä½ æœ‰å¤šä¸ªè™šæ‹Ÿæœºï¼Œè®°å¾—ä¿®æ”¹ MAC åœ°å€å’Œ VNC ç«¯å£ã€‚\nåˆ›å»ºç£ç›˜æ–‡ä»¶å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š\n$ truncate -s 20G disk-tumbleweed.img\n\nç„¶åŽç”¨ä¸‹é¢çš„å‘½ä»¤å°±å¯ä»¥å¯åŠ¨è¿™ä¸ªè™šæ‹Ÿæœºï¼š\n# xl create hvm-tumblweed.cfg\n\nå…¶ä»–çš„å‘½ä»¤å¯ä»¥ç›´æŽ¥ man xl æŸ¥çœ‹æ‰‹å†Œã€‚å¯ä»¥ä½¿ç”¨ vncviewer YOUR_HOST_IP:1 è¿žæŽ¥è™šæ‹Ÿæœºã€‚å…³äºŽè¿™ä¸ªé…ç½®æ–‡ä»¶çš„å…·ä½“è¯­æ³•å¯ä»¥å‚è€ƒ å®˜æ–¹æ–‡æ¡£ã€‚\nç¼–å†™ PV é…ç½®æ–‡ä»¶\nPV æ¯”èµ· HVM å¯å°±å¤æ‚å¤ªå¤šäº†ï¼Œæœ€ç—›è‹¦çš„ä¸€ä¸ªé—®é¢˜æ˜¯ç”±äºŽå®ƒä¸æ˜¯ç¡¬ä»¶è™šæ‹ŸåŒ–ï¼Œæ‰€ä»¥ä½ æ²¡æœ‰åŠžæ³•è¿è¡Œè™šæ‹Ÿæœºç£ç›˜ä¸Šçš„ boot loaderï¼è§£å†³æ–¹æ¡ˆæœ‰ä¸¤ä¸ªï¼Œè¦ä¹ˆæ˜¯ç›´æŽ¥åœ¨é…ç½®æ–‡ä»¶é‡Œå†™å¥½å†…æ ¸å’Œ initramfs çš„è·¯å¾„ï¼ˆè¿™æ ·ä½ å°±å¾—æƒ³åŠžæ³•æŠŠè™šæ‹Ÿæœºçš„å†…æ ¸å’Œ initramfs æžåˆ°å®¿ä¸»æœºç£ç›˜ä¸Šï¼‰ï¼Œè¦ä¹ˆæ˜¯åœ¨å®¿ä¸»æœºä¸Šæž„å»ºä¸€ä¸ª GRUB é•œåƒï¼Œç„¶åŽè®©è¿™ä¸ª GRUB åŽ»æ‰¾è™šæ‹Ÿæœºç£ç›˜é‡Œçš„ grub.cfg å¹¶æ‰§è¡Œï¼Œç„¶åŽå¼•å¯¼è™šæ‹Ÿæœºé‡Œé¢çš„å†…æ ¸ï¼ˆè¿™éƒ½å“ªè·Ÿå“ªå•Šï¼‰ã€‚\nå½“ç„¶ï¼Œå¦‚æžœä½ è™šæ‹Ÿæœºçš„ç³»ç»Ÿå¹¶ä¸ä½¿ç”¨ GRUB ä½œä¸º boot loaderï¼Œé‚£ä½ å°±åªèƒ½ä½¿ç”¨ç¬¬ä¸€ç§æ–¹æ¡ˆäº†ã€‚å¯¹äºŽ openSUSE Tumbleweedï¼Œæˆ‘æ‘¸ç´¢é€šäº†åŽé¢çš„æ–¹æ¡ˆï¼Œå› æ­¤æˆ‘åœ¨è¿™é‡Œä»‹ç»è¿™ä¸ªæ–¹æ¡ˆå¦‚ä½•æ“ä½œã€‚\né¦–å…ˆä½ éœ€è¦å…‹éš† GRUB çš„æºç ï¼Œå› ä¸ºä½ å¾—ä¸“é—¨æž„å»ºä¸€ä¸ªèƒ½åœ¨ Xen è™šæ‹Ÿæœºé‡Œè¿è¡Œçš„ GRUBï¼š\n$ git clone git://git.savannah.gnu.org/grub.git\n\nç„¶åŽæž„å»ºï¼ˆå¦‚æžœä½ çš„ Xen æ˜¯ 32 ä½æœºå™¨ä¸Šçš„ï¼ŒæŠŠ amd64 æ¢æˆ i386ï¼š\n$ ./autogen.sh\n$ ./configure --prefix=/opt/grub-xen --target=amd64 --with-platform=xen\n$ make\n# make install\n\nè¿™ä¼šå°† Xen ç‰ˆæœ¬çš„ GRUB å®‰è£…åˆ° /opt/grub-xenï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦åˆ©ç”¨ GRUB å¯ä»¥å°†ä¸€ä¸ª tar ä½œä¸º memdisk çš„ç‰¹æ€§ï¼Œåœ¨é‡Œé¢å†™ä¸€ä¸ª grub.cfg è®© GRUB åŽ»æŒ‰æˆ‘ä»¬æŒ‡å®šçš„è·¯å¾„æœç´¢å®žé™…çš„ grub.cfg å¹¶åŠ è½½å®ƒï¼ˆåˆ«é—®æˆ‘ä¸ºä»€ä¹ˆï¼Œè¿™é¬¼ä¸œè¥¿ç®€ç›´å¤ªé‚ªé—¨äº†ï¼‰ã€‚\né¦–å…ˆå†™ä¸€ä¸ª grub-bootstrap.cfgï¼Œè¿™ä¸ªæ–‡ä»¶çš„å”¯ä¸€ä½œç”¨å°±æ˜¯è®© GRUB åŠ è½½ memdisk é‡Œé¢çš„ grub.cfgï¼š\nnormal (memdisk)/grub.cfg\n\nç„¶åŽå†™ä¸€ä¸ª grub.cfgï¼Œä¸‹é¢å…³é”®çš„é—®é¢˜æ¥äº†ï¼Œä½ æ€Žä¹ˆçŸ¥é“è¦æœç´¢çš„çœŸæ­£çš„ grub.cfg çš„è·¯å¾„å‘¢ï¼Œå½“ç„¶æ˜¯æƒ³åŠžæ³•æŒ‚è½½å‡ºæ¥è‡ªå·±çœ‹äº†ï¼Œæˆ‘è¿™ä¸ªæ–‡ä»¶é‡Œå†™äº†å¸¸è§çš„å®‰è£…å¥½çš„ç³»ç»Ÿçš„ grub.cfg çš„ä½ç½®å’Œæˆ‘è‡ªå·±çœ‹åˆ°çš„ openSUSE å®‰è£… iso é‡Œé¢çš„ grub.cfg çš„ä½ç½®ï¼Œæ‰€ä»¥å¯ä»¥åŒæ—¶æ”¯æŒå®‰è£…å’Œå¯åŠ¨ç³»ç»Ÿï¼š\nif search -s -f /boot/grub/grub.cfg ; then\n    echo \"Reading (${root})/boot/grub/grub.cfg\"\n    configfile /boot/grub/grub.cfg\nfi\n\nif search -s -f /boot/grub2/grub.cfg ; then\n    echo \"Reading (${root})/boot/grub2/grub.cfg\"\n    configfile /boot/grub2/grub.cfg\nfi\n\nif search -s -f /grub/grub.cfg ; then\n    echo \"Reading (${root})/grub/grub.cfg\"\n    configfile /grub/grub.cfg\nfi\n\nif search -s -f /grub2/grub.cfg ; then\n    echo \"Reading (${root})/grub2/grub.cfg\"\n    configfile /grub2/grub.cfg\nfi\n\nif search -s -f /EFI/BOOT/grub.cfg ; then\n    echo \"Reading (${root})/EFI/BOOT/grub.cfg\"\n    configfile /EFI/BOOT/grub.cfg\nfi\n\nç„¶åŽæŠŠå®ƒæ‰“åŒ…æˆ tarï¼š\n$ tar -cf memdisk.tar grub.cfg\n\nç„¶åŽåˆ›å»ºä¸€ä¸ªæ”¯æŒ Xen çš„åŒ…å«æ‰€æœ‰ GRUB æ¨¡å—çš„ GRUB é•œåƒï¼Œæˆ‘ä»¬å°†æŠŠå®ƒå½“ä½œçœŸæ­£çš„è™šæ‹Ÿæœºçš„ boot loader è¿è¡Œï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š\n$ /opt/grub-xen/bin/grub-mkimage -O x86_64-xen \\\n       -c grub-bootstrap.cfg \\ \n       -m memdisk.tar \\\n       -o grub-x86_64-xen.bin \\\n       /opt/grub-xen/lib/grub/x86_64-xen/*.mod\n\nç„¶åŽä½ å°±å¯ä»¥ç¼–å†™ä¸€ä¸ª pv-tumbleweed.cfg çš„é…ç½®æ–‡ä»¶ï¼š\nname = 'pv-tumbleweed'\nmemory = 2048\nvcpus = 4\nkernel = \"grub-x86_64-xen.bin\"\ndisk = [ 'file:/home/alynx/xen/disk-tumbleweed.img,sda,rw', 'file:/home/alynx/xen/openSUSE-Tumbleweed-DVD-x86_64-Current.iso,sdb:cdrom,r' ]\nvif = [ 'mac=00:16:3e:00:00:01,bridge=vmbr0' ]\nvnc = 1\nvnclisten = '0.0.0.0'\nvncdisplay = 1\n\næ²¡é”™æˆ‘ä»¬è¿™é‡ŒæŠŠæˆ‘ä»¬åˆšåˆšç”Ÿæˆçš„ boot loader ä½œä¸ºå†…æ ¸é¦–å…ˆæ‹‰èµ·æ¥ï¼Œç„¶åŽä¸å‡ºæ„å¤–ä½ åº”è¯¥å°±èƒ½çœ‹åˆ°å®‰è£…ç¨‹åºå¯åŠ¨äº†ï¼Œä½†æ˜¯å¦‚æžœä½ ç«æ€¥ç«ç‡Žçš„ä¸€è·¯ä¸‹ä¸€æ­¥å®‰è£…ï¼Œä½ å°±ä¼šæŽ‰è¿›ä¸‹ä¸€ä¸ªå‘ï¼šopenSUSE é»˜è®¤ä½¿ç”¨ snapper ç®¡ç† btrfs å¿«ç…§ï¼Œé»˜è®¤çš„é…ç½®æ–¹æ¡ˆæŠŠ /boot ä¹Ÿæ”¾åœ¨ btrfs å­å·ä¸Šã€‚è€Œä¸Šæ¸¸çš„ GRUB ä¼šä»Ž btrfs çš„æ ¹å­å·è€Œä¸æ˜¯é»˜è®¤å­å·å¼€å§‹è®¿é—®ï¼Œæˆ‘æ˜¯æ²¡èƒ½æžæ¸…æ¥šè¯¥å¦‚ä½•ç®€å•ç›´æŽ¥çš„è®¿é—® snapper æœ€æ–°çš„å¿«ç…§æ‰€åœ¨çš„å­å·ï¼ŒopenSUSE çš„ GRUB åˆ™æ˜¯æ‰“äº†ä¸€å¤§å † patch è®© GRUB æ”¯æŒæŸ¥æ‰¾å’ŒåŠ è½½é»˜è®¤çš„ btrfs å­å·ã€‚æ€»ä¹‹ä½ ç›´æŽ¥å®‰è£…ä¹‹åŽæˆ‘ä»¬çš„ grub.cfg æ˜¯æŸ¥æ‰¾ä¸åˆ°çœŸæ­£çš„ grub.cfg çš„ï¼Œæœ€ç®€å•çš„æ–¹æ¡ˆå°±æ˜¯å®‰è£…æ—¶å¹²è„†ä¸è¦ç”¨ btrfs ä»Žè€Œä¸ç”¨ snapperï¼Œæˆ–è€…æŠŠ /boot å•ç‹¬åˆ†åŒºå•ç‹¬æ ¼å¼åŒ–å•ç‹¬æŒ‚è½½ã€‚\nç„¶åŽä½ åº”è¯¥å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤å¯åŠ¨å¹¶é“¾æŽ¥åˆ°è™šæ‹Ÿæœºçš„ç»ˆç«¯äº†ï¼š\n# xl create -c pv-tumblweed.cfg\n\nå…³äºŽè¿™ä¸ªé…ç½®æ–‡ä»¶çš„å…·ä½“è¯­æ³•å¯ä»¥å‚è€ƒ å®˜æ–¹æ–‡æ¡£ã€‚\nè¿™ä¸€åˆ‡å€¼å¾—å—ï¼Ÿ\nåœ¨ç»åŽ†è¿™ä¸€ç³»åˆ—ä¸çŸ¥é“æ˜¯ä»€ä¹ˆé¬¼ä¸œè¥¿çš„æ“ä½œä¹‹åŽä½ ç»ˆäºŽæœ‰äº†ä¸€ä¸ªå¯ä»¥ç”¨çš„ Xen PVï¼Œä¹Ÿè®¸å®ƒå”¯ä¸€çš„ä¼˜åŠ¿å°±æ˜¯å¯ä»¥åœ¨æ²¡æœ‰ç¡¬ä»¶è™šæ‹ŸåŒ–çš„æœºå™¨ä¸Šè·‘è™šæ‹Ÿæœºï¼Œä¸ºæ­¤ä½ ä»˜å‡ºçš„ä»£ä»·æ˜¯ä¸€ä¸ªæ²¡æ³•ç”¨æ¡Œé¢çš„å®¿ä¸»æœºï¼Œä¸€ä¸ªè¯´ä¸å®šå“ªä¸ªæ–°ç³»ç»Ÿå°±æ²¡æ³•å¼•å¯¼çš„è™šæ‹Ÿæœº boot loaderã€‚ä½†çŽ°åœ¨çš„è®¾å¤‡æœ‰å‡ ä¸ªæ²¡æœ‰ç¡¬ä»¶è™šæ‹ŸåŒ–æ”¯æŒå‘¢ï¼Ÿè¿™å°±æ„å‘³ç€å¯¹äºŽå¤§å¤šæ•°äººä½ å¯ä»¥ç®€å•åœ°ä½¿ç”¨ qemu/KVM å‡ ä¹Žä¸éœ€è¦ä»»ä½•é¢å¤–çš„é…ç½®ï¼Œå¹¶ä¸”è¿˜æœ‰ virt-manager è¿™æ ·çš„ç¨‹åºå…¨ç¨‹å¸®ä½ å›¾å½¢åŒ–é…ç½®è™šæ‹Ÿæœºå’Œ NAT ç½‘ç»œã€‚\nè€Œæ¯”å¦‚ä½ æƒ³ç”¨ä¸Šé¢çš„åŠžæ³•æ‰‹åŠ¨æž„å»ºç½‘ç»œå¹¶å¯åŠ¨ä¸€äº› SLES Minimal OS æˆ–è€… openSUSE JeOSï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿæ›´ç®€å•ï¼Œé¦–å…ˆåœ¨ /etc/qemu/bridge.conf é‡ŒåŠ å…¥ä¸€è¡Œ allow vmbr0ï¼Œç„¶åŽç”¨ä¹‹å‰çš„ NAT ç½‘ç»œè„šæœ¬ sudo ./mkvmbr0.sh wlp5s0ï¼Œå†ç”¨ä¸‹é¢çš„ qemu å‘½ä»¤ï¼š\n$ qemu-system-x86_64 \\\n    -enable-kvm \\\n    -m 1G \\\n    -smp 1 \\\n    -drive if=virtio,format=qcow2,file=SLES15-SP5-Minimal-VM.x86_64-kvm-and-xen-GM.qcow2 \\\n    -nographic \\\n    -netdev bridge,id=eth0,br=vmbr0 \\\n    -device virtio-net,netdev=eth0\n\nå®ƒä¼šè°ƒç”¨ qemu-bridge-helper è‡ªåŠ¨å°†è™šæ‹ŸæœºåŠ å…¥ä½ æž„å»ºçš„æ¡¥æŽ¥ NAT ç½‘ç»œï¼Œå’Œ Xen æ¯”èµ·æ¥ç®€å•å¾ˆå¤šï¼Œä¹Ÿä¸éœ€è¦é¢å¤–çš„é…ç½®ã€‚å› æ­¤å¦‚æžœä½ åªæ˜¯éœ€è¦ä¸€ä¸ªè‡ªå·±çš„è™šæ‹ŸåŒ–å¹³å°ï¼Œå®Œå…¨æ²¡æœ‰å¿…è¦ä½¿ç”¨å·²ç»ä¸å†æµè¡Œä¸”å¯èƒ½å­˜åœ¨æ›´å¤šé—®é¢˜çš„ Xenï¼Œä½¿ç”¨ KVM å°±è¶³å¤Ÿäº†ã€‚è¿™ç¯‡æ–‡ç« ä»…ä»…æ˜¯ä¸ºäº†åœ¨è¯»è€…ä¸å¾—ä¸éœ€è¦æž„å»ºä¸€ä¸ª Xen çŽ¯å¢ƒ debug æ—¶ä½œä¸ºå‚è€ƒã€‚\n"},{"title":"kmsvnc ä½†æ˜¯æ— å¤´","url":"/posts/Headless-kmsvnc/","content":"ç”±äºŽ Wayland å¹¶ä¸å­˜åœ¨åƒ X11 ä¸€æ ·ä¸€ä¸ªå•ç‹¬ç®¡ç†ç”¨äºŽæœ€ç»ˆæ˜¾ç¤ºçš„ framebuffer çš„è¿›ç¨‹ï¼Œå› æ­¤è¿œç¨‹æ¡Œé¢éœ€è¦å„ä¸ªæ¡Œé¢åšè‡ªå·±çš„å®žçŽ°ã€‚è€Œå› ä¸ºç™»å½•ç•Œé¢å’Œç”¨æˆ·ä¼šè¯ä¸€èˆ¬æ˜¯ä¸¤ä¸ªä¼šè¯ï¼Œè¿œç¨‹ç™»å½•è¿‡ç¨‹ä¸­çš„ä¼šè¯åˆ‡æ¢å°±å˜å¾—éžå¸¸å¤æ‚ï¼Œè™½ç„¶ GNOME Remote Desktop å·²ç»æœ‰äº†ä¸€ä¸ªåˆæ­¥å®žçŽ°ï¼Œä½†æˆ‘å¯¹é‚£ä¸ªçš„é€»è¾‘ä¸æ˜¯å¾ˆæ»¡æ„ï¼Œè€Œä¸”ä»–ä»¬ç›®å‰ä¾èµ– RDP çš„ server rediectionï¼Œæ‰€ä»¥å¹¶ä¸æ”¯æŒ VNCã€‚\næŒ‰ç…§å½“åˆæˆ‘åš Show Me The Key çš„é€»è¾‘ï¼Œå¦‚æžœä¸€æ ·ä¸œè¥¿åœ¨æ··æˆå™¨å±‚é¢ä¸Šä¸å¥½å®žçŽ°ï¼Œé‚£åº”è¯¥è€ƒè™‘åœ¨ä¸‹ä¸€å±‚æ›´ç»Ÿä¸€çš„å±‚é¢ä¸Šå®žçŽ°ï¼Œ@Jerry Xiao è€å¸ˆåšäº†ä¸€ä¸ªå«åš kmsvnc çš„é¡¹ç›®ï¼Œé€šè¿‡ DRM/KMS èŽ·å– framebuffer å¹¶è½¬ç»™ VNC æœåŠ¡å™¨ï¼Œè™½ç„¶å®ƒä¹Ÿæœ‰ä¸€äº›è‡ªå·±çš„å°é—®é¢˜ï¼Œä½†æˆ‘å¾ˆå–œæ¬¢è¿™ä¸ªæ–¹æ¡ˆã€‚\nå®žé™…ä¸Šæˆ‘éœ€è¦ç”¨åˆ°è¿œç¨‹æ¡Œé¢çš„åœºæ™¯ä¸å¤šï¼Œæ¯•ç«Ÿ ssh å¤§éƒ¨åˆ†æ—¶å€™æ›´å¯é ä¹Ÿæ›´é«˜æ•ˆï¼Œä¸è¿‡æœ‰æ—¶å€™éœ€è¦ä¿®æ”¹ NAS ä¸Šä¸€äº›æ¡Œé¢è®¾ç½®çš„æ—¶å€™ä¼šç”¨åˆ°ã€‚ä½†æ­¤æ—¶å°±æœ‰ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘çš„ NAS æ˜¯æ— å¤´ï¼ˆå°±æ˜¯æ²¡æŽ¥æ˜¾ç¤ºå™¨ï¼‰çš„ï¼Œæ²¡æœ‰æ˜¾ç¤ºå™¨çš„æƒ…å†µä¸‹æ¡Œé¢æ²¡æœ‰è¾“å‡ºï¼Œä¹Ÿå°±èŽ·å–ä¸åˆ° framebufferã€‚è¯·æ•™äº† @Jerry Xiao è€å¸ˆä¹‹åŽå¾—çŸ¥å¯ä»¥é€šè¿‡å†…æ ¸å‚æ•°å®žçŽ°å¼ºåˆ¶è®©å†…æ ¸ä»¥ä¸ºæˆ‘ä»¬æœ‰ä¸ªæ˜¾ç¤ºå™¨ï¼Œå°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\nè¿™ä¸ªç›®çš„éœ€è¦ä¸¤ä¸ªå†…æ ¸å‚æ•°ï¼Œåˆ†åˆ«æ˜¯ video= æŒ‡å®šå¼ºåˆ¶å¼€å¯å“ªä¸ªæ˜¾å¡è¾“å‡ºç«¯å£ï¼Œå’Œ drm.edid_firmware= ç»™è¿™ä¸ªç«¯å£æŒ‡å®šä¸€ä¸ª EDID ä»Žè€ŒæŒ‡å®šåˆ†è¾¨çŽ‡ï¼Œæ­£å¸¸çš„æ˜¾ç¤ºå™¨ä¼šé€šè¿‡ç«¯å£æ±‡æŠ¥è‡ªå·±çš„ EDIDï¼Œè€Œæˆ‘ä»¬è¿™é‡Œæ²¡æœ‰ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨æŒ‡å®šã€‚\nå…·ä½“è¿™ä¸¤ä¸ªå‚æ•°éƒ½æ”¯æŒä»€ä¹ˆæˆ‘å°±ä¸ç»†è¯´äº†ï¼Œå› ä¸ºå¾ˆå¤æ‚ï¼Œå»ºè®®è‡ªå·±çœ‹æ–‡æ¡£ã€‚é¦–å…ˆæˆ‘ä»¬å¾—é€‰æ‹©ä¸€ä¸ªæ˜¾å¡å·²ç»æœ‰çš„è¾“å‡ºç«¯å£ç”¨æ¥åšè¿™ä¸ªï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š\n$ for p in /sys/class/drm/*/status; do con=${p%/status}; echo -n \"${con#*/card?-}: \"; cat $p; done\n\nå®ƒä¼šåˆ—å‡ºç«¯å£å’Œå®ƒä»¬çš„è¿žæŽ¥çŠ¶æ€ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œæœ‰ä¸‰ä¸ªï¼š\nDP-1: disconnected\nHDMI-A-1: connected\nHDMI-A-2: disconnected\n\nå¾ˆç¥žå¥‡çš„æ˜¯æˆ‘çš„ä¸»æ¿ä¸Šå®žé™…åªæœ‰ä¸€ä¸ª DP å’Œä¸€ä¸ª HDMIï¼ˆæˆ‘çš„æ˜¯æ ¸èŠ¯æ˜¾å¡ï¼‰ï¼Œç»è¿‡æˆ‘çš„æµ‹è¯•ä¸»æ¿çš„ HDMI è¾“å‡ºæ˜¯ HDMI-A-2ï¼Œè‡³äºŽ HDMI-A-1 åˆ°åº•åœ¨å“ªæˆ‘ä¸æ¸…æ¥šï¼Œå¯èƒ½æ˜¯ USB-Cï¼Œä½†å¦‚æžœå®ƒå¹¶æ²¡æœ‰ç‰©ç†è¾“å‡ºï¼Œé‚£å°±æ›´å¥½äº†ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œé€‰æ‹©å®ƒã€‚å¦å¤–æˆ‘å»ºè®®ä¸è¦é€‰æ‹© DP è¾“å‡ºï¼Œå› ä¸ºå†…æ ¸å†…ç½®çš„ EDID å›ºä»¶ä¼¼ä¹Žå¹¶ä¸æ”¯æŒ DPï¼Œå¯¼è‡´æ— æ³•æŒ‡å®šåˆ†è¾¨çŽ‡ã€‚\nç„¶åŽæˆ‘ä»¬é€šè¿‡ video=\"HDMI-A-1:D\" å¼ºåˆ¶å¼€å¯è¿™ä¸ª HDMI ç«¯å£ï¼Œä¸€èˆ¬ä½ å¯èƒ½ä¼šæŸ¥åˆ°ç”¨ e è¡¨ç¤ºå¼ºåˆ¶å¯ç”¨ä¸€ä¸ªç«¯å£ï¼Œä¸è¿‡ D è¡¨ç¤ºå¼ºåˆ¶å¯ç”¨ä¸€ä¸ªæ•°å­—è¾“å‡ºç«¯å£ï¼Œåº”è¯¥ç”¨å“ªä¸ªéƒ½æ— æ‰€è°“ã€‚ç„¶åŽæˆ‘ä»¬ç”¨ drm.edid_firmware=\"HDMI-A-1:edid/1920x1080.bin\" ç»™è¿™ä¸ªç«¯å£æŒ‡å®šä¸€ä¸ª EDID å›ºä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨å†…æ ¸å†…ç½®çš„ 1920x1080 åˆ†è¾¨çŽ‡çš„å›ºä»¶ï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©å…¶å®ƒå†…ç½®çš„ï¼Œå¯ä»¥åœ¨å†…æ ¸æºç  drivers/gpu/drm/drm_edid_load.c æ–‡ä»¶ä¸­æ‰¾åˆ°å®ƒä»¬çš„åå­—å’Œå†…å®¹ã€‚\nç„¶åŽé‡æ–°å¯åŠ¨ç³»ç»Ÿï¼Œå†ç”¨ä¸Šé¢çš„å‘½ä»¤ï¼Œåº”è¯¥å°±åƒæˆ‘ä¸€æ ·æœ‰ä¸€ä¸ª connected çš„è¾“å‡ºäº†ã€‚ç„¶åŽæˆ‘ä»¬å¯åŠ¨ kmsvncï¼š\n# kmsvnc -p 5901 -b 0.0.0.0 -4 -d /dev/dri/card0\n\nå†ä»Žå¦ä¸€å°æœºå™¨ä¸Šè®¿é—®ï¼š\n$ vncviewer YOUR_SERVER_IP:5901\n\nåº”è¯¥å°±èƒ½çœ‹åˆ°ç™»å½•ç•Œé¢äº†ã€‚ä¸è¿‡å¦‚æžœä½ ä¹Ÿç”¨ GDMï¼Œä½ å¯èƒ½ä¼šå‘çŽ°ç™»å½•ä¹‹åŽå±å¹•ä¸€ç›´æ˜¯ GDM çš„èƒŒæ™¯è‰²æ²¡æœ‰åˆ‡æ¢åˆ°ç”¨æˆ·ä¼šè¯ï¼Œè¿™ä¸ªå…¶å®žæ˜¯å› ä¸º GDM ä¼šé€‰æ‹©å¦ä¸€ä¸ªç©ºé—²çš„ tty å¯åŠ¨ GNOMEï¼Œè€Œ @Jerry Xiao è€å¸ˆè¡¨ç¤ºè¿˜æ²¡æœ‰æ‰¾åˆ°ä¸€ä¸ªæ™®é€‚çš„æ–¹æ¡ˆæ£€æµ‹ tty åˆ‡æ¢ï¼Œæ‰€ä»¥è¿™æ—¶å€™éœ€è¦ä½ æ‰‹åŠ¨ Ctrl+C æ‰“æ–­ kmsvncï¼Œç„¶åŽå†é‡æ–°è¿è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œåº”è¯¥å°±ä¼šé€‰æ‹© GNOME æ¡Œé¢æ‰€åœ¨çš„ plane äº†ã€‚\nå¦‚æžœä½ ä¸æ˜¯åˆšå¼€æœºå°±å¯åŠ¨ kmsvncï¼Œå¯èƒ½ä¼šå‘çŽ°å®ƒæŠ¥å‘Šæ‰¾ä¸åˆ° plane å°±é€€å‡ºäº†ï¼Œè¿™ä¸ªç›®æµ‹æ˜¯å› ä¸º GDM æ£€æµ‹ä¸åˆ°ç”¨æˆ·è¾“å…¥å°±ä¼šè‡ªåŠ¨åœæ­¢æ˜¾ç¤ºå™¨è¾“å‡ºï¼Œåªè¦ systemctl restart gdm é‡æ–°å¯åŠ¨ä¸€ä¸‹ GDM å°±å¯ä»¥äº†ã€‚\n"},{"title":"è°åŠ¨äº†æˆ‘çš„ DNS è§£æžï¼Ÿï¼ˆé‡åˆ¶ç‰ˆï¼‰","url":"/posts/Who-Moved-My-DNS-Resolving-Remastered/","content":"è¿™ä¸€ç¯‡æ˜¯ä¹‹å‰ è°åŠ¨äº†æˆ‘çš„ DNS è§£æžï¼Ÿ çš„é‡åˆ¶ç‰ˆï¼Œå› ä¸ºé‚£ä¸€ç¯‡æ‚ç³…äº†å…³äºŽè®¾ç½® Zeroconf çš„ mDNS çš„éœ€æ±‚å’Œå…³äºŽ Linux ä¸‹é¢ DNS è§£æžåˆ°åº•æ˜¯æ€Žä¹ˆå·¥ä½œçš„æè¿°ï¼Œæˆ‘æ€€ç–‘å¤§éƒ¨åˆ†è¯»è€…å¯¹å‰è€…ä¸æ„Ÿå…´è¶£ï¼ˆå› ä¸ºæˆ‘è‡ªå·±åŽæ¥ä¹Ÿå‘çŽ°è¿™çŽ©æ„ä¸æ˜¯å¾ˆå¯é ï¼‰ï¼Œè€Œæ›´æƒ³äº†è§£åŽè€…ï¼Œæ‰€ä»¥æ‰“ç®—æ‹‰å‡ºæ¥å•å†™ä¸€ç¯‡ã€‚\næ ‡é¢˜æ˜¾ç„¶æ˜¯åŒ–ç”¨è‡ªã€Šè°åŠ¨äº†æˆ‘çš„å¥¶é…ªï¼Ÿã€‹ï¼Œå³ä½¿æˆ‘å¹¶æ²¡æœ‰è¯»è¿‡è¿™æœ¬ä¹¦ã€‚\n\n\nlong long ago\nä¸€èˆ¬è¦è®²æ•…äº‹ï¼Œå¼€å¤´éƒ½æ˜¯â€œå¾ˆä¹…å¾ˆä¹…ä»¥å‰â€¦â€¦â€ï¼Œä¸è¿‡è®¡ç®—æœºé¢†åŸŸä¹Ÿæ²¡ä»€ä¹ˆå¤ªå¤è€çš„æ•…äº‹å¯è®²ï¼Œæ¯•ç«Ÿå…¬è®¤çš„äº’è”ç½‘å‰èº« ARPANET ä¹Ÿå°±æ˜¯äºŒåä¸–çºªçš„äº‹æƒ…ã€‚é‚£ä¸ªæ—¶å€™èƒ½äº’è”çš„æœºå™¨ä¸€å…±ä¹Ÿå°±é‚£ä¹ˆå‡ ä¸ªï¼Œæ‰€ä»¥è§£å†³çš„åŠžæ³•ç®€å•ç²—æš´ï¼šæˆ‘ä»¬æ¯ä¸ªæœºå™¨éƒ½ä¿å­˜ä¸€ä¸ªæ–‡ä»¶ï¼Œé‡Œé¢è®°å½•æ‰€æœ‰äººå¯¹åº”çš„åŸŸåå’Œ IP ä¸å°±è¡Œäº†ï¼Ÿè¿™ä¸ªä¼˜è‰¯ä¼ ç»Ÿä¸€ç›´ç•™äº†ä¸‹æ¥ï¼Œä¹Ÿå°±æ˜¯çŽ°åœ¨æ‰€æœ‰ç³»ç»Ÿé‡Œéƒ½æœ‰çš„ hosts æ–‡ä»¶â€”â€”ä¸ç®¡ä½ å†™çš„å¯¹ä¸å¯¹ï¼Œå®ƒçš„ä¼˜å…ˆçº§éƒ½æ¯”åŽæ¥å‡ºçŽ°çš„ DNS æŸ¥è¯¢è¦é«˜ã€‚\nç„¶åŽéšç€åŠ å…¥ç½‘ç»œçš„æœºå™¨è¶Šæ¥è¶Šå¤šï¼Œè¿™ä¸ªåŠžæ³•ä¸å¥½ç”¨äº†ï¼Œæ¯•ç«Ÿæ¯æ¥ä¸€ä¸ªæ–°äººå°±è¦æ‰€æœ‰äººæ›´æ–°è‡ªå·±çš„æ–‡ä»¶ï¼Œè¿™å¤æ‚åº¦ä¹Ÿå¤ªé«˜äº†ã€‚æ‰€ä»¥å¹²è„†æˆ‘ä»¬æžä¸€ä¸ªé›†ä¸­çš„æœåŠ¡å™¨ä¸“é—¨æ”¾è¿™ä¸ªåˆ—è¡¨ï¼Œå…¶å®ƒæœºå™¨éƒ½å‘å®ƒæŸ¥è¯¢å°±å¥½äº†ï¼Œè¿™å°±æ˜¯ DNS æœåŠ¡å™¨çš„åŽŸç†ã€‚ç„¶åŽåœ¨å±€åŸŸç½‘é‡Œï¼Œä¸€èˆ¬è·¯ç”±å™¨å’Œ DNS æœåŠ¡å™¨ä»¥åŠ DHCP æœåŠ¡å™¨éƒ½æ˜¯åŒä¸€å°æœºå™¨ï¼Œå› ä¸ºå¾ˆè‡ªç„¶çš„æ‰€æœ‰è®¾å¤‡éƒ½ä¼šè¿žåˆ°è·¯ç”±å™¨ä¸Šï¼Œè€Œ DHCP æœåŠ¡å™¨æ°å¥½çŸ¥é“å®ƒåˆ†é…å‡ºåŽ»çš„ IP åœ°å€ï¼Œæ‰€ä»¥å¦‚æžœä½ è¾“å…¥å†…ç½‘è®¾å¤‡çš„ä¸»æœºåæ°å¥½èƒ½è§£æžï¼Œé‚£é€šå¸¸æ˜¯ä½ çš„è·¯ç”±å™¨åšäº†è¿™äº›å·¥ä½œã€‚\nä½†æ—¢ç„¶æœ‰äº† DNS æœåŠ¡å™¨ï¼Œé‚£é—®é¢˜å°±å˜å¾—å¤æ‚èµ·æ¥ï¼Œæ¯”å¦‚æˆ‘è¯¥å°†æˆ‘çš„ DNS æœåŠ¡å™¨è®¾ç½®æˆå“ªä¸€ä¸ªï¼Ÿç‰¹åˆ«åœ°ï¼Œä½ å¯èƒ½ä¼šå‘çŽ°æœ‰å¾ˆå¤šä¸åŒçš„ç¨‹åºåœ¨è¯•å›¾ä¿®æ”¹ä½ çš„ DNS æœåŠ¡å™¨è®¾ç½®ï¼Œå¯¼è‡´ä½ æ‰“å¼€æŸäº›ç½‘ç«™æœ¬è¯¥ç§’å¼€å´ä¸åœåœ°è½¬åœˆåœˆï¼Œäº‹æƒ…ä¸ºä»€ä¹ˆä¼šè¿™ä¹ˆå¤æ‚ï¼Ÿ\nchattr +i /etc/resolv.conf\nå¾ˆå¤š Linux ç”¨æˆ·éƒ½çŸ¥é“ä¿®æ”¹ DNS æœåŠ¡å™¨å¯ä»¥é€šè¿‡ç¼–è¾‘ /etc/resolv.conf å®žçŽ°ï¼Œå¾ˆå¤š Linux ç”¨æˆ·ä¹Ÿè¢« /etc/resolv.conf å›°æ‰°ï¼Œä¸€äº›äººå‘çŽ°è‡ªå·±çš„è¿™ä¸ªæ–‡ä»¶æ˜¯ä¸ªè½¯é“¾æŽ¥ï¼Œè€Œå¦ä¸€äº›äººå‘çŽ°è¿™ä¸ªæ–‡ä»¶æ€»è¢« Network Manager è¦†ç›–ï¼Œè¿˜æœ‰äº›äººçš„å‘è¡Œç‰ˆè®©ä»–ä»¬ç”¨ä¸€ä¸ªå« resolvconf çš„å·¥å…·å¤„ç†ï¼Œç„¶åŽçŽ°åœ¨ systemd åˆæžäº†ä¸ªå« systemd-resolved çš„ä¸œè¥¿æ¥æ’ä¸€è„šâ€¦â€¦æˆ‘è¯´çš„è¿™äº›å·²ç»è¶³å¤Ÿè®©ä¸€äº›ä¸æƒ³å­¦æ–°ä¸œè¥¿åŒæ—¶åˆç¥žç»ç´§å¼ çš„äººå¼€å§‹å¤§å–Šâ€œfuck systemd, fuck network manager, fuck desktop environment and fuck the whole modern worldâ€ç„¶åŽæ‰§è¡Œ chattr +i /etc/resolv.conf äº†ã€‚ä¸è¿‡åˆ«ç€æ€¥å°ç‚¸è¯åŒ…ä»¬ï¼Œä¹Ÿè®¸è¿™ä¸ªä¸–ç•Œä¸Šæ–°å‡ºçŽ°çš„å„ç§ä¸œè¥¿ç›®çš„å¹¶ä¸åªæ˜¯æƒ¹æ¼ä½ ä»¬è¿™ç¾¤å¤§ç¬¨è›‹ï¼Œå“¦æ˜¯çš„ï¼Œæ²¡é”™ï¼Œæˆ‘è¯´ï¼Œå¤§ç¬¨è›‹ï¼Œæé¾™å‹‡å£«ï¼ˆåœåœåœä¸è¦ç¿»è¯‘è…”äº†ï¼‰ï¼Œä½ ä¸éœ€è¦çš„åŠŸèƒ½å¹¶ä¸æ„å‘³ç€åˆ«äººä¹Ÿä¸éœ€è¦ã€‚æ€»ä¹‹ï¼Œä¸è¦è§‰å¾—ä¸–ç•Œéƒ½å›´ç€ä½ è½¬ï¼Œè‡³å°‘è¯»ä¸€ä¸‹è¿™äº›ä¸œè¥¿çš„æ–‡æ¡£ï¼Œä¼šå‘Šè¯‰ä½ æ€Žä¹ˆé˜»æ­¢å®ƒä»¬ä¿®æ”¹ä½ çš„ /etc/resolv.conf çš„ã€‚\nåœ¨ DNS æœåŠ¡å™¨è®¾ç½®è¿™ä»¶äº‹ä¸Šå¹¶ä¸æ˜¯ä¸€ä¸ª /etc/resolv.conf æžå®šæ‰€æœ‰ï¼Œæœ‰å…³è¿™ä¸ªçš„æ•…äº‹ä¹Ÿæ˜¯ long long agoï¼Œä½†æ¯•ç«Ÿæ˜¯ UNIX çºªå…ƒä¹‹åŽçš„äº‹æƒ…ï¼Œæ²¡æœ‰å¤ªä¹…ï¼Œå¤§æ¦‚ç¡®å®žä¸Šå¤æ—¶ä»£çš„ç¨‹åºéƒ½æ˜¯ç›´æŽ¥è¯»è¿™ä¸ªèŽ·å– DNS æœåŠ¡å™¨ç„¶åŽå†åš DNS è§£æžçš„ï¼Œä½†å®žé™…ä¸Šè¿™ä¹Ÿä¸ä¸€å®š OKï¼Œæ¯”å¦‚åƒä¹‹å‰è¯´çš„ hosts æ–‡ä»¶ä¹Ÿéœ€è¦è€ƒè™‘ã€‚æ‰€ä»¥å°±æœ‰äº†æ›´å¤æ‚çš„è§£å†³æ–¹æ¡ˆï¼Œå¤§éƒ¨åˆ†ç¨‹åºåš DNS è§£æžå®žé™…ä¸Šæ˜¯è°ƒç”¨ glibc é‡Œé¢ getaddrinfo è¿™ä¸ª APIï¼Œæ‰€ä»¥åœ¨å®ƒåŽé¢æˆ‘ä»¬å°±å¯ä»¥åšä¸€äº›å·¥ä½œã€‚ä¸€ä¸ªå«åš Name Service Switch çš„ä¸œè¥¿å‘æ˜Žå‡ºæ¥å°±æ˜¯å¹²è¿™ä¸ªçš„ï¼Œå®ƒæ˜¯åŸºäºŽæ’ä»¶çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é˜…è¯» /etc/nsswitch.conf é‡Œé¢çš„ hosts è¿™ä¸€è¡Œæ¥ç†è§£ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œé»˜è®¤æ˜¯è¿™æ ·çš„ï¼š\nhosts: mymachines resolve [!UNAVAIL=return] files myhostname dns\n\nç®€å•ç¿»è¯‘ä¸€ä¸‹çš„è¯æ„æ€å°±æ˜¯æŸ¥è¯¢ä¸€ä¸ªåŸŸåçš„æ—¶å€™é¦–å…ˆçœ‹çœ‹æ˜¯ä¸æ˜¯ systemd-machined çš„å®¹å™¨ï¼ˆmymachines æ¨¡å—ï¼‰ï¼Œä¸æ˜¯çš„è¯å†é—®é—® systemd-resolved èƒ½ä¸èƒ½è§£æžï¼ˆresolve æ¨¡å—ï¼‰ï¼Œå¦‚æžœ systemd-resolved å¯ç”¨ï¼Œé‚£åˆ°è¿™ä¹Ÿå°±å®Œäº‹äº†ï¼ŒåŽé¢çš„å°±ä¸ç®¡äº†ï¼ˆ[!UNAVAIL=return]ï¼‰ï¼Œè‡³äºŽä¸ºä»€ä¹ˆæˆ‘ä¸€ä¼šè§£é‡Šï¼Œç„¶åŽ files æ¨¡å—ä¼šè¯» hosts æ–‡ä»¶ï¼Œæ‰€ä»¥å®ƒä¼˜å…ˆçº§æ€»æ˜¯é«˜äºŽ DNS æœåŠ¡å™¨ï¼Œç„¶åŽçœ‹çœ‹æ˜¯ä¸æ˜¯æœ¬æœºï¼ˆmyhostname æ¨¡å—ï¼‰ï¼Œç„¶åŽå†è¯» /etc/resolv.conf é‡Œé¢çš„ DNS æœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ã€‚\næŒ‰ç…§è¿™ä¸ªé¡ºåºï¼Œå¦‚æžœä½ å¤„åœ¨ä¸€ä¸ªæžå…¶ç®€å•çš„ç½‘ç»œçŽ¯å¢ƒï¼šåªæœ‰ä¸€ä¸ªç½‘ç»œè¿žæŽ¥ï¼ˆè¿™é‡ŒåŒ…å«å„ç§æœ‰çº¿æ— çº¿ VPN éš§é“åœ¨å†…éƒ½åªèƒ½æœ‰ä¸€ä¸ªï¼‰å¹¶ä¸”å®Œå…¨ä¸ä¼šç§»åŠ¨åˆ°å…¶å®ƒç½‘ç»œè¿žæŽ¥ä¸‹ä½¿ç”¨ï¼Œé‚£ç¡®å®žåªè¦åœ¨ /etc/resolv.conf é‡Œé¢å†™æ­»ä¸€ä¸ªå…¬å¼€çš„ DNS æœåŠ¡å™¨å°±å¯ä»¥æ»¡è¶³ä½ çš„æ‰€æœ‰æŸ¥è¯¢éœ€æ±‚ã€‚ä½†å¯æƒœå¹¶ä¸æ˜¯æ‰€æœ‰äººçš„ä½¿ç”¨çŽ¯å¢ƒéƒ½è¿™ä¹ˆç®€å•ï¼Œæ‰€ä»¥æ¯ä¸ªå·¥å…·éƒ½æœ‰é¢å¤–çš„ç­–ç•¥å¹¶è¯•å›¾ä¿®æ”¹ /etc/resolv.confã€‚\nå½“ä½ æ˜¯ä¸ªéœ€è¦æ¥å›žè·‘çš„ç¬”è®°æœ¬ç”¨æˆ·â€¦â€¦\nä¸‹é¢è®©æˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªæ¯”é‚£äº›è§‰å¾—è‡ªå·±æ‰‹æ“ä¸€ä¸ª DHCP å®¢æˆ·ç«¯å°±èƒ½è”ç½‘çš„å¤§è„‘çš®å±‚æžå…¶å…‰æ»‘çš„åªè¦ chattr +i /etc/resolv.conf å°±èƒ½è§£å†³é—®é¢˜çš„å°ç¬¨è›‹ä»¬çš„åœºæ™¯ç¨å¾®å¤æ‚ä¸€ç‚¹çš„åœºæ™¯ï¼šä½ æ˜¯ä¸€ä¸ªèƒŒç€ç¬”è®°æœ¬æ¥å›žè·‘çš„ä¸Šç­æ—ï¼Œå…¬å¸ WiFi å’Œå®¶é‡Œ WiFi çš„ç½‘æ®µå¹¶ä¸ä¸€æ ·ï¼Œè€Œä½ éœ€è¦åœ¨å…¬å¸çš„æ—¶å€™å°† DNS æœåŠ¡å™¨è®¾ç½®ä¸ºå…¬å¸çš„è·¯ç”±å™¨ï¼Œåœ¨å®¶çš„æ—¶å€™å°† DNS æœåŠ¡å™¨è®¾ç½®ä¸ºå®¶çš„è·¯ç”±å™¨ï¼ˆä»€ä¹ˆæ°´æ™¶å®¤å¥³ï¼‰ï¼Œä»¥ä¾¿åœ¨ä¸¤åœ°éƒ½å¯ä»¥é€šè¿‡å†…ç½‘è®¾å¤‡çš„ä¸»æœºåè®¿é—®å¯¹åº”çš„å†…ç½‘è®¾å¤‡ï¼Œæ˜¾ç„¶ä½ ä¸å¯èƒ½é  chattr +i /etc/resolv.conf è§£å†³é—®é¢˜ã€‚\nè¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Network Manager éœ€è¦ä¿®æ”¹ä½ çš„ /etc/resolv.confï¼ˆå…¶å®ƒç½‘ç»œç®¡ç†å™¨æˆ‘å°±ä¸è€ƒè™‘äº†å› ä¸ºæˆ‘æ²¡ç”¨è¿‡ï¼Œè€Œä¸”å¯¹äºŽæ‰€æœ‰è¿™ç§å¯ä»¥å¸®ä½ è‡ªåŠ¨è¿žæŽ¥ WiFi çš„ç½‘ç»œç®¡ç†å™¨è€Œè¨€ï¼Œè®¾ç½® DNS æœåŠ¡å™¨çš„é€»è¾‘éƒ½åº”è¯¥æ˜¯ç›¸åŒçš„ï¼‰ï¼Œå¯¹äºŽæ¯ä¸ªä¸åŒçš„ç½‘ç»œè¿žæŽ¥ï¼Œå®ƒéƒ½ä¼šè®°å½•æˆ–è€…è‡ªåŠ¨èŽ·å–è¯¥å±€åŸŸç½‘çš„ DNS æœåŠ¡å™¨ï¼Œç„¶åŽæ ¹æ®ä½ å½“å‰æ¿€æ´»çš„è¿žæŽ¥æŠŠè¿™ä¸ª DNS æœåŠ¡å™¨å†™å…¥ /etc/resolv.confï¼Œä¿è¯æ— è®ºæ˜¯ä½¿ç”¨ getaddrinfo çš„ç¨‹åºè¿˜æ˜¯è‡ªå·±è¯»å– /etc/resolv.conf çš„è€å¤è‘£ç¨‹åºéƒ½å¯ä»¥èŽ·å–åˆ°æ­£ç¡®çš„å±€åŸŸç½‘ DNS æœåŠ¡å™¨ä»Žè€Œè®¿é—®å†…ç½‘é‡Œçš„è®¾å¤‡ã€‚\nå½“ä½ æ˜¯ä¸ªéœ€è¦æ¥å›žè·‘çš„ç¬”è®°æœ¬ç”¨æˆ·ï¼ŒåŒæ—¶ä½ è¿˜éœ€è¦é€šè¿‡ VPN è¿œç¨‹åŠžå…¬â€¦â€¦\nå¦‚æžœä½ å®Œå…¨ç†è§£äº†ä¸Šé¢é‚£ä¸€æ®µï¼Œæ­å–œä½ å·²ç»è„±ç¦»äº†è‰å±¥è™«è¿›åŒ–æˆäº†è„Šæ¤ŽåŠ¨ç‰©äº†ï¼ä½†ä½ åˆé‡åˆ°äº†æ›´å¤æ‚çš„åœºæ™¯ï¼šä½ çš„å·¥ä½œè¦æ±‚ä½ è¿žæŽ¥å…¬å¸çš„ VPNï¼Œä»Žè€Œé€šè¿‡å†…éƒ¨çš„ DNS æœåŠ¡å™¨è§£æžä¸€äº›å†…ç½‘æ‰èƒ½è®¿é—®çš„ç½‘ç«™ï¼Œå½“ä½ æ‰“å¼€äº† VPN ä¸‹è½½ä¸€äº›å†…ç½‘æ‰èƒ½ä¸‹è½½çš„å·¥å…·æ—¶ä½ æƒ³åŒæ—¶æ”¾ä¸€äº›éŸ³ä¹æ‰“å‘æ—¶é—´ï¼Œä½†ä½ æœ€çˆ±çš„éŸ³ä¹ç½‘ç«™çŽ°åœ¨è¦è½¬ 3 ç§’çš„åœˆæ‰èƒ½è®¿é—®ï¼Network Manager å¯ä»¥å¸®ä½ è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿç­”æ¡ˆæ˜¯åœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥ï¼\nå°è¯•åˆ†æžè¿™ä¸ªæ–°çš„éœ€æ±‚ï¼Œä½ ä¼šå‘çŽ°é—®é¢˜åœ¨äºŽ VPN æœåŠ¡ä¹Ÿè¦è®¾ç½®ä¸€ä¸ª DNS æœåŠ¡å™¨ï¼Œå¦‚æžœä½ çš„ VPN æœåŠ¡å°è¯•è‡ªå·±è¦†ç›– /etc/resolv.confï¼Œé‚£ä¹ˆ Network Manager ä¹‹å‰æŒ‰ç…§ä½ çš„è¿žæŽ¥å¸®ä½ è®¾ç½®çš„â€œæ­£å¸¸çš„â€çš„ DNS æœåŠ¡å™¨å°±ä¼šæ¶ˆå¤±ï¼Œä½ æ‰€æœ‰çš„ DNS è§£æžå°±ä¼šå…¨éƒ¨ç»•åˆ°å…¬å¸å†…ç½‘çš„ DNS æœåŠ¡å™¨ä¸Šè·‘ä¸€åœˆï¼Œå¯¼è‡´æ‰€æœ‰ç½‘ç«™çš„è§£æžéƒ½å˜å¾—å¾ˆæ…¢ã€‚è¿™ä¸ªæ—¶å€™ä½ å¯èƒ½åˆæ‰“ç®—å¤§å–Š chattr +i /etc/resolv.conf é€€åŒ–æˆè‰å±¥è™«ï¼Œä½†è¿™æ ·ä½ å°±æ²¡åŠžæ³•è§£æžå…¬å¸å†…ç½‘çš„åŸŸåäº†ï¼Œä¹Ÿè®¸æ›´å¥½çš„åŠžæ³•æ˜¯åªè®© Network Manager ç®¡ç† /etc/resolv.confã€‚å› ä¸ºå¤§éƒ¨åˆ†çš„ VPN éƒ½å·²ç»æœ‰ Network Manager çš„æ’ä»¶äº†ï¼Œæ‰€ä»¥ä½ åªè¦åœ¨ Network Manager é‡Œæ·»åŠ ä½ çš„ VPN è¿žæŽ¥ï¼Œå®ƒå°±ä¼šåƒç®¡ç† WiFi ä¸€æ ·ç®¡ç†è¿™ä¸ªè¿žæŽ¥ï¼Œæ­¤æ—¶ä½ ä¼šå‘çŽ°ä½ çš„ /etc/resolv.conf é‡Œå·²ç»åŒæ—¶æœ‰äº†å®¶é‡Œè·¯ç”±å™¨çš„ DNS æœåŠ¡å™¨å’Œ VPN çš„ DNS æœåŠ¡å™¨ã€‚\nç†æƒ³çŠ¶æ€ä¸‹ï¼Œä½ çš„ VPN åº”è¯¥ä¼šè‡ªåŠ¨é€šçŸ¥å®¢æˆ·ç«¯å¯¹äºŽå“ªäº›åŸŸåä½¿ç”¨è¿™ä¸ª VPN çš„ DNS æœåŠ¡å™¨æŸ¥è¯¢ï¼Œå¦‚æžœä½ å‹¾é€‰äº†â€œä»…å¯¹æ­¤ç½‘ç»œä¸Šçš„èµ„æºä½¿ç”¨æ­¤è¿žæŽ¥â€çš„è¯ã€‚è¿™æ ·è®¿é—®ä¸åœ¨å†…ç½‘ä¸Šçš„ç½‘ç«™å°±ä¸ä¼šåˆ°è¿™ä¸ª DNS æœåŠ¡å™¨ä¸Šè½¬ä¸€åœˆï¼Œè€Œæ˜¯ç›´æŽ¥è·‘åˆ°â€œæ­£å¸¸â€çš„ DNS æœåŠ¡å™¨ä¸ŠæŸ¥è¯¢ã€‚ä½†å¦‚æžœä¸å¹¸è¿™ä¸ªè‡ªåŠ¨é…ç½®çš„è¿‡ç¨‹å‡ºäº†é—®é¢˜ï¼Œä½ å¯ä»¥é€šè¿‡ nmcli ä¿®æ”¹è¿™ä¸ª VPN è¿žæŽ¥çš„ ipv4.dns-search é¡¹ï¼ŒæŠŠéœ€è¦åœ¨å†…ç½‘æŸ¥è¯¢çš„åŸŸååˆ—è¡¨æ‰‹åŠ¨è®¾ç½®å¥½ã€‚\nå¯¹äºŽç»å¤§éƒ¨åˆ†ç”¨æˆ·ï¼Œè¿™æ ·çš„é…ç½®åº”è¯¥å·²ç»å¯ä»¥æ»¡è¶³ä»–ä»¬äº†ï¼ä½†å®žé™…æƒ…å†µæ°¸è¿œåªæœ‰æ›´å¤æ‚ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜è¦ç»§ç»­ï¼\nå½“ä½ æ˜¯ä¸ªéœ€è¦æ¥å›žè·‘çš„ç¬”è®°æœ¬ç”¨æˆ·ï¼ŒåŒæ—¶ä½ è¿˜éœ€è¦é€šè¿‡ VPN è¿œç¨‹åŠžå…¬ï¼Œä½†ä½ çš„ VPN å¹¶æ²¡æœ‰ Network Manager çš„æ’ä»¶â€¦â€¦\næ¬¢è¿Žåˆšåˆšè¿›åŒ–å®Œæˆçš„çµé•¿ç±»ï¼åç¨³äº†ï¼æˆ‘ä»¬è¦å‘çŽ°ä»£äººçš„æ–¹å‘å†²åˆºäº†ï¼çŽ°åœ¨æˆ‘æœ‰ä¸€ä¸ªæ›´åŠ å¤æ‚çš„éœ€æ±‚ï¼šæˆ‘ç»™è‡ªå·±çš„å„ç§å†…ç½‘è®¾å¤‡æ­å»ºäº†ä¸€ä¸ª VPNï¼Œè¿™æ ·æˆ‘å³ä½¿èº«åœ¨å¤–é¢ä¹Ÿèƒ½è®¿é—®æˆ‘å®¶é‡Œçš„æœåŠ¡å™¨ï¼Œä½†è¿™ä¸ª VPN ä½¿ç”¨ Tailscaleï¼ŒNetwork Manager å¹¶æ²¡æœ‰ç›¸å…³çš„æ’ä»¶ï¼ŒäºŽæ˜¯ Tailscale ä¹Ÿæ¥è¯•å›¾è¦†ç›–æˆ‘çš„ /etc/resolv.confï¼Œå¬ä¸ªéŸ³ä¹åˆéœ€è¦è½¬ 3 ç§’çš„åœˆï¼Œæ€Žä¹ˆåŠžï¼Ÿ\næœ€å¥½åœ¨é‚£è¾¹æ‰‹æ¡ chattr +i /etc/resolv.conf çš„è‰å±¥è™«å˜²ç¬‘ä¹‹å‰å µä¸Šä»–çš„å˜´ï¼Œå› ä¸ºè¿™åŒæ ·ä¼šå¯¼è‡´æˆ‘å¤±åŽ»è§£æž VPN å†…ç½‘åŸŸåçš„èƒ½åŠ›ï¼Œæˆ‘ä»¬æ˜¯çŽ°ä»£äººï¼Œæˆ‘ä»¬è¦ç”¨ systemd-resolved è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\nsystemd-resolved å¹¶ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç®¡ç† /etc/resolv.conf çš„å·¥å…·ï¼Œå®žé™…ä¸Šå®ƒæœ¬èº«æ˜¯ä¸€ä¸ªè‡ªå¸¦ç¼“å­˜çš„ DNS æœåŠ¡å™¨ï¼Œç„¶åŽå‘ä¸ŠæŽ¥ç®¡å„ç§ä¸åŒçš„ DNS æŸ¥è¯¢é€»è¾‘ï¼Œå‘ä¸‹ä¸ºå„ç§éœ€è¦è®¾ç½® DNS æœåŠ¡å™¨çš„å·¥å…·æä¾›æŽ¥å£ã€‚å› æ­¤å¦‚æžœä½ çš„å„ç§ç½‘ç»œè¿žæŽ¥å·¥å…·éƒ½æ”¯æŒ systemd-resolved çš„æŽ¥å£ï¼Œé‚£å®ƒä»¬å°±ä¸éœ€è¦è‡ªå·±ä¿®æ”¹ /etc/resolv.confï¼Œè€Œæ˜¯æ”¹ä¸ºé…åˆ systemd-resolved å·¥ä½œï¼Œæ°å¥½ Network Manager å’Œ Tailscale éƒ½æ”¯æŒ systemd-resolvedã€‚\nåœ¨æŽ¥ç®¡ DNS æŸ¥è¯¢è¿™ä¸ªç›®çš„ä¸Š systemd-resolved æä¾›äº†ä¸‰ç§ä¸åŒçš„æŽ¥å£ï¼šé¦–å…ˆæ˜¯è‡ªå·±å®žçŽ°äº†ä¸€ä¸ª D-Bus æŽ¥å£ï¼Œå…¶å®ƒç¨‹åºå¯ä»¥é€šè¿‡è¿™ä¸ªæŽ¥å£æ¥å®žçŽ°ã€‚ç„¶åŽæ˜¯åœ¨ Name Service Switch é‡Œæ·»åŠ äº†å±žäºŽè‡ªå·±çš„æ¨¡å—ä»¥æŽ¥ç®¡ getaddrinfoï¼Œå¦‚æžœæ£€æµ‹åˆ° systemd-resolved å·²å¯ç”¨ï¼Œé‚£å®ƒçš„ç¼“å­˜ DNS æœåŠ¡å™¨å°±ä¼šæŽ¥ç®¡æ‰€æœ‰çš„å¤„ç†ï¼ŒåŒ…æ‹¬ hosts å’Œ hostnameï¼Œä»¥åŠå¦‚æžœæ²¡æœ‰ç¼“å­˜åˆ°ï¼Œå°±ä¼šä¸»åŠ¨å‘ä¸Šçº§ DNS æœåŠ¡å™¨æŸ¥è¯¢ï¼Œå› æ­¤åœ¨ /etc/nsswitch.conf é‡Œé¢å†™äº†å¦‚æžœæ£€æµ‹åˆ° systemd-resolved å°±ç›´æŽ¥è¿”å›žï¼Œè·³è¿‡åŽé¢çš„æ¨¡å—ã€‚æœ€åŽå¯¹äºŽé‚£äº›è‡ªå·±è¯»å– /etc/resolv.conf çš„è€å¤è‘£ï¼Œå®ƒä¹Ÿä¼šä¿®æ”¹è¿™ä¸ªæ–‡ä»¶æŽ¥ç®¡è¿™ç±»ç¨‹åºï¼Œè¿™æ—¶è¿™ä¸ªæ–‡ä»¶åªæ˜¯ä¸ªè½¯é“¾æŽ¥ï¼Œé‡Œé¢åªæœ‰ä¸€å¥å°±æ˜¯æŠŠ DNS æœåŠ¡å™¨è®¾ç½®ä¸º systemd-resolved è‡ªå·±çš„ DNS ç¼“å­˜æœåŠ¡å™¨ã€‚\nå¦‚æžœä½ è¦å¯ç”¨ systemd-resolvedï¼ŒåŠ¡å¿…ä¿è¯ä½ çš„ /etc/resolv.conf æ˜¯æŒ‡å‘ systemd-resolved ç®¡ç†çš„æ–‡ä»¶çš„è½¯é“¾æŽ¥ï¼š\n# ln -sf ../run/systemd/resolve/stub-resolv.conf /etc/resolv.conf\n\nè¿™æ ·å¦‚æžœ Network Manager å’Œ Tailscale å¯åŠ¨æ—¶æ£€æµ‹åˆ° /etc/resolv.conf æ˜¯è½¯é“¾æŽ¥ï¼Œå°±ä¼šçŸ¥é“è‡ªå·±éœ€è¦é…åˆ systemd-resolved å·¥ä½œï¼ˆå¦‚æžœä½ æ­£åœ¨é…ç½®è¿™ä¸ªï¼Œé‚£å°±æ‰‹åŠ¨é‡å¯å®ƒä»¬ï¼ï¼‰ã€‚æ­¤æ—¶æ‰§è¡Œ resolvectl statusï¼Œåº”è¯¥èƒ½çœ‹åˆ°å¯¹äºŽä¸åŒçš„ç½‘ç»œæŽ¥å£ï¼Œéƒ½é…ç½®äº†ä¸åŒçš„ DNS æœåŠ¡å™¨ï¼Œä»¥åŠéœ€è¦é€šè¿‡è¿™ä¸ªæœåŠ¡å™¨æŸ¥è¯¢çš„åŸŸåï¼ˆå¦‚æžœä½ é…ç½®è¿‡çš„è¯ï¼ï¼‰ã€‚\nå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ systemd-resolved çš„é…ç½®æ·»åŠ ä¸€ä¸ªå…¨å±€çš„ DNS æœåŠ¡å™¨ã€‚systemd-resolved æ”¯æŒ unicastï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æžœä½ æŸ¥è¯¢çš„åŸŸåä¸ç¬¦åˆä»»ä½•ä¸€ä¸ªç½‘ç»œæŽ¥å£è®¾ç½®çš„è¦é€šè¿‡è¿™ä¸ªæŽ¥å£çš„ DNS æœåŠ¡å™¨æŸ¥è¯¢çš„åŸŸåçš„è¯ï¼Œå®ƒå°±ä¼šé€šè¿‡æ‰€æœ‰ç½‘ç»œæŽ¥å£çš„ DNS æœåŠ¡å™¨æŸ¥è¯¢ï¼ˆä¹ŸåŒ…å«ä½ è®¾ç½®çš„å…¨å±€ DNS æœåŠ¡å™¨ï¼‰ï¼Œç„¶åŽå–æœ€å¿«è¿”å›žçš„ç»“æžœã€‚\nå½“ä½ æ˜¯ä¸ªéœ€è¦æ¥å›žè·‘çš„ç¬”è®°æœ¬ç”¨æˆ·ï¼ŒåŒæ—¶ä½ è¿˜éœ€è¦é€šè¿‡ VPN è¿œç¨‹åŠžå…¬ï¼Œä½†ä½ çš„ VPN å¹¶æ²¡æœ‰ Network Manager çš„æ’ä»¶ï¼Œå®ƒä¹Ÿä¸æ”¯æŒ systemd-resolvedâ€¦â€¦\næˆ‘ä»¬çš„å£å·æ˜¯ä¸åšè‰å±¥è™«ï¼å®žé™…ä¸Šè¿™ç§åœºæ™¯å·²ç»éžå¸¸éžå¸¸å°‘è§äº†ï¼Œç»å¤§å¤šæ•°çš„åœºæ™¯éƒ½èƒ½è¢« Network Manager + systemd-resolved è¦†ç›–ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆè¶Šæ¥è¶Šå¤šçš„é€šç”¨å‘è¡Œç‰ˆéƒ½ä½¿ç”¨è¿™ä¸€å¥—è¿›è¡Œç½‘ç»œç®¡ç†å’Œ DNS è§£æžçš„åŽŸå› ã€‚ä½†å¦‚æžœä½ çœŸçš„é‡åˆ°äº†ï¼Œä¹Ÿè®¸ä½ å¬è¯´è¿‡ä¸€ä¸ªå«åš resolvconf çš„å·¥å…·ï¼Œåœ¨ä»¥å‰æŸäº›å‘è¡Œç‰ˆä¼šé¢„è£…å®ƒã€‚å®ƒçš„é€»è¾‘ä¼¼ä¹Žå°±æ˜¯æœ‰å„ç§ç¨‹åºéƒ½æ‰“ç®—è‡ªå·±ä¿®æ”¹ /etc/resolv.confï¼Œé‚£ä½ ä»¬å¹²è„†éƒ½åˆ«ç®¡äº†ï¼Œæˆ‘æ¥ç®¡ï¼Œå¬æˆ‘çš„ï¼ˆçŽ°åœ¨æœ‰ N + 1 ç§è§£å†³æ–¹æ¡ˆäº†ï¼‰ã€‚è‡³äºŽå®ƒåˆ°åº•æ˜¯æ€Žä¹ˆå·¥ä½œçš„ï¼Œå¦‚ä½•é…ç½®ï¼Œè¿™äº›éƒ½åˆ«é—®æˆ‘ï¼å› ä¸ºæˆ‘ä¹Ÿæ²¡æœ‰ç”¨è¿‡ï¼æˆ‘è§‰å¾—ä½ ä¸å¦‚åŽ»å»ºè®®ä¸æ”¯æŒ systemd-resolved çš„é¡¹ç›®æ”¯æŒ systemd-resolved æ¯”è¾ƒå®žé™…â€¦â€¦\næ€»ä¹‹æ— è®ºå¦‚ä½•å¦‚æžœä½ æœåˆ°ä¸€ç¯‡è€æ—§çš„æ•™ç¨‹å‘Šè¯‰ä½ è®¾ç½®è¿™ä¸ª resolvconfï¼Œé‚£ä½ éƒ½è¯¥ç•™ä¸ªå¿ƒçœ¼æŸ¥ä¸€ä¸‹ï¼Œä¸‡ä¸€ä½ è¿™ä¸ªéœ€æ±‚å·²ç»å¯ä»¥ç”¨ Network Manager çš„æ’ä»¶æˆ–è€…å®ƒå·²ç»æ”¯æŒ systemd-resolved äº†å‘¢ï¼Ÿ\nå¤ªé•¿ä¸çœ‹ï¼\næˆ‘å‡†å¤‡äº†ä¸€å¼ å›¾ï¼Œè®©ä½ çŸ¥é“ DNS è§£æžåœ¨ Linux ä¸Šéƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Œä»¥åŠ Network Manager å’Œ systemd-resolved å„è‡ªéƒ½æ‰®æ¼”ä»€ä¹ˆè§’è‰²â€¦â€¦\n\n"},{"title":"ä½¿ç”¨ Headscale å’Œ Tailscale æž„å»ºè™šæ‹Ÿä¸“ç”¨ç½‘","url":"/posts/Build-VPN-with-Headscale-and-Tailscale/","content":"éœ€æ±‚\nå¾ˆå¤šåœ¨å®¶é‡Œè£…äº† NAS çš„äººéƒ½æœ‰ä¸€ä¸ªç›¸ä¼¼çš„éœ€æ±‚ï¼Œé‚£å°±æ˜¯å‡ºé—¨åœ¨å¤–å¦‚ä½•è®¿é—®å†…ç½‘çš„ NAS ä¸Šè¿è¡Œçš„æœåŠ¡ã€‚å¾ˆå¤šäººä¼šé€‰æ‹©å…¬ç½‘ IP + ç«¯å£æ˜ å°„æŠŠéœ€è¦çš„æœåŠ¡ç›´æŽ¥æš´éœ²åˆ°å…¬ç½‘ä¸Šï¼Œæˆ–è€…é€šè¿‡å…¬ç½‘çš„ VPS è¿›è¡Œåå‘ä»£ç†ã€‚ä½†è¿™äº›æˆ‘éƒ½ä¸æ”¾å¿ƒï¼Œé¦–å…ˆæˆ‘çš„ç›®çš„åªæ˜¯è‡ªå·±è®¿é—®ï¼Œè€Œä¸æ˜¯ç»™åˆ«äººè®¿é—®ï¼Œå…¶æ¬¡å¯¹äºŽä¸€äº›ç®€æ˜“çš„ WebUIï¼Œæš´éœ²åœ¨å…¬ç½‘ä¸Šä¹Ÿå®¹æ˜“è¢«æ— èŠçš„äººæ‰«ç«¯å£å¹¶å°è¯•å…¥ä¾µã€‚å®žé™…ä¸Šè¿™ä¸ªéœ€æ±‚æ›´å€¾å‘äºŽ VPNï¼ˆè¿™é‡ŒæŒ‡çš„æ˜¯å®ƒæœ¬æ¥çš„æ„æ€ä¹Ÿå°±æ˜¯è™šæ‹Ÿä¸“ç”¨ç½‘ï¼Œè€Œä¸æ˜¯ä½›è·³å¢™ï¼‰ï¼Œæˆ‘æ›¾ç»å°è¯•è¿‡ä½¿ç”¨ WireGuard å’Œå…¬ç½‘ VPS æž„å»ºä¸€ä¸ªç®€å•çš„ VPNï¼Œä½†æ•ˆæžœå¹¶ä¸å¥½ï¼Œé¦–å…ˆæ˜¯æˆ‘çš„ VPS å¹¶ä¸åœ¨å›½å†…ï¼Œä½œä¸ºæ‰€æœ‰æµé‡çš„ä¸­ç»§å®žåœ¨æ˜¯å¤ªä¸åˆé€‚ï¼Œå®žé™…ä½¿ç”¨èµ·æ¥å‡ ä¹Žå¡åˆ°ä¸èƒ½è‡ªç†ï¼Œå…¶æ¬¡æ˜¯ WireGuard ç”¨ä½œ VPN æœåŠ¡å™¨çš„è¯éœ€è¦æŠŠå…¶å®ƒæ‰€æœ‰ peers éƒ½æ·»åŠ åˆ°æœåŠ¡å™¨é‡Œï¼Œå®žåœ¨æ˜¯å¤ªè¿‡éº»çƒ¦ã€‚\nç¬¬ä¸€ç‚¹æˆ‘å…¶å®žæ²¡æƒ³åˆ°ä»€ä¹ˆå¥½çš„è§£å†³åŠžæ³•ï¼Œèƒ½æƒ³åˆ°æœ€å¥½çš„ä¹Ÿå°±æ˜¯åˆ©ç”¨å®¶é‡Œæœ‰å…¬ç½‘ IP çš„ç‰¹ç‚¹æŠŠ VPN æœåŠ¡å™¨æ”¹åˆ°å®¶é‡Œã€‚è€Œç¬¬äºŒç‚¹æˆ‘å·®ç‚¹å°±æƒ³æ”¹æˆè‡ªå»º OpenVPN äº†ï¼Œä½†è¿™æ—¶æˆ‘å¶ç„¶æ‰¾åˆ°ä¸€äº›èµ„æ–™ï¼Œè¯´ä¸åº”è¯¥æ‰‹åŠ¨ç»„å»º WireGuard ç½‘ç»œï¼Œè€Œæ˜¯ä½¿ç”¨ä¸€äº›åŸºäºŽ WireGuard çš„å·¥å…·å¸®ä½ è‡ªåŠ¨ç»„ç½‘ã€‚æ¯”è¾ƒä¹‹åŽæˆ‘å†³å®šä½¿ç”¨ Tailscaleã€‚\nTailscale èƒ½åšçš„å¹¶ä¸ä»…ä»…æ˜¯å¸®ä½ å»ºç«‹ä¸€ä¸ª VPN æœåŠ¡å™¨ç„¶åŽè‡ªåŠ¨æ·»åŠ å®¢æˆ·ç«¯ï¼Œåœ¨æ­¤ä¹‹ä¸Šå®ƒæœ‰ä¸€äº›æ›´å¦™çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ WireGuard å®žé™…ä¸Šå¹¶ä¸æ˜¯æœåŠ¡ç«¯/å®¢æˆ·ç«¯æž¶æž„ï¼Œpeers ä¹‹é—´æ˜¯å¯¹ç­‰çš„ï¼ŒäºŽæ˜¯ Tailscale å¯ä»¥å°è¯•é€šè¿‡ NAT ç©¿é€å»ºç«‹ç‚¹å¯¹ç‚¹çš„ WireGuard è¿žæŽ¥ï¼Œå¦‚æžœæ— æ³•ç©¿é€æ‰ä¼šé€šè¿‡æœåŠ¡ç«¯ä¸­ç»§ï¼ˆTailscale å®˜ç½‘æœ‰ä¸€ç¯‡å…³äºŽå¦‚ä½•å®žçŽ°è¾ƒä¸ºå¯é çš„ NAT ç©¿é€çš„æ–‡ç« ï¼Œè‡³å°‘æˆ‘æ˜¯æ²¡æ€Žä¹ˆçœ‹æ‡‚ï¼‰ï¼Œè¿™å¬èµ·æ¥å¾ˆé€‚åˆæˆ‘çš„éœ€æ±‚å¹¶ä¸”åœ¨å®žé™…ä½¿ç”¨ä¸­æžå¤§çš„æå‡äº†æˆ‘çš„ä½“éªŒã€‚ä½† Tailscale æœ¬èº«åªæ˜¯å®¢æˆ·ç«¯ï¼Œå®ƒä»¬é€šè¿‡é”€å”®è‡ªå·±çš„æœåŠ¡æä¾›æœåŠ¡å™¨ä¾›ç”¨æˆ·è¿žæŽ¥ï¼Œå®¢æˆ·ç«¯æ˜¯å¼€æºçš„ä½†æœåŠ¡ç«¯æ˜¯é—­æºçš„ã€‚è€Œæˆ‘æ˜¾ç„¶æ›´å¸Œæœ›è‡ªå·±æ­å»ºæœåŠ¡ç«¯ï¼Œå¹¸å¥½æœ‰ Headscale è¿™ä¸ªå¼€æºé¡¹ç›®è‡ªå·±å®žçŽ°äº†ä¸€ä¸ª Tailscale æœåŠ¡ç«¯ï¼Œå¯ä»¥è‡ªå·±æ­å»ºã€‚ä½† Headscale è‡ªå·±çš„æ–‡æ¡£éžå¸¸çš„ç®€é™‹ï¼Œæ‰€ä»¥æˆ‘å†³å®šå†™ç¯‡åšå®¢è®°å½•ä¸€ä¸‹å…·ä½“é…ç½®çš„è¿‡ç¨‹ã€‚\nHeadscale\né¦–å…ˆåœ¨å…¬ç½‘èƒ½è®¿é—®åˆ°çš„æœåŠ¡å™¨ä¸Šå®‰è£… Headscaleï¼ŒArch Linux çš„å®˜æ–¹ä»“åº“é‡Œå·²ç»æ‰“åŒ…äº†ï¼š\n# pacman -S headscale\n\nç„¶åŽéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ /etc/headscale/config.yamlï¼Œé‡Œé¢éœ€è¦ä¿®æ”¹çš„åªæœ‰å‡ å¤„ï¼Œæˆ‘è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹ï¼š\né¦–å…ˆç¬¬ä¸€ä¸ªè¦ä¿®æ”¹çš„æ˜¯ server_urlï¼Œè¿™ä¸ªå°±æ˜¯å®¢æˆ·ç«¯è¿žæŽ¥æœåŠ¡å™¨æ—¶ä½¿ç”¨çš„åœ°å€å’Œç«¯å£ï¼ŒHeadscale ä½¿ç”¨çš„æ˜¯ HTTP åè®®ï¼Œå¦‚æžœä½ ä¸æƒ³æ˜Žæ–‡åœ¨å…¬ç½‘ä¸Šè£¸å¥”ï¼Œé‚£å¯ä»¥åœ¨åŽé¢æ·»åŠ  HTTPS è¯ä¹¦å’Œå¯†é’¥ä½¿å®ƒæ”¯æŒ HTTPSã€‚\nåŒæ ·è¿˜éœ€è¦ä¿®æ”¹ listen_addrï¼ŒæŽ§åˆ¶ Headscale ç›‘å¬çš„ç½‘æ®µå’Œç«¯å£ï¼Œè¿™é‡Œç«¯å£è¦å’Œä¸Šé¢çš„ä¸€è‡´ã€‚\nä¸‹é¢å…¶å®ƒçš„æŽ§åˆ¶æ•°æ®åº“å’Œ gRPC éƒ½ä¿æŒé»˜è®¤å³å¯ï¼Œç„¶åŽä½ å¯ä»¥ä¿®æ”¹æƒ³è¦ç»™å­ç½‘è®¾å¤‡åˆ†é… IP çš„ç½‘æ®µï¼Œåªè¦ä¿®æ”¹ ip_prefixes å°±å¯ä»¥ï¼Œè¦æ³¨æ„çš„æ˜¯å¹¶ä¸æ˜¯æ‰€æœ‰ç½‘æ®µéƒ½å¯ä»¥ç”¨ï¼ŒTailscale æœ¬èº«å·²ç»é™åˆ¶äº†ä¸€éƒ¨åˆ†ï¼Œä½ åªèƒ½é€‰æ‹©è¿™ä¸ªç½‘æ®µçš„å­ç½‘æ®µã€‚æˆ‘è¿™é‡Œæ³¨é‡ŠæŽ‰äº† IPv6 å› ä¸ºæˆ‘ä¸éœ€è¦ã€‚\nå¦‚æžœä½ æƒ³è®¾ç½® HTTPSï¼ŒHeadscale æœ¬èº«æ”¯æŒé€šè¿‡ ACME å¸®ä½ è‡ªåŠ¨ç”³è¯·è¯ä¹¦ï¼Œè¿™å½“ç„¶æ˜¯æœ€å¥½çš„ï¼Œä½†å®ƒå¹¶ä¸æ”¯æŒé€šè¿‡ DNS çš„æ–¹å¼éªŒè¯åŸŸåæ‰€æœ‰æƒï¼Œä¹Ÿå°±æ„å‘³ç€éœ€è¦ä½ èƒ½å¤Ÿç›‘å¬ 80 æˆ–è€… 443 ç«¯å£ï¼Œå¦‚æžœä½ æ˜¯å…¬ç½‘ IP çš„å®¶å®½ï¼Œè¿™åŸºæœ¬ç­‰äºŽè¢« ISP æŸ¥æ°´è¡¨ï¼Œè€Œå¦‚æžœæ˜¯ VPSï¼Œä½ ä¹Ÿå¤§æ¦‚çŽ‡å¯èƒ½åœ¨è¿™äº›ç«¯å£ä¸Šè¿è¡Œäº†å…¶å®ƒçš„ HTTP æœåŠ¡ï¼Œæ‰€ä»¥æˆ‘æ²¡æœ‰ç”¨è¿™ä¸ªåŠŸèƒ½ã€‚ä½†å®ƒä¸‹é¢è¿˜æä¾›äº†æ‰‹åŠ¨æŒ‡å®šè¯ä¹¦å’Œå¯†é’¥çš„é€‰é¡¹ï¼Œä½ å¯ä»¥ä½¿ç”¨ certbot æˆ–è€… acme.sh ä¹‹ç±»çš„åŠŸèƒ½å¸®ä½ å¤„ç†å¥½è¯ä¹¦ï¼ˆå’Œ certbot ææ–—å®žåœ¨æ˜¯å¤ªç—›è‹¦äº†æ‰€ä»¥æˆ‘çœç•¥äº†ï¼‰ï¼Œç„¶åŽå°† tls_cert_path è®¾ç½®ä¸º fullchain.pem æ‰€åœ¨çš„è·¯å¾„ï¼Œtls_key_path è®¾ç½®ä¸º privkey.pem æ‰€åœ¨çš„è·¯å¾„å°±å¯ä»¥ã€‚ï¼ˆéœ€è¦æ³¨æ„ certbot æ”¾ç½®è¯ä¹¦çš„è·¯å¾„åªæœ‰ root èƒ½è¯»å†™ï¼Œè€Œ Headscale å¹¶ä¸æ˜¯ä»¥ root ç”¨æˆ·è¿è¡Œçš„ï¼Œæ‰€ä»¥ä½ è¿˜éœ€è¦å†™ hooks æŠŠæ–‡ä»¶å¤åˆ¶å‡ºæ¥å¹¶ä¿®æ”¹æƒé™â€¦â€¦ï¼‰\nç„¶åŽè¿˜æœ‰ä¸€ä¸ªå…³äºŽ DNS çš„éƒ¨åˆ†éœ€è¦ä¿®æ”¹ï¼ŒTailscale æä¾›äº†ä¸€ä¸ªå«åš MagicDNS çš„æœºåˆ¶ï¼Œå½“ä½ è¿žæŽ¥ä¸Šè¿™ä¸ªç½‘ç»œä¹‹åŽï¼Œå°±å¯ä»¥åƒåœ¨å®¶ç”¨è·¯ç”±å™¨åŽé¢ä¸€æ ·é€šè¿‡ä¸»æœºåç›´æŽ¥è®¿é—®å¯¹åº”çš„è®¾å¤‡ï¼Œæˆ–è€…ä½¿ç”¨ä¸»æœºå + ä½ å®šä¹‰çš„åŸŸååŽç¼€ï¼ŒMagicDNS ä¼šå¸®ä½ è§£æžåˆ°æ­£ç¡®çš„ IPã€‚ä½†è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼ŒHeadscale é»˜è®¤çš„é…ç½®ä¼šè®©ä½ è¿è¡Œ Tailscale çš„è®¾å¤‡å°†è‡ªå·±çš„ MagicDNS æœåŠ¡å™¨è®¾ç½®ä¸º systemd-resolved å¯¹æ‰€æœ‰åŸŸåä½¿ç”¨çš„é»˜è®¤æœåŠ¡å™¨ï¼ˆå¯¹æ²¡é”™ Tailscale å®¢æˆ·ç«¯ä¸Šçš„ DNS é€»è¾‘æ˜¯è¢« Headscale æœåŠ¡ç«¯æŽ§åˆ¶çš„ï¼Œä»€ä¹ˆå¥‡æ€ªçš„è„‘å›žè·¯ï¼‰ï¼Œè¿™å…¶å®žå¾ˆä¸æ–¹ä¾¿ï¼Œç‰¹åˆ«æ˜¯å¯¹äºŽå›½å†…çš„ä¸€äº›ç½‘ç«™æ¯”å¦‚ B ç«™ä¼šè§£æžå¾ˆæ…¢å¹¶è§£æžåˆ°ç¦»ä½ æ¯”è¾ƒè¿œçš„ CDN ä¸Šï¼Œæ‰€ä»¥éœ€è¦å…³é—­è¿™ä¸ªåŠŸèƒ½ï¼Œåªä¼˜å…ˆå¯¹ Tailscale çš„åŸŸåä½¿ç”¨ MagicDNS æœåŠ¡å™¨ã€‚åªè¦å°† dns_config ä¸‹é¢ override_local_dns è®¾ç½®ä¸º false å³å¯ã€‚\nç„¶åŽä½ è¿˜éœ€è¦ä¿®æ”¹ dns_config ä¸‹é¢ base_domain è¿™ä¸€é¡¹ï¼Œè¿™ä¸ªæ˜¯ MagicDNS é‡Œå†…éƒ¨åŸŸåçš„åŽç¼€ã€‚\nè§£å†³äº†è¿™äº›ä¹‹åŽä½ å°±å¯ä»¥å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹ï¼š\n# systemctl enable --now headscale\n\nHeadscale çš„è¿›ç¨‹å’Œç›¸å…³é…ç½®éƒ½å±žäºŽ headscale ç”¨æˆ·å’Œ headscale ç»„ï¼Œå› æ­¤å¦‚æžœä½ æƒ³ç›´æŽ¥ä¿®æ”¹ç›¸å…³é…ç½®ï¼Œå¯ä»¥å°†è‡ªå·±åŠ å…¥ headscale ç»„ï¼š\n# gpasswd -a alynx headscale\n\nç„¶åŽä½ éœ€è¦åˆ›å»ºä¸€ä¸ª Headscale çš„ userï¼Œè¯´æ˜¯ user å…¶å®žæ›´åƒæ˜¯ namespaceï¼š\n$ headscale users create azvpn\n\nä¸Šé¢æåˆ°çš„å†…éƒ¨åŸŸåçš„é€»è¾‘å°±æ˜¯ ä¸»æœºå.ç”¨æˆ·å.å†…éƒ¨åŸŸååŽç¼€ï¼Œæ¯”å¦‚æˆ‘è®¾ç½®çš„ base_domain æ˜¯ alynx.oneï¼Œé‚£ timbersaw è¿™å°ä¸»æœºçš„å†…éƒ¨åŸŸåå°±æ˜¯ timbersaw.azvpn.alynx.oneã€‚\nåŽé¢æˆ‘ä»¬ä¼šæŠŠè®¾å¤‡æ·»åŠ åˆ°è¿™ä¸ª namespacesï¼Œæ·»åŠ çš„æ—¶å€™è‡ªç„¶éœ€è¦éªŒè¯æƒé™ï¼Œä¸€èˆ¬æ˜¯ Tailscale å‘èµ·è¯·æ±‚ï¼ŒHeadscale è¿”å›žä¸€ä¸ªé“¾æŽ¥ï¼Œæ‰“å¼€é“¾æŽ¥ä¹‹åŽæ˜¯ä¸€æ¡æŒ‡ä»¤ï¼Œä½ éœ€è¦å°†é‡Œé¢çš„ USERNAME æ¢æˆä½ æƒ³è¦çš„ï¼Œç„¶åŽåœ¨ Headscale æ‰€åœ¨çš„æœºå™¨ä¸Šè¿è¡Œè¿™ä¸ªæŒ‡ä»¤ã€‚å½“ç„¶å¦‚æžœä½ ä¸æ–¹ä¾¿ ssh è¿žåˆ° Headscale æ‰€åœ¨çš„æœåŠ¡å™¨ï¼Œä½ ä¹Ÿå¯ä»¥åˆ›å»º preauthkeyï¼Œç›´æŽ¥åœ¨ Tailscale è¿žæŽ¥æ—¶æä¾›å³å¯ï¼š\n$ headscale preauthkeys create --user azvpn --reusable --expiration 12h\n\nTailscale (Linux)\nè¿™ä¸ªåŒæ ·ä¹Ÿåœ¨ Arch Linux çš„å®˜æ–¹ä»“åº“ï¼Œç›´æŽ¥å®‰è£…å³å¯ï¼š\n# pacman -S tailscale\n\nç¨å¾®å¤æ‚çš„ä¸€ä¸ªéƒ¨åˆ†æ˜¯ DNSï¼Œæ˜¾ç„¶ MagicDNS ä¼šä¿®æ”¹ä½ çš„ /etc/resolv.conf è®¾ç½®ä¸ºè‡ªå·±çš„ DNS\næœåŠ¡å™¨ï¼Œä½†å¦‚æžœä½ å’Œæˆ‘çš„é…ç½®ç›¸åŒï¼Œé‚£åº”è¯¥è¿™ä¸ªæ–‡ä»¶ä¹Ÿæ˜¯ç”± NetworkManager ç®¡ç†çš„ã€‚å¦‚æžœä½ å·²ç»ç†è§£äº† Linux ä¸‹é¢ DNS è§£æžçš„é€»è¾‘ï¼Œä½ åº”è¯¥æ¸…æ¥šæ— è®ºä½•æ—¶éƒ½åªåº”è¯¥æœ‰ä¸€ä¸ªè¿›ç¨‹ç®¡ç†è¿™ä¸ªæ–‡ä»¶ã€‚è§£å†³æ–¹æ³•è¦ä¹ˆæ˜¯ä½¿ç”¨ NetworkManager çš„æ’ä»¶æ¥è¿è¡Œ Tailscale ä»Žè€Œåªè®© NetworkManager ç®¡ç† /etc/resolv.confï¼ˆå¹¶æ²¡æœ‰è¿™æ ·çš„æ’ä»¶ï¼‰ï¼Œè¦ä¹ˆæ˜¯ä¸¤è€…å…¨éƒ¨æ”¾å¼ƒè‡ªå·±ç®¡ç† DNSï¼Œäº¤ç»™ç¬¬ä¸‰è€…ç®¡ç†ã€‚\næ— è®ºæ˜¯ Tailscale è¿˜æ˜¯ NetworkManager éƒ½èƒ½è‡ªåŠ¨æ£€æµ‹ systemd-resolved å¹¶é…åˆå®ƒå·¥ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ç”¨è¿™ä¸ªä»£æ›¿ NetworkManager ç®¡ç† /etc/resolv.confï¼Œè¿‡ç¨‹å¾ˆç®€å•ä¹Ÿå¾ˆå¥½ç†è§£ã€‚\né¦–å…ˆæŠŠ /etc/resolv.conf é“¾æŽ¥åˆ° systemd-resolved çš„ stub æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶çš„ä½œç”¨åªæœ‰ä¸€ä¸ªå°±æ˜¯æŠŠ DNS æœåŠ¡å™¨è®¾ç½®æˆ systemd-resolved è¿è¡Œçš„ DNS æœåŠ¡å™¨ï¼Œè¿™æ ·æ‰€æœ‰çš„ DNS æŸ¥è¯¢å°±éƒ½è¢«ä¼ ç»™ systemd-resolved è¿›è¡Œå¤„ç†ï¼š\n# ln -sf ../run/systemd/resolve/stub-resolv.conf /etc/resolv.conf\n\nç„¶åŽå¯åŠ¨ systemd-resolvedï¼š\n# systemctl enable --now systemd-resolved\n\næŽ¥ä¸‹æ¥é‡å¯ NetworkManagerï¼Œå½“å®ƒå¯åŠ¨æ—¶æ£€æµ‹åˆ° /etc/resolv.conf æ˜¯æŒ‡å‘ systemd-resolved çš„ stub æ–‡ä»¶çš„è½¯é“¾æŽ¥ï¼Œå°±ä¸ä¼šå°è¯•ä¿®æ”¹è¯¥æ–‡ä»¶è€Œæ˜¯è‡ªåŠ¨é…åˆ systemd-resolved å·¥ä½œï¼š\n# systemctl restart NetworkManager\n\nç„¶åŽå¯åŠ¨ Tailscale çš„å®ˆæŠ¤è¿›ç¨‹ï¼š\n# systemctl enable --now tailscaled\n\næŽ¥ä¸‹æ¥å°±å¯ä»¥å°è¯•è¿žæŽ¥åˆ° Headscale æœåŠ¡å™¨ï¼š\n# tailscale up --login-server https://YOURSERVER:YOURPORT\n\nå¦‚æžœä½ ä¸æƒ³è¿›è¡Œä¸Šé¢çš„æ‰‹åŠ¨éªŒè¯æµç¨‹ï¼Œè¿™ä¸€æ­¥å¯ä»¥ç›´æŽ¥é™„åŠ ä¸Šåˆšæ‰åˆ›å»ºçš„ preauthkeyï¼š\n# tailscale up --login-server https://YOURSERVER:YOURPORT --auth-key YOURPREAUTHKEY\n\næ­¤æ—¶è¿è¡Œ ip aï¼Œåº”è¯¥å¯ä»¥çœ‹åˆ°å¤šäº†ä¸€ä¸ªå« tailscale0 çš„ç½‘ç»œæŽ¥å£ã€‚ä½¿ç”¨ resolvectl status åˆ™å¯ä»¥çœ‹åˆ°è¿™ä¸ªæŽ¥å£æœ‰è‡ªå·±çš„ DNS æœåŠ¡å™¨ï¼Œå¹¶ä¸”å¯¹ azvpn.alynx.one çš„åŸŸåä½¿ç”¨æ­¤æœåŠ¡å™¨æŸ¥è¯¢ã€‚æ­¤æ—¶å·²ç»å¯ä»¥ä½¿ç”¨ Tailscale å†…ç½‘åˆ†é…çš„ IP æˆ–è€… MagicDNS æä¾›çš„åŸŸååƒåœ¨ç‰©ç†è·¯ç”±å™¨åŽé¢ä¸€æ ·è®¿é—®å†…ç½‘çš„å„ç§è®¾å¤‡ã€‚\nTailscale (Android)\nTailscale ä¹Ÿæœ‰å¼€æºçš„ Android å®¢æˆ·ç«¯å¹¶ä¸”å·²ç»ä¸Šæž¶äº† Google Play Storeï¼Œä½†ä½ å®‰è£…ä¹‹åŽå¯èƒ½ä¼šå‘çŽ°æ²¡æœ‰è‡ªå®šä¹‰æœåŠ¡å™¨çš„é€‰é¡¹ï¼Œä½ éœ€è¦ç‚¹å¼€å¹¶å…³é—­å³ä¸Šè§’ä¸‰ä¸ªç‚¹èœå•å¤šæ¬¡ï¼Œç„¶åŽèœå•é‡Œå°±ä¼šå¤šå‡ºä¸€é¡¹ Change Serverï¼Œè®¾ç½®æˆä½ è‡ªå»ºçš„ Headscale æœåŠ¡å™¨ï¼Œç„¶åŽå°±å¯ä»¥ä½¿ç”¨ä¸»ç•Œé¢ç¬¬äºŒä¸ªç™»å½•é€‰é¡¹è¿›è¡Œäº¤äº’ç™»å½•äº†ã€‚ç›®å‰ä¼¼ä¹Ž Android å®¢æˆ·ç«¯è¿˜ä¸æ”¯æŒä½¿ç”¨ preauthkey ç™»å½•ã€‚\n"},{"title":"Node çš„ http.request() éœ€è¦å¯¹ response è¿›è¡Œé”™è¯¯å¤„ç†","url":"/posts/Node-HTTP-Request-Needs-to-Handle-Response-Error/","content":"æˆ‘å‘çŽ°æœ‰äº›æ—¶å€™ Telegram bot å¾ˆé€‚åˆç”¨æ¥ host ä¸€äº›æˆ‘è‡ªå·±è¦ç”¨çš„æœåŠ¡ï¼Œå› ä¸ºåªè¦é€šè¿‡æ‰‹æœºä¸Šçš„èŠå¤©æ¡†å°±å¯ä»¥æŽ§åˆ¶äº†ï¼Œä¸éœ€è¦æˆ‘è‡ªå·±å†™ä¸€äº›ä»€ä¹ˆåŽå°é¡µé¢ã€‚ä¸ºäº†è®©æž„å»ºå’Œå®‰è£…ä¸€ä¸ªæ–° bot çš„è¿‡ç¨‹å°½é‡ç®€å•ï¼Œæˆ‘è‡ªå·±ç”¨ Node å†™äº†ä¸€ä¸ª æ²¡æœ‰å¤–éƒ¨ä¾èµ–çš„ Telegram bot æ¡†æž¶ã€‚å®Œå…¨ä½¿ç”¨ Node è‡ªå¸¦çš„æ¨¡å—æ¯”è¾ƒéº»çƒ¦çš„ä¸€ç‚¹å°±æ˜¯ä½ éœ€è¦è‡ªå·±åŸºäºŽ http.request() è¿›è¡Œå°è£…ï¼Œå› ä¸ºåŽŸç‰ˆåŸºäºŽ EventEmitter çš„æŽ¥å£å†™èµ·æ¥å®žåœ¨æ˜¯å¤ªå¤æ‚äº†ã€‚\n\n\næŠŠ http.request() å°è£…æˆ Promise æ¯”ä¸€èˆ¬çš„ API è¦éš¾ä¸€ç‚¹ï¼Œä½†ä¹Ÿä¸æ˜¯å®Œå…¨åšä¸åˆ°ï¼Œæ¯”å¦‚ å®˜æ–¹æ–‡æ¡£ä¸Šçš„ç¤ºä¾‹ä»£ç  æ˜¯è¿™æ ·å†™çš„ï¼ˆå¤åˆ¶è¿™ä¹ˆé•¿ä¸€æ®µä¸æ˜¯æˆ‘è¦å å­—æ•°è€Œæ˜¯æˆ‘çœŸçš„è¢«å®ƒå‘äº†ï¼‰ï¼š\n {\n  console.log(`STATUS: ${res.statusCode}`);\n  console.log(`HEADERS: ${JSON.stringify(res.headers)}`);\n  res.setEncoding('utf8');\n  res.on('data', (chunk) => {\n    console.log(`BODY: ${chunk}`);\n  });\n  res.on('end', () => {\n    console.log('No more data in response.');\n  });\n});\n\nreq.on('error', (e) => {\n  console.error(`problem with request: ${e.message}`);\n});\n\n// Write data to request body\nreq.write(postData);\nreq.end();\n\" data-info=\"language-JavaScript\" data-lang=\"JavaScript\" class=\"code-block\">import http from 'node:http';\nimport { Buffer } from 'node:buffer';\n\nconst postData = JSON.stringify({\n  'msg': 'Hello World!',\n});\n\nconst options = {\n  hostname: 'www.google.com',\n  port: 80,\n  path: '/upload',\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'Content-Length': Buffer.byteLength(postData),\n  },\n};\n\nconst req = http.request(options, (res) =&gt; {\n  console.log(`STATUS: ${res.statusCode}`);\n  console.log(`HEADERS: ${JSON.stringify(res.headers)}`);\n  res.setEncoding('utf8');\n  res.on('data', (chunk) =&gt; {\n    console.log(`BODY: ${chunk}`);\n  });\n  res.on('end', () =&gt; {\n    console.log('No more data in response.');\n  });\n});\n\nreq.on('error', (e) =&gt; {\n  console.error(`problem with request: ${e.message}`);\n});\n\n// Write data to request body\nreq.write(postData);\nreq.end();\n\né‚£å¯¹äºŽä¸€ä¸ª POST è¯·æ±‚ï¼Œæˆ‘å°±å¯ä»¥è¿™æ ·å°è£…ï¼š\n {\n  const opts = {\n    &quot;method&quot;: &quot;POST&quot;,\n    &quot;timeout&quot;: 1500,\n    &quot;headers&quot;: {}\n  };\n  for (const [k, v] of Object.entries(headers)) {\n    opts[&quot;headers&quot;][k.toLowerCase()] = v;\n  }\n  if (!(isBuffer(body) || isString(body))) {\n    body = JSON.stringify(body);\n    opts[&quot;headers&quot;][&quot;content-type&quot;] = &quot;application/json&quot;;\n    opts[&quot;headers&quot;][&quot;content-length&quot;] = `${Buffer.byteLength(body)}`;\n  }\n  return new Promise((resolve, reject) => {\n    const req = http.request(url, opts, (res) => {\n      const chunks = [];\n      res.on(&quot;data&quot;, (chunk) => {\n    chunks.push(chunk);\n      });\n      res.on(&quot;end&quot;, () => {\n    resolve(Buffer.concat(chunks));\n      });\n    });\n    req.on(&quot;error&quot;, reject);\n    req.write(body);\n    req.end();\n  });\n};\n\" data-info=\"language-JavaScript\" data-lang=\"JavaScript\" class=\"code-block\">import * as http from \"node:http\";\nimport {Buffer} from \"node:buffer\";\nconst post = (url, body, headers = {}) =&gt; {\n  const opts = {\n    \"method\": \"POST\",\n    \"timeout\": 1500,\n    \"headers\": {}\n  };\n  for (const [k, v] of Object.entries(headers)) {\n    opts[\"headers\"][k.toLowerCase()] = v;\n  }\n  if (!(isBuffer(body) || isString(body))) {\n    body = JSON.stringify(body);\n    opts[\"headers\"][\"content-type\"] = \"application/json\";\n    opts[\"headers\"][\"content-length\"] = `${Buffer.byteLength(body)}`;\n  }\n  return new Promise((resolve, reject) =&gt; {\n    const req = http.request(url, opts, (res) =&gt; {\n      const chunks = [];\n      res.on(\"data\", (chunk) =&gt; {\n    chunks.push(chunk);\n      });\n      res.on(\"end\", () =&gt; {\n    resolve(Buffer.concat(chunks));\n      });\n    });\n    req.on(\"error\", reject);\n    req.write(body);\n    req.end();\n  });\n};\n\nåæ­£æµç¨‹æ— éžæ˜¯åˆ›å»º requestï¼Œç„¶åŽåœ¨ response é‡Œé¢æ”¶é›† data åˆ° bufferï¼Œç„¶åŽå¤„ç† request çš„ errorï¼Œå†æŠŠ body å†™åˆ° request é‡Œé¢ã€‚çœ‹èµ·æ¥å¾ˆç®€å•æ¯•ç«Ÿå®˜æ–¹æ–‡æ¡£ä¹Ÿè¿™ä¹ˆå†™çš„å¯¹å§ï¼ç„¶åŽå°±æŽ‰è¿›å‘é‡Œäº†ã€‚\næˆ‘çš„ Telegram bot è®¾ç½®æ˜¯è¦ä¸åœé€šè¿‡ HTTP è½®è¯¢èŽ·å–æ›´æ–°ï¼Œä¸ºäº†ä¿è¯èƒ½ä¸€ç›´è½®è¯¢ä¸‹åŽ»ï¼Œå°±è¦åœ¨é‡åˆ°é”™è¯¯çš„æ—¶å€™ catch ä½ç®€å•å¤„ç†ï¼Œç„¶åŽç»§ç»­è¿›è¡Œä¸‹æ¬¡è½®è¯¢ã€‚ä½†æ˜Žæ˜Žæˆ‘å·²ç»åœ¨å¯èƒ½å‡ºçŽ°é”™è¯¯çš„æ—¶å€™éƒ½å¤„ç†äº†ï¼Œbot è¿˜æ˜¯ä¼šåœ¨è·‘äº†å‡ å¤©ä»¥åŽé‡åˆ°é”™è¯¯ï¼ˆé€šå¸¸æ˜¯ read ETIMEOUTï¼‰ç„¶åŽå®Œå…¨åœä½ï¼Œåªèƒ½æ‰‹åŠ¨é‡å¯ã€‚æˆ‘å¯¹æ­¤ç»žå°½è„‘æ±ï¼Œä½†æ˜¯æƒ³ä¸å‡ºå“ªé‡Œæœ‰é—®é¢˜ï¼ŒåŒæ—¶å› ä¸ºè¿™ä¸ªè¦ bot è·‘ä¸€æ®µæ—¶é—´æ‰èƒ½å¤çŽ°ï¼Œä¹Ÿå¾ˆéš¾ debugï¼Œæˆ‘ç”šè‡³æ‰‹åŠ¨æ‰“äº† log æ¥çœ‹æ˜¯è½®è¯¢åœä½äº†è¿˜æ˜¯è½®è¯¢æ²¡æœ‰åœä½†å´ä¸€ç›´å¾—åˆ°ç©ºçš„ç»“æžœï¼Œå®žé™…è¯æ˜Žæ˜¯é‡åˆ°é”™è¯¯åœä½äº†ï¼Œä½†æˆ‘ä¸æ˜¯å·²ç»è¿›è¡Œé”™è¯¯å¤„ç†äº†å—ï¼Ÿ\nè¿™ä¸ªé—®é¢˜å®žåœ¨æ˜¯æ‰¾ä¸åˆ°ä»€ä¹ˆå‚è€ƒï¼Œæˆ‘å°è¯•äº†ä¸€äº›æ²¡æœ‰æ„ä¹‰çš„åŠžæ³•ï¼Œæœ€åŽå·®ç‚¹åŽ»ç¿»ä»€ä¹ˆ axios ä¹‹ç±»çš„ä»£ç çœ‹ä»–ä»¬å¦‚ä½•è§£å†³çš„äº†ã€‚ä¸è¿‡æˆ‘åœ¨æ­¤ä¹‹å‰æƒ³äº†ä¸€ä¸‹ï¼Œä¼šä¸ä¼šæ˜¯å› ä¸ºä¸ä»…è¦å†™ req.on(\"error\", reject);ï¼Œè¿˜è¦å†™ res.on(\"error\", reject); æ¥å¤„ç† response çš„é”™è¯¯ï¼Œå¦åˆ™ Node å°±ä¼šç›´æŽ¥æŠŠç›¸å…³çš„é”™è¯¯æŠ›å‡ºæ¥åœæŽ‰ï¼Ÿå…¶å®žæˆ‘å¿ƒé‡Œè§‰å¾—ä¸å¤ªå¯èƒ½ï¼Œæ¯•ç«Ÿ ç¤ºä¾‹ä»£ç é‡Œæ ¹æœ¬éƒ½æ²¡æœ‰å†™è¿™å¥ï¼Œä½†æˆ‘è¿˜æ˜¯æœ¬ç€æ²¡åŠžæ³•çš„åŠžæ³•å†™ä¸ŠåŽ»äº†ï¼š\n {\n   return new Promise((resolve, reject) => {\n     const req = https.request(url, opts, (res) => {\n       const chunks = [];\n+      res.on(&quot;error&quot;, reject);\n       res.on(&quot;data&quot;, (chunk) => {\n         chunks.push(chunk);\n       });\n       res.on(&quot;end&quot;, () => {\n         resolve(Buffer.concat(chunks));\n       });\n     });\n     req.on(&quot;error&quot;, reject);\n     req.write(body);\n\" data-info=\"language-patch\" data-lang=\"patch\" class=\"code-block\">diff --git a/azbot-telegram/bot-utils.js b/azbot-telegram/bot-utils.js\nindex 42e002e..f90a8eb 100644\n--- a/azbot-telegram/bot-utils.js\n+++ b/azbot-telegram/bot-utils.js\n@@ -360,13 +360,13 @@ const post = (url, body, headers = {}) =&gt; {\n   return new Promise((resolve, reject) =&gt; {\n     const req = https.request(url, opts, (res) =&gt; {\n       const chunks = [];\n+      res.on(\"error\", reject);\n       res.on(\"data\", (chunk) =&gt; {\n         chunks.push(chunk);\n       });\n       res.on(\"end\", () =&gt; {\n         resolve(Buffer.concat(chunks));\n       });\n     });\n     req.on(\"error\", reject);\n     req.write(body);\n\nç„¶åŽé—®é¢˜å°±ç¥žå¥‡çš„è§£ï¼å†³ï¼äº†ï¼æˆ‘çš„ bot è¿žç»­è·‘äº†åå¤©åŠä¸ªæœˆä¹Ÿæ²¡æœ‰æŒ‚ï¼Œæˆ‘å¿ƒé‡Œè¿™ä¸ªæ°”å•Šï¼Œä¸ºä»€ä¹ˆå®˜æ–¹æ–‡æ¡£é‡Œçš„ç¤ºä¾‹ä¸€ç‚¹æ²¡æåˆ°è¦å¯¹ response çš„ error äº‹ä»¶è¿›è¡Œå¤„ç†å‘¢ï¼Ÿç”šè‡³åœ¨ç½‘ä¸Šä¹Ÿå¾ˆéš¾æ‰¾åˆ°ç›¸å…³çš„ä¿¡æ¯ï¼Œæˆ‘æŽ¨æµ‹æ˜¯å¤§éƒ¨åˆ†äººå¹¶ä¸ä»Žå¤´è‡ªå·±å°è£… HTTP æ¨¡å—è€Œæ˜¯ç›´æŽ¥ä½¿ç”¨çŽ°æˆçš„åº“æ¯”å¦‚ axiosï¼Œç„¶åŽå¯èƒ½æœ‰äººå‘çŽ°è¿‡è¿™é—®é¢˜å°±ç®€å•åœ°ç»™ axios æäº†è¿™ä¹ˆä¸€ä¸ª fixï¼Œå°±å†ä¹Ÿæ²¡äººæèµ·è¿‡è¿™ä»¶äº‹äº†ã€‚æ€»ä¹‹è¿˜æ˜¯å¸Œæœ›å®˜æ–¹æ–‡æ¡£èƒ½æ›´æ–°ä¸€ä¸‹ç¤ºä¾‹ä»£ç å§ã€‚\n"},{"title":"2023 å¹´çš„ Arch Linux å®‰è£…æŒ‡å—","url":"/posts/2023-Arch-Install/","content":"åœ¨å®‰è£… Arch Linux ä¹‹å‰ï¼Œé¦–å…ˆè¦å‡†å¤‡ Arch Linux çš„å®‰è£…åª’ä»‹ã€‚å¦‚æžœä½ æ‰“ç®—å®‰è£…åœ¨è™šæ‹Ÿæœºé‡Œï¼Œé‚£ä½ å¹¶ä¸éœ€è¦ä¸€ä¸ªå®žä½“çš„å­˜å‚¨ä»‹è´¨ï¼Œå› ä¸ºè™šæ‹Ÿæœºå¯ä»¥ç›´æŽ¥åŠ è½½ iso æ–‡ä»¶ã€‚ä½†ä¸ç®¡ä½ åœ¨å“ªé‡Œå®‰è£…ï¼Œä½ éƒ½éœ€è¦èŽ·å–è¿™ä¸ª iso æ–‡ä»¶ï¼Œå¼•å¯¼è¿›å…¥å…¶ä¸­çš„ä¸´æ—¶ç³»ç»Ÿæ‰èƒ½ç»§ç»­å®‰è£…ã€‚\nArch Linux çš„å®‰è£…é•œåƒæ¯æœˆæ›´æ–°ä¸€æ¬¡ï¼Œå¦‚æžœä½ ç‚¹å¼€å®˜ç½‘çš„ä¸‹è½½é¡µé¢ï¼Œä½ ä¼šå‘çŽ°æ²¡æœ‰ç›´æŽ¥çš„ä¸‹è½½é“¾æŽ¥ï¼Œè€Œæ˜¯æŽ¨èä½ ä½¿ç”¨ç§å­ä¸‹è½½æˆ–è€…é•œåƒç«™ä¸‹è½½ã€‚è¿™æ˜¯ä¸€ä¸ªéžå¸¸æœ‰å¿…è¦çš„è¦æ±‚ï¼Œå› ä¸ºå®˜æ–¹çš„æœåŠ¡å™¨ä¸èƒ½æ‰¿å—ä¸–ç•Œå„åœ°æ‰€æœ‰çš„è¯·æ±‚æµé‡ï¼Œä»¥ä¸Šä¸¤ç§æ–¹æ³•é€šè¿‡å°†å•ä¸€çš„ä¸‹è½½æ¥æºè½¬æ¢ä¸ºå¤šä¸ªä¸‹è½½æ¥æºæœ‰æ•ˆçš„å‡è½»äº†å®˜æ–¹æœåŠ¡å™¨çš„åŽ‹åŠ›ã€‚\nè€ƒè™‘åˆ°å½“ä»Šç§å­ä¸‹è½½å¹¶ä¸æ˜¯ä¸€ä¸ªæµè¡Œçš„ä¸‹è½½æ–¹å¼ï¼Œå¯¹äºŽéƒ¨åˆ†è¯»è€…è€Œè¨€å¯èƒ½éš¾ä»¥æŽŒæ¡ï¼Œæˆ‘ä»¬è¿™é‡Œå°±é€‰æ‹©é•œåƒç«™ä¸‹è½½ã€‚æ‰€è°“çš„é•œåƒç«™å°±æ˜¯å°†å®˜æ–¹æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶åŽŸæ ·ä¸‹è½½åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œç„¶åŽç»™åˆ«äººæä¾›ä¸‹è½½æœåŠ¡çš„æœåŠ¡å™¨ã€‚æœ‰äº†é•œåƒç«™ï¼Œä¸–ç•Œå„åœ°çš„ç”¨æˆ·å°±ä¸å¿…è¿žæŽ¥ç›¸å¯¹è¾ƒè¿œè¾ƒæ…¢çš„å®˜æ–¹æœåŠ¡å™¨ï¼Œè€Œå¯ä»¥å°±è¿‘é€‰æ‹©é•œåƒç«™ï¼ŒèŽ·å–åˆ°å®Œå…¨ä¸€æ ·çš„æ–‡ä»¶ã€‚\næˆ‘ä»¬å¯ä»¥æ‰“å¼€æŸä¸ªé•œåƒç«™åŒæ­¥ archlinux çš„ç›®å½•ï¼Œç„¶åŽæ‰¾åˆ° iso/latest ç›®å½•ï¼Œé‡Œé¢çš„ archlinux-x86_64.iso å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼Œä»¥æ¸…åŽå¤§å­¦çš„é•œåƒç«™ä¸ºä¾‹ï¼Œé“¾æŽ¥å°±æ˜¯ https://mirrors.tuna.tsinghua.edu.cn/archlinux/iso/latest/archlinux-x86_64.isoã€‚\næ³¨æ„ï¼Arch Linux å®˜æ–¹åªå¯¹ x86-64 æž¶æž„æä¾›æ”¯æŒï¼Œå¦‚æžœä½ çš„è®¾å¤‡ä¸æ˜¯è¯¥æž¶æž„ï¼ˆå¯èƒ½æ€§å¾ˆä½Žï¼Œå¦‚æžœä½ ä¸æ˜¯è¯¥æž¶æž„ï¼Œä½ åº”è¯¥å·²ç»æœ‰è¶³å¤Ÿçš„ç»éªŒè‡ªå·±è§£å†³é—®é¢˜äº†ï¼‰ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨å…¶å®ƒåˆ†æ”¯é¡¹ç›®å¹¶å‚é˜…ç›¸å…³çš„æ–‡æ¡£ã€‚\nå½“ä¸‹è½½å¥½ iso æ–‡ä»¶ä¹‹åŽï¼Œéœ€è¦å‡†å¤‡å¯¹åº”çš„å®‰è£…åª’ä»‹ï¼Œè¿™éœ€è¦ä¸€ä¸ªå®žä½“çš„å­˜å‚¨ä»‹è´¨ï¼Œå…‰ç›˜æ˜¯æœ€ä¼ ç»Ÿçš„å®‰è£…åª’ä»‹ï¼Œè¿™ä¹Ÿå¯¼è‡´äº†å„ç§ç³»ç»Ÿçš„å®‰è£…ç¨‹åºéƒ½ä»¥å…‰ç›˜é•œåƒï¼ˆisoï¼‰çš„æ ¼å¼æ‰“åŒ…ã€‚ä½†æƒ³å¿…å½“ä»Šçš„ç”¨æˆ·å¯»æ‰¾å…‰ç›˜å’Œå…‰é©±å¯èƒ½æœ‰äº›éš¾åº¦ï¼Œæ‰€ä»¥ U ç›˜æˆä¸ºäº†æ›´æµè¡Œçš„å®‰è£…åª’ä»‹ï¼Œæ‰¾å‡ºä¸€ä¸ªä½ æ²¡æœ‰ä½¿ç”¨çš„ U ç›˜ï¼Œå¤‡ä»½å¥½åŽŸæœ¬çš„æ•°æ®ï¼Œç„¶åŽè¿žæŽ¥åˆ°ä½ ä¸‹è½½äº†å®‰è£…é•œåƒçš„ç”µè„‘ä¸Šã€‚\nå¦‚æžœä½ çš„ç”µè„‘ä¸Šå·²ç»è¿è¡Œäº† Linuxï¼Œé‚£ä½ å¯ä»¥é€šè¿‡ dd å‘½ä»¤å°† iso æ–‡ä»¶å†™å…¥åˆ° U ç›˜é‡Œï¼ŒArch Linux çš„å®‰è£…é•œåƒç»è¿‡ç‰¹æ®Šå¤„ç†ï¼Œå¯ä»¥æ”¯æŒè¿™æ ·çš„ U ç›˜å¼•å¯¼ã€‚é¦–å…ˆé€šè¿‡ lsblk -f æŸ¥çœ‹ä½ çš„ U ç›˜å¯¹åº”çš„è®¾å¤‡æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Œç„¶åŽä½¿ç”¨ dd if=/PATH/TO/archlinux-x86_64.iso of=/dev/sdXï¼Œè®°å¾—æŠŠ iso å’Œè®¾å¤‡æ–‡ä»¶çš„è·¯å¾„æ”¹æˆä½ çš„å®žé™…è·¯å¾„ï¼Œå¹¶ä¸”ä¸è¦ä½¿ç”¨ U ç›˜åˆ†åŒºçš„è®¾å¤‡æ–‡ä»¶ï¼Œè€Œæ˜¯ä½¿ç”¨ä»£è¡¨æ•´ä¸ª U ç›˜çš„è®¾å¤‡æ–‡ä»¶ã€‚ç„¶åŽæ‰§è¡Œ syncï¼Œè®©å†…æ ¸æŠŠå†…å­˜é‡Œç¼“å†²çš„æ•°æ®å†™å›žç£ç›˜ï¼Œä¿è¯å®‰è£…é•œåƒå®Œå…¨å†™è¿› U ç›˜é‡Œé¢ã€‚\nä½†ä½ ä¹Ÿå¯èƒ½ä¼šè¯´å¦‚æžœæˆ‘æœ‰ Linuxï¼Œæˆ‘ä¸ºä»€ä¹ˆè¦è£… Linuxï¼Ÿè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬æŽ¨è Windows ç”¨æˆ·ä½¿ç”¨ Rufus åˆ›å»ºå®‰è£… U ç›˜ï¼Œè¿™ä¸ªè½¯ä»¶ä¸‹è½½å³å¯è¿è¡Œï¼Œä¸éœ€è¦å®‰è£…ï¼Œç„¶åŽåœ¨è½¯ä»¶é‡Œåˆ†åˆ«é€‰æ‹© iso æ–‡ä»¶çš„ä½ç½®å’Œ U ç›˜è®¾å¤‡ï¼Œç‚¹å‡»å†™å…¥å³å¯èŽ·å¾—ä¸€ä¸ªå®‰è£… U ç›˜ã€‚\næ— è®ºä½ ä½¿ç”¨å“ªç§æ–¹å¼ï¼ŒæŽ¥ä¸‹æ¥å¼¹å‡º U ç›˜ï¼Œå‡†å¤‡é‡å¯ç”µè„‘ã€‚ä¸è¿‡è¦ä¿è¯é‡å¯çš„æ—¶å€™ U ç›˜ä»ç„¶åœ¨ä½ çš„ç”µè„‘ä¸Šã€‚çŽ°åœ¨çš„ç”µè„‘åº”è¯¥éƒ½æ”¯æŒ UEFI å¼•å¯¼ï¼Œä½ éœ€è¦æœç´¢ä½ çš„ä¸»æ¿åž‹å·å¾—çŸ¥ä½ çš„ç”µè„‘åº”è¯¥æŒ‰ä»€ä¹ˆæŒ‰é”®è¿›å…¥å¯åŠ¨è®¾å¤‡é€‰å•ï¼Œåæ­£æ— éžæ˜¯ F8ã€DELã€Enter ä¸­çš„ä¸€ä¸ªï¼Œåœ¨æ˜¾ç¤ºä¸»æ¿ logo çš„æ—¶å€™ç‹‚æŒ‰ï¼Œç›´åˆ°å‡ºçŽ°ä¸€ä¸ªè®©ä½ é€‰æ‹©çš„èœå•ï¼Œä½¿ç”¨é”®ç›˜ä¸Šçš„æ–¹å‘é”®é€‰æ‹©ä½ åˆšåˆšåšå¥½çš„å®‰è£… U ç›˜ï¼Œç„¶åŽæŒ‰ä¸‹ Enter é€‰æ‹©ã€‚ç­‰å±å¹•ä¸Šèµ°å®Œå¯åŠ¨æµç¨‹ï¼Œä½ åº”è¯¥å°±ä¼šè‡ªåŠ¨ç™»å½•è¿›ä¸€ä¸ª Arch Linux çš„çŽ¯å¢ƒã€‚å¦‚æžœä½ å¼€å¯äº†å®‰å…¨å¯åŠ¨ï¼Œé‚£ä½ éœ€è¦å…³æŽ‰ï¼Œå› ä¸º Arch Linux çš„å®‰è£…é•œåƒå¹¶æ²¡æœ‰è¿›è¡Œå®‰å…¨å¯åŠ¨éœ€è¦çš„ç­¾åï¼Œè¿™é‡Œå°±ä¸ä»‹ç»å…·ä½“å¦‚ä½•å…³é—­äº†ï¼Œå› ä¸ºå„å®¶ä¸»æ¿çš„ç•Œé¢éƒ½ä¸ä¸€æ ·ï¼Œå»ºè®®æœç´¢å¼•æ“Žæœç´¢è‡ªå·±çš„ä¸»æ¿åž‹å·+å…³é—­å®‰å…¨å¯åŠ¨ã€‚\nArch Linux çš„å®‰è£…çŽ¯å¢ƒæ˜¯æ²¡æœ‰æ¡Œé¢çš„ï¼Œä½ éœ€è¦åœ¨å‘½ä»¤è¡Œé‡Œè‡ªå·±è°ƒç”¨å„ç§å‘½ä»¤å®Œæˆä¸€ç³»åˆ—å®‰è£…ç›¸å…³çš„æ“ä½œï¼Œè¿™æ ·çœ‹èµ·æ¥æ¯”è¾ƒéš¾ï¼Œä½†æ˜¯ä¹Ÿå¾ˆçµæ´»ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦è°ƒæ•´ã€‚é¦–å…ˆä½ è¦åšçš„æ˜¯ç¡®å®šè‡ªå·±å·²ç»è”ç½‘äº†ï¼Œæœ€ç®€å•çš„å°±æ˜¯ä»Žè·¯ç”±å™¨æ’ä¸€æ ¹ç½‘çº¿åˆ°ä½ çš„ç”µè„‘ä¸Šï¼Œè¿™æ ·åº”è¯¥å°±èƒ½ä¸Šç½‘äº†ã€‚å¦‚æžœä½ æ²¡æœ‰ç½‘çº¿â€”â€”é‚£çŽ°åœ¨å°±è¯¥åŽ»ä¹°ä¸€æ ¹ï¼Œæ¯”èµ·çŽ°åœ¨ç»™ä½ è®²æ¸…æ¥šæ€Žä¹ˆåœ¨å‘½ä»¤è¡Œä¸‹é¢è¿žæŽ¥æ— çº¿ç½‘ç»œï¼Œä¹°ç½‘çº¿æ›´ç®€å•ï¼ŒçœŸçš„ã€‚\nç„¶åŽä½ åº”è¯¥ä½¿ç”¨ date å‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿæ—¶é—´æ˜¯å¦é‡è¦ï¼Œè®¸å¤šåŠ å¯†æ–¹å¼ä¾èµ–æ—¶é—´æ­£ç¡®ï¼Œæ¯”å¦‚ httpsï¼Œå› æ­¤å¦‚æžœå®ƒä¸æ­£ç¡®ï¼Œä½ åº”è¯¥æ”¹æ­£å®ƒï¼Œä¸è¿‡å¤§éƒ¨åˆ†æƒ…å†µéƒ½æ˜¯æ­£ç¡®çš„ã€‚\næŽ¥ä¸‹æ¥ä½ åº”è¯¥å‡†å¤‡å®‰è£…ç³»ç»Ÿçš„ç£ç›˜åˆ†åŒºï¼Œé¦–å…ˆä½ å¾—é€šè¿‡ lsblk -f æ‰¾åˆ°è¦å®‰è£…çš„ç¡¬ç›˜ï¼Œå¦‚æžœæ˜¯ SATA ç¡¬ç›˜ï¼Œå®ƒå¯èƒ½æ˜¯ /dev/sda æˆ–è€… /dev/sdb ä¹‹ç±»ï¼Œå¦‚æžœæ˜¯ NVMe ç¡¬ç›˜ï¼Œé‚£å¯èƒ½æ˜¯ /dev/nvme0n1ï¼Œä¸€èˆ¬æ¥è¯´æ ¹æ®å®¹é‡åˆ¤æ–­æ˜¯ä¸ä¼šé”™çš„ã€‚ä½ çš„ç›®æ ‡ç£ç›˜ä¸Šåº”å½“ç•™æœ‰ä¸€å®šçš„æœªåˆ†é…ç©ºé—´ç»™æ–°ç³»ç»Ÿä½¿ç”¨ã€‚æ³¨æ„å¦‚æžœåˆ†åŒºå’Œæ ¼å¼åŒ–æ—¶æ“ä½œé”™è¯¯ï¼Œå¯èƒ½ä¼šè®©ä½ ä¸¢å¤±å·²æœ‰çš„é‡è¦æ•°æ®ï¼Œå› æ­¤åœ¨è¿›è¡Œæ“ä½œå‰åŠ¡å¿…ä»”ç»†ç¡®è®¤ã€‚\nUEFI å¼•å¯¼çš„æœºå™¨å¤§éƒ¨åˆ†éƒ½ä½¿ç”¨ GPT åˆ†åŒºè¡¨ï¼Œå½“ç„¶è¿™å…¶å®žä¸»è¦æ˜¯ Windows çš„é™åˆ¶ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨ gdisk è¿›è¡Œåˆ†åŒºï¼Œå¦‚æžœä½ ä½¿ç”¨çš„ä¸æ˜¯ GPT åˆ†åŒºè¡¨ï¼Œé‚£ä½ å¯èƒ½éœ€è¦è‡ªè¡Œäº†è§£ä¸€äº›ç›¸å…³çŸ¥è¯†ã€‚å½“ä½ ä¸çŸ¥é“è¯¥åšä»€ä¹ˆçš„æ—¶å€™ï¼Œè¾“å…¥ ? å¯ä»¥æ˜¾ç¤ºå¸®åŠ©ï¼Œè¾“å…¥ p å¯ä»¥æ‰“å°å½“å‰çš„åˆ†åŒºè¡¨ï¼Œè¾“å…¥ q å¯ä»¥é€€å‡º gdiskï¼Œåªæœ‰è¾“å…¥ w æ‰ä¼šçœŸæ­£ä¿®æ”¹ç¡¬ç›˜ä¸Šçš„åˆ†åŒºè¡¨ï¼Œæ‰€ä»¥å¦‚æžœä½ ä¸ç¡®å®šå°±ä¸è¦è¾“å…¥ wã€‚\nè¾“å…¥ p æ‰“å‡ºå½“å‰çš„åˆ†åŒºè¡¨ä¹‹åŽï¼Œä½ åº”è¯¥é¦–å…ˆæ‰¾åˆ°ä¸€ä¸ªå°çš„ FAT32 åˆ†åŒºï¼Œä¸€èˆ¬ä¼šåœ¨ç£ç›˜çš„å¼€å¤´ï¼Œå®¹é‡ä¸ä¼šè¶…è¿‡ 1Gï¼Œè¿™æ˜¯ä½ çš„ ESP ç³»ç»Ÿåˆ†åŒºï¼ŒUEFI è¦æ±‚æŠŠå¼•å¯¼æ–‡ä»¶æ”¾åœ¨è¿™é‡Œã€‚ç„¶åŽä½ åº”è¯¥æŒ‰ n æ–°å»ºä¸€ä¸ªåˆ†åŒºï¼Œä¸€èˆ¬å®ƒä¼šè‡ªåŠ¨è®¡ç®—æœªåˆ†é…ç©ºé—´çš„å¼€å¤´ï¼Œä¸è¿‡ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨è¾“å…¥æ¥çº æ­£ï¼Œç„¶åŽè¾“å…¥æ–°åˆ†åŒºçš„ç»“å°¾ä½ç½®ï¼Œä¹Ÿå¯ä»¥ç”¨ +100G çš„æ–¹å¼è¡¨ç¤ºä»Žå¼€å¤´ä½ç½®åˆ›å»ºä¸€ä¸ª 100G çš„åˆ†åŒºã€‚ä¸€èˆ¬åªè¦åˆ†ä¸€ä¸ªåˆ†åŒºåš Linux çš„æ ¹åˆ†åŒºå°±å¥½äº†ï¼Œä¸è¿‡ä½ æœ‰éœ€è¦ä¹Ÿå¯ä»¥åˆ›å»ºæ›´å¤šçš„åˆ†åŒºï¼Œæ¯”å¦‚ä½ å¯èƒ½éœ€è¦ä¸€ä¸ª swap åˆ†åŒºï¼Œé‚£å°±ç”¨ç›¸åŒçš„åŠžæ³•åˆ›å»ºä¸€ä¸ªã€‚åˆ›å»ºå®Œä½ éœ€è¦çš„åˆ†åŒºä¹‹åŽï¼Œè¾“å…¥ p ç¡®è®¤ä¸€ä¸‹æ–°çš„åˆ†åŒºè¡¨ï¼Œç„¶åŽæŒ‰ w å†™å…¥åˆ†åŒºè¡¨ã€‚\næŽ¥ä¸‹æ¥ä½ éœ€è¦åœ¨åˆ†å¥½çš„åˆ†åŒºä¸Šåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿä¹Ÿå°±æ˜¯æ ¼å¼åŒ–ï¼Œå› ä¸ºåˆ†åŒºè¡¨åªæ˜¯æ ‡è®°â€œä»Žå“ªé‡Œåˆ°å“ªé‡Œå±žäºŽå“ªä¸ªåˆ†åŒºâ€ï¼Œå¹¶æ²¡æœ‰åœ¨å¯¹åº”çš„ä½ç½®åˆ›å»ºå®žé™…çš„ç»“æž„ã€‚æ¯”å¦‚ä½ å¯ä»¥ç”¨ mkfs.ext4 /dev/sdXY æ ¼å¼åŒ–ä½ åˆšåˆ›å»ºçš„æ ¹åˆ†åŒºï¼Œç„¶åŽç”¨ mkswap /dev/sdXY æ ¼å¼åŒ–ä½ åˆšæ‰åˆ›å»ºçš„ swap åˆ†åŒºã€‚è®°å¾—åœ¨æ‰§è¡Œå‘½ä»¤ä¹‹å‰ç¡®è®¤ä½ ä½¿ç”¨çš„è®¾å¤‡æ–‡ä»¶æ­£ç¡®ã€‚ç„¶åŽä½ éœ€è¦æŒ‚è½½ä½ åˆ›å»ºçš„åˆ†åŒºåˆ° /mntï¼Œç¨å€™ä¼šå‘é‡Œé¢å†™å…¥ç³»ç»Ÿæ–‡ä»¶ã€‚é¦–å…ˆç”¨ mount /dev/sdXY /mntï¼ŒæŠŠæ ¹åˆ†åŒºæŒ‚è½½ä¸Šï¼Œç„¶åŽä½ éœ€è¦åˆ›å»ºå…¶å®ƒåˆ†åŒºçš„æŒ‚è½½ç‚¹ï¼Œæ¯”å¦‚ EFI ç³»ç»Ÿåˆ†åŒºï¼Œå¯¹äºŽè¿™ä¸ªå¦‚ä½•æŒ‚è½½æœ‰å¾ˆå¤šç§è¯´æ³•ï¼Œä¸è¿‡æˆ‘ä¸€èˆ¬ç›´æŽ¥æŠŠå®ƒå½“ä½œ boot åˆ†åŒºæŒ‚è½½ï¼Œè¿™æ ·å†…æ ¸ä¹Ÿä¼šè¢«å®‰è£…åˆ°è¿™ä¸ªåˆ†åŒºï¼Œæœ‰äº›é¢„è£… Windows ç³»ç»Ÿçš„ç”µè„‘å¯èƒ½ä¼šåˆ†ä¸€ä¸ªæžå°çš„ EFI ç³»ç»Ÿåˆ†åŒºä»¥è‡³äºŽæ”¾ä¸ä¸‹å†…æ ¸ï¼Œé‚£ä½ å¯èƒ½éœ€è¦æŸ¥æ‰¾æ›´å¤šèµ„æ–™ï¼Œè¿™ä¸åœ¨è¿™ç¯‡æ–‡ç« çš„è®¨è®ºèŒƒå›´ä¹‹å†…ã€‚æ€»ä¹‹å…ˆ mkdir /mnt/boot ç„¶åŽ mount /dev/sdXY /mnt/bootã€‚æœ€åŽå¯ä»¥ç”¨ swapon /dev/sdXY å¯ç”¨ä½ åˆšæ‰åˆ›å»ºçš„ swap åˆ†åŒºï¼Œè¿™æ ·è®°å½•æ–°ç³»ç»ŸæŒ‚è½½ç‚¹çš„æ—¶å€™å°±ä¼šè®°å½•è¿™ä¸ª swap åˆ†åŒºã€‚\nç„¶åŽéœ€è¦ä¿®æ”¹é•œåƒç«™åˆ—è¡¨ï¼Œå’Œä¹‹å‰ä¸‹è½½ iso ä¸€æ ·ï¼Œç³»ç»Ÿéœ€è¦çš„å„ç§è½¯ä»¶åŒ…ä¹Ÿä¾é é•œåƒç«™æé«˜åˆ†å‘æ•ˆçŽ‡ã€‚ä½ éœ€è¦ç”¨ä¸€ä¸ªç¼–è¾‘å™¨ç¼–è¾‘ /etc/pacman.d/mirrorlistï¼Œå¦‚æžœä½ æ²¡æœ‰ç†Ÿæ‚‰çš„ç¼–è¾‘å™¨ï¼Œé‚£ nano åº”è¯¥æ˜¯ä¸ªé€‚åˆæ–°æ‰‹çš„é€‰æ‹©ï¼Œå› ä¸ºå„ç§æ“ä½œéœ€è¦çš„å¿«æ·é”®éƒ½ä¼šæ˜¾ç¤ºåœ¨å±å¹•åº•éƒ¨ï¼Œ^ ä»£è¡¨ Ctrlï¼ŒM ä»£è¡¨ Altï¼Œåœ¨åˆ—è¡¨é‡Œæ‰¾åˆ°ç¦»ä½ åœ°ç†ä½ç½®æ¯”è¾ƒè¿‘çš„å‡ ä¸ªé•œåƒç«™ï¼Œç„¶åŽåˆ é™¤å¯¹åº”çš„ Server =  å‰é¢çš„ # æ¥å¯ç”¨è¿™ä¸ªé•œåƒç«™ï¼Œä¸€èˆ¬å¯ç”¨ä¸¤ä¸‰ä¸ªå°±è¶³å¤Ÿäº†ã€‚\nç„¶åŽå°±å¯ä»¥æ­£å¼å®‰è£…è½¯ä»¶åŒ…åˆ°åˆ›å»ºçš„åˆ†åŒºäº†ï¼ä½¿ç”¨ pacstrap -K /mnt base base-devel linux linux-firmware å®‰è£…è½¯ä»¶åŒ…åˆ° /mntï¼Œä½ å¯ä»¥åœ¨åŽé¢é™„åŠ æ›´å¤šä½ éœ€è¦çš„è½¯ä»¶åŒ…ä»¥ä¾¿ä¸€å¹¶å®‰è£…ï¼Œç”šè‡³å¦‚æžœä½ ä¸æƒ³ç¬¬ä¸€æ¬¡å¯åŠ¨æ–°ç³»ç»Ÿè¿˜æ˜¯å‘½ä»¤è¡Œçš„è¯ï¼Œä¹Ÿå¯ä»¥åœ¨è¿™ä¸€æ­¥ç›´æŽ¥é™„åŠ æ¡Œé¢çŽ¯å¢ƒè¿›åŽ»ã€‚è¿™é‡Œæˆ‘è´´ä¸€ä¸ªåŸºäºŽæˆ‘å¸¸ç”¨è½¯ä»¶æ€»ç»“çš„åˆ—è¡¨ä½œä¸ºå‚è€ƒï¼š\nbase base-devel linux linux-firmware man-db man-pages btrfs-progs vim nano git rsync gnome gdm networkmanager firefox meson ninja efibootmgr haveged ibus-rime ffmpeg noto-fonts noto-fonts-cjk noto-fonts-emoji ntfs-3g btop p7zip parallel tree ttf-roboto unrar unarchiver wget usbutils bind\n\nå¦‚æžœä½ å’Œæˆ‘æœ‰ä¸åŒçš„åå¥½ï¼Œä½ åº”è¯¥å·²ç»æ¸…æ¥šå¦‚ä½•å®‰è£…ä½ éœ€è¦çš„è½¯ä»¶ï¼Œæˆ‘åœ¨è¿™é‡Œåªä»¥æˆ‘è‡ªå·±ä½¿ç”¨çš„è½¯ä»¶ä½œä¸ºä¾‹å­ã€‚ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œæˆ‘åœ¨è¿™ä¸€æ­¥ç›´æŽ¥å®‰è£…äº†æ¡Œé¢çŽ¯å¢ƒï¼Œä½†æ¡Œé¢çŽ¯å¢ƒéœ€è¦æœ‰å¯ç”¨çš„æ˜¾å¡é©±åŠ¨ï¼Œå¯¹äºŽ Intel å’Œ AMDï¼Œå®ƒä»¬çš„å¼€æºé©±åŠ¨å·²ç»è¶³å¤Ÿå¥½ç”¨ï¼Œåº”è¯¥ä¼šè‡ªåŠ¨å¼•å…¥ mesa æ‰€ä»¥æ²¡ä»€ä¹ˆéœ€è¦é¢å¤–æ“ä½œçš„ï¼Œä½†æ˜¯å¯¹äºŽ NVIDIAï¼Œä½ è¿˜éœ€è¦å®‰è£… nvidia è¿™ä¸ªåŒ…æ¥å¼•å…¥ NVIDIA çš„é—­æºé©±åŠ¨ã€‚\nç„¶åŽç­‰å¾…ä¸‹è½½å®‰è£…å³å¯ï¼ŒçŽ°åœ¨å¤§å®¶çš„å¸¦å®½éƒ½å¾ˆé«˜ï¼Œå¦‚æžœç¡®å®žé€‰äº†ç¦»è‡ªå·±è¿‘çš„é•œåƒç«™ï¼Œè¿™ä¸ªæ­¥éª¤åº”è¯¥èŠ±ä¸äº†å¤šå°‘æ—¶é—´ã€‚\nç„¶åŽè¯»å–ä½ å¯¹æ–°ç³»ç»Ÿçš„æŒ‚è½½ä¿¡æ¯å¹¶å†™å…¥åˆ°æ–°ç³»ç»Ÿé‡Œï¼Œä»¥ä¾¿æ–°ç³»ç»ŸåŸºäºŽè¿™ä¸ªæ•°æ®æŒ‚è½½ç¡¬ç›˜ï¼Œä½¿ç”¨ genfstab -U /mnt &gt;&gt; /mnt/etc/fstab å³å¯ã€‚\nçŽ°åœ¨ä½ çš„æ–°åˆ†åŒºé‡Œåº”è¯¥æœ‰ä¸€ä¸ªæ–°ç³»ç»Ÿéœ€è¦çš„å„ç§æ–‡ä»¶äº†ï¼Œä½†æ˜¯ä½ è¿˜éœ€è¦å¯¹å®ƒè¿›è¡Œå„ç§è®¾ç½®ï¼Œé¦–å…ˆéœ€è¦ chroot åˆ°æ–°çš„ç³»ç»Ÿï¼Œè¿™æ˜¯ä¸€ä¸ª Linux å†…æ ¸çš„åŠŸèƒ½ï¼Œå¯ä»¥è®©ä½ ä»¥å¦ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä½œä¸ºæ ¹ç›®å½•ä»Žè€Œæ“ä½œå…¶ä¸­çš„å„ç§æ–‡ä»¶ï¼Œè¿™é‡Œä½¿ç”¨ arch-chroot /mnt è¿›å…¥æ–°ç³»ç»Ÿçš„æ ¹ç›®å½•ã€‚\nç„¶åŽä½ è¦æŒ‡å®šè‡ªå·±æ–°ç³»ç»Ÿçš„æ—¶åŒºï¼Œæ¯”å¦‚ä½ ä½¿ç”¨çš„æ—¶åŒºæ˜¯ Asia/Shanghaiï¼Œé‚£å¯ä»¥æ‰§è¡Œ ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtimeï¼Œä½ ä¹Ÿå¯ä»¥å°† Asia/Shanghai ä¿®æ”¹ä¸ºå…¶å®ƒçš„æ—¶åŒºï¼Œæ‰€æœ‰å¯ç”¨çš„æ—¶åŒºéƒ½ä»¥ç›®å½•å’Œæ–‡ä»¶çš„å½¢å¼åˆ—åœ¨ /usr/share/zoneinfo/ ä¸‹é¢ã€‚\nç„¶åŽä½ éœ€è¦æ‰§è¡Œ hwclock --systohcï¼Œè¿™ä¼šå‡è®¾ä½ çš„ BIOS æ—¶é—´æ˜¯ UTCï¼Œè¿™å’Œ Windows é»˜è®¤çš„å‡è®¾ä¸ä¸€è‡´ï¼ŒWindows è®¤ä¸ºä½ çš„ BIOS æ—¶é—´å°±æ˜¯æœ¬åœ°æ—¶é—´ã€‚å¯ä»¥è®© Linux è®¤ä¸º BIOS æ—¶é—´æ˜¯æœ¬åœ°æ—¶é—´ï¼Œä½†æ˜¯å¯èƒ½ä¼šå¯¼è‡´å„ç§é—®é¢˜ï¼ŒåŒæ ·ä¹Ÿæœ‰åŠžæ³•è®© Windows è®¤ä¸º BIOS æ—¶é—´æ˜¯ UTC æ—¶é—´ï¼Œåªéœ€è¦éšä¾¿æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡æ¡£ï¼Œå†™å…¥å¦‚ä¸‹å†…å®¹ï¼š\nWindows Registry Editor Version 5.00\n\n[HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\TimeZoneInformation]\n\"RealTimeIsUniversal\"=dword:00000001\n\nç„¶åŽä¿å­˜å¹¶ä¿®æ”¹æ‰©å±•åä¸º .regï¼Œç„¶åŽåŒå‡»å¯¼å…¥æ³¨å†Œè¡¨é¡¹å¹¶é‡å¯ã€‚\næŽ¥ä¸‹æ¥ä¿®æ”¹æœ¬åœ°åŒ–ç›¸å…³å†…å®¹ï¼Œé¦–å…ˆæ˜¯ glibc éœ€è¦å¯¹ä¸åŒçš„è¯­è¨€ç”Ÿæˆä¸åŒçš„é…ç½®ï¼Œéœ€è¦ç”¨ç¼–è¾‘å™¨ç¼–è¾‘ /etc/locale.gen æ–‡ä»¶ï¼Œå¿…é¡»è¦å¯ç”¨çš„æ˜¯ en_US.UTF-8 UTF-8ï¼Œåˆ«çš„å¯ä»¥æŒ‰éœ€æ±‚å¯ç”¨ä½ éœ€è¦çš„ï¼Œåªè¦åˆ æŽ‰å¼€å¤´çš„ #ï¼Œæ³¨æ„åªè¦å¯ç”¨å¸¦ UTF-8 çš„å°±å¯ä»¥ã€‚ä¸è¿‡è¿™ä¸€æ­¥ä¹Ÿå¯ä»¥ç•¥è¿‡å…¶ä»–çš„åªå¯ç”¨è‹±è¯­ï¼Œç„¶åŽåœ¨æ¡Œé¢çŽ¯å¢ƒé‡Œä¿®æ”¹è¯­è¨€çš„è¯æ¡Œé¢çŽ¯å¢ƒåº”è¯¥ä¼šè‡ªåŠ¨å¤„ç†ç›¸å…³çš„æ–‡ä»¶ã€‚ç„¶åŽè¿è¡Œ locale-genï¼Œå®ƒä¼šæ ¹æ®ä¸Šè¿°æ–‡ä»¶çš„å†…å®¹å…·ä½“ç”Ÿæˆå¯¹åº”æ–‡ä»¶ã€‚\nç„¶åŽåˆ›å»º /etc/locale.conf æ–‡ä»¶ï¼Œå†™å…¥ä½ å½“å‰ä½¿ç”¨çš„ LANG å˜é‡ï¼Œä¸è¿‡å…¶å®ž tty ä¸èƒ½æ˜¾ç¤ºä¸­æ–‡ï¼Œæ‰€ä»¥è¿™ä¸€æ­¥æŽ¨èè®¾ç½®æˆè‹±æ–‡ï¼Œç­‰åˆ°æ¡Œé¢èµ·æ¥äº†å†æ”¹ä¹Ÿæ¥å¾—åŠï¼Œå› æ­¤æŽ¨èå†™å…¥ LANG=en_US.UTF-8ã€‚\nç½‘ç»œç›¸å…³çš„é…ç½®é¦–å…ˆéœ€è¦è®¾ç½® hostnameï¼Œè¿™ä¸€æ­¥åªè¦æ‰“å¼€ /etc/hostname æ–‡ä»¶å†™å…¥ä½ æƒ³è¦çš„ä¸»æœºåå°±è¡Œäº†ã€‚æˆ‘çš„ä¹ æƒ¯æ˜¯ä½¿ç”¨ NetworkManager ç®¡ç†ç½‘ç»œè¿žæŽ¥ï¼Œå› æ­¤éœ€è¦è®¾ç½®è®©ç³»ç»Ÿä¸‹æ¬¡å¯åŠ¨æ—¶å¯ç”¨ NetworkManagerï¼Œåªè¦ systemctl enable NetworkManager å°±å¯ä»¥ã€‚NetworkManager ä¼šè‡ªåŠ¨ç®¡ç†ä½ çš„ç½‘å¡ï¼Œæ¯”å¦‚æœ‰çº¿ç½‘å¡å°±ä¼šè‡ªåŠ¨å°è¯• DHCPï¼ŒåŒæ—¶ä¹Ÿæä¾›å’Œæ¡Œé¢çŽ¯å¢ƒçš„é›†æˆï¼Œæ–¹ä¾¿ä½¿ç”¨æ— çº¿ç½‘å¡ã€‚\nä¸€äº›æ— çº¿ç½‘å¡éœ€è¦çš„å›ºä»¶å¯èƒ½è¢«å•ç‹¬åˆ’åˆ†åœ¨åˆ«çš„åŒ…é‡Œï¼Œæ­¤æ—¶ä½ å¯ä»¥å®‰è£…è¿™äº›åŒ…ï¼Œæ¯”å¦‚é«˜é€šçš„ç½‘å¡å°±æ˜¯ pacman -S linux-firmware-qcomã€‚\nç„¶åŽä½ éœ€è¦è¿›è¡Œå¯åŠ¨ç›¸å…³çš„è®¾ç½®ï¼Œé¦–å…ˆä½ å¾—ç”Ÿæˆ initramfsï¼Œè¿™ä¸ªä¸œè¥¿è§£å†³çš„é—®é¢˜æ˜¯â€œéœ€è¦åŠ è½½æ¨¡å—æ‰èƒ½è¯»å–å¯¹åº”çš„æ–‡ä»¶ç³»ç»Ÿï¼Œä½†æ¨¡å—å°±å­˜åœ¨é‚£ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸Šâ€è¿™ç§é—®é¢˜ï¼Œä¸ºäº†æ‰“ç ´é¸¡ç”Ÿè›‹è¿˜æ˜¯è›‹ç”Ÿé¸¡çš„å¾ªçŽ¯ï¼Œè§£å†³æ–¹æ³•å°±æ˜¯åˆ›å»ºä¸€ä¸ªéžå¸¸å°çš„åŒ…å«å¿…è¦æ¨¡å—çš„æ–‡ä»¶ï¼Œå’Œå†…æ ¸æ”¾åœ¨ä¸€èµ·ï¼Œä¿è¯å¯åŠ¨æ—¶å¯ä»¥åŠ è½½è¿™ä¸ªæ–‡ä»¶ã€‚ç”Ÿæˆè¿™ä¸ªæ–‡ä»¶å¾ˆç®€å•ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„é…ç½®ï¼Œåªè¦æ‰§è¡Œ mkinitcpio -P å°±è¡Œäº†ã€‚\nåŒæ—¶çŽ°ä»£çš„ CPU éƒ½æ”¯æŒåŠ è½½å¾®ç æ¥çƒ­ä¿®å¤ CPU çš„ bugï¼Œè¿™ä¹Ÿæ˜¯é€šè¿‡åœ¨å¯åŠ¨æ—¶åŠ è½½ç›¸å…³çš„æ–‡ä»¶å®žçŽ°ï¼Œé¦–å…ˆéœ€è¦å®‰è£…å¯¹åº”çš„å¾®ç åŒ…ï¼Œå¦‚æžœæ˜¯ Intel å°± pacman -S intel-ucodeï¼ŒAMD å°± pacman -S amd-ucodeã€‚\nç„¶åŽä½ è¿˜éœ€è¦ä¸€ä¸ª bootloader åŠ è½½ä½ çš„å†…æ ¸å’Œ initramfsï¼Œæœ€æµè¡ŒåŠŸèƒ½æœ€å…¨çš„æ˜¯ GRUBï¼Œä½†æˆ‘è§‰å¾— systemd-boot ä¹Ÿå®Œå…¨å¤Ÿç”¨äº†ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹© systemd-bootã€‚å› ä¸ºå·²ç»å®‰è£…äº† systemd æ‰€ä»¥å°±ä¸éœ€è¦é¢å¤–å®‰è£…ä»€ä¹ˆäº†ï¼Œåªè¦ bootctl installï¼Œå°±å¯ä»¥å®‰è£…å¼•å¯¼éœ€è¦çš„æ–‡ä»¶ã€‚\nä½†æˆ‘ä»¬ä»ç„¶éœ€è¦å‘Šè¯‰ loader åŽ»å“ªé‡ŒåŠ è½½å†…æ ¸ï¼ŒåŠ è½½å“ªä¸ªå†…æ ¸ã€‚systemd-boot éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ç¼–å†™é…ç½®æ–‡ä»¶è®°å½•è¿™äº›å†…å®¹ã€‚é¦–å…ˆéœ€è¦ mkdir /boot/loader/entries å»ºç«‹ç”¨äºŽæ”¾ç½®ä¸åŒå†…æ ¸å¯åŠ¨é¡¹çš„æ–‡ä»¶ï¼Œç„¶åŽå†ç¼–è¾‘ /boot/loader/entries/arch.conf ç»™é»˜è®¤çš„å†…æ ¸ç¼–å†™ä¸€ä¸ªæ–‡ä»¶ã€‚\nä¸€ä¸ªé…ç½®æ–‡ä»¶æŽ¨èåŒ…å«ä»¥ä¸‹å†…å®¹ï¼š\ntitle   Arch Linux\nlinux   /vmlinuz-linux\ninitrd\t/amd-ucode.img\ninitrd  /initramfs-linux.img\noptions root=\"UUID=xxxx-xxxx-xxxx\" rw add_efi_memmap\n\nåŸºæœ¬ä¸Šä½ éœ€è¦æ”¹çš„æœ‰ä¸¤å¤„ï¼Œä¸€ä¸ªæ˜¯å¦‚æžœæ˜¯ Intel å°±æŠŠ amd-ucode æ”¹æˆ intel-ucodeï¼Œå¦ä¸€ä¸ªæ˜¯è¦æŠŠå†…æ ¸å‚æ•°é‡Œ root= çš„å€¼è®¾ç½®ä¸ºä½ çš„æ ¹åˆ†åŒºï¼Œä»¥ä¾¿å†…æ ¸æ‰¾åˆ°ä½ çœŸæ­£çš„æ ¹åˆ†åŒºã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡æ‰“å¼€ /etc/fstab æ‰¾åˆ°é‡Œé¢æŒ‚è½½åˆ° / çš„è®¾å¤‡å¾—åˆ°éœ€è¦çš„å€¼ã€‚\nç„¶åŽä½ éœ€è¦ç¼–è¾‘ /boot/loader/loader.confï¼Œè¿™æ˜¯ç»™ loader çš„é…ç½®ï¼Œå…¶å®žåªéœ€è¦ä¸€è¡Œ default arch.confï¼Œå‘Šè¯‰ loader é»˜è®¤åŠ è½½ arch å†…æ ¸çš„é…ç½®å°±å¯ä»¥äº†ã€‚\næœ€åŽéœ€è¦è¿›è¡Œå¯†ç é…ç½®ï¼Œé¦–å…ˆæ‰§è¡Œ passwd è®¾ç½® root å¯†ç ã€‚ç”±äºŽ root æƒé™å¤ªé«˜ï¼Œå¹³æ—¶ä¸å»ºè®®ä½¿ç”¨ root æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ useradd -m newuser åˆ›å»ºä¸€ä¸ªæ™®é€šç”¨æˆ·ï¼Œ-m çš„æ„æ€æ˜¯ä¼šè‡ªåŠ¨ç»™ç”¨æˆ·åˆ›å»ºåŒåçš„ home ç›®å½•å­˜å‚¨ç”¨æˆ·ç›¸å…³çš„æ–‡ä»¶ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠ newuser æ”¹æˆä»»ä½•ä½ æƒ³è¦çš„ç”¨æˆ·åã€‚ç„¶åŽæ‰§è¡Œ passwd newuser ç»™è¿™ä¸ªæ–°ç”¨æˆ·è®¾ç½®å¯†ç ã€‚åŒæ—¶ä¸ºäº†æ–¹ä¾¿è¿›è¡Œé«˜æƒé™æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦å…è®¸æ–°ç”¨æˆ·æ‰§è¡Œ sudoï¼Œé¦–å…ˆæ‰§è¡Œ EDITOR=nano visudo ç¼–è¾‘ sudoers æ–‡ä»¶ï¼Œæ‰¾åˆ° root ALL=(ALL) ALL ä¸€è¡Œï¼Œç„¶åŽåœ¨ä¸‹é¢æ’å…¥ newuser ALL=(ALL) ALLï¼ˆè®°å¾—ç”¨ä½ æƒ³è¦çš„ç”¨æˆ·åï¼‰ï¼Œä¿å­˜å³å¯ã€‚\nç„¶åŽè¿è¡Œ systemctl enable gdmï¼Œè¿™ä¼šå‘Šè¯‰ç³»ç»Ÿå¯åŠ¨æ—¶å¯ç”¨ GNOME æ˜¾ç¤ºç®¡ç†å™¨ï¼Œä¸‹æ¬¡å¯åŠ¨æ—¶ä½ å°±ä¼šå¾—åˆ°å›¾å½¢ç•Œé¢å¹¶å¯ä»¥ç›´æŽ¥ç™»å½•è¿›æ¡Œé¢ã€‚æ­¤æ—¶å…³äºŽæ–°ç³»ç»Ÿçš„è®¾ç½®éƒ½å·²åŸºæœ¬å®Œæˆï¼Œæ‰§è¡Œ exit é€€å‡º chrootï¼Œç„¶åŽæ‰§è¡Œ reboot é‡å¯ç”µè„‘ï¼Œä½ åº”è¯¥å¯ä»¥åœ¨ UEFI å¯åŠ¨é€‰å•é‡Œæ‰¾åˆ° Linux Boot Managerï¼Œé€‰æ‹©å°±ä¼šå¯åŠ¨æ–°å®‰è£…çš„ Arch Linuxã€‚\nç”±äºŽæ­¤æ—¶åº”è¯¥å·²ç»å¯åŠ¨å›¾å½¢ç•Œé¢äº†ï¼Œå¯¹äºŽæ¡Œé¢çš„å„ç§è®¾ç½®åªè¦åœ¨å›¾å½¢ç•Œé¢çš„è®¾ç½®ç¨‹åºé‡Œè®¾ç½®å³å¯ï¼Œå°±ä¸éœ€è¦ä¸“é—¨è®²è¿°æ€Žä¹ˆç”¨äº†ã€‚\n"},{"title":"DaVinci Resolve å¥‡æ€ªçš„ç´ æä½ç½®è®¡ç®—é€»è¾‘","url":"/posts/Strange-Logic-of-DaVinci-Resolve-on-Calculating-Clip-Position/","content":"ä¸Šä¸€ç¯‡æ–‡ç« æåˆ°äº† DaVinci Resolve å¯¹äºŽç´ æä½ç½®çš„è®¡ç®—é€»è¾‘éžå¸¸å¥‡æ€ªå¹¶ä¸”ä¸è‚¯ä¿®æ”¹ï¼Œè¿™ç¯‡æˆ‘è¯•å›¾æ¦‚æ‹¬ä¸€ä¸‹å…·ä½“çš„è®¡ç®—é€»è¾‘æ–¹ä¾¿è‡ªå·±ä½¿ç”¨ã€‚å¦‚æžœä½ ä¹Ÿé‡åˆ°äº†åŒæ ·çš„é—®é¢˜å¹¶ä¸”å¸Œæœ›ä»–ä»¬æ”¹è¿›ï¼Œå¯ä»¥åŽ»æ”¯æŒ æˆ‘å‘çš„å¸–å­ï¼ˆè‹±è¯­ï¼‰ã€‚\n\n\nè®¡ç®—åŸºå‡†\nç¼©æ”¾/è£åˆ‡/ä½ç½®æ°¸è¿œä»¥åŽŸå›¾å¤§å°ä½œä¸ºåŸºå‡†ï¼Œä¸ä¼šäº’ç›¸å½±å“ã€‚\né¡¹ç›®è®¾ç½®é‡Œæœ‰â€œç¼©æ”¾åŽŸå›¾è‡³é€‚é…å¤§å°ä¸”ä¸å‡ºçŽ°è£åˆ‡â€å’Œâ€œä¸è°ƒæ•´åŽŸå›¾å¤§å°å¹¶è£åˆ‡è¶…å‡ºéƒ¨åˆ†â€ä¸¤ä¸ªæ¯”è¾ƒåˆç†çš„é€‰é¡¹ï¼Œâ€œç¼©æ”¾åŽŸå›¾è‡³é€‚é…å¤§å°ä¸”ä¸å‡ºçŽ°è£åˆ‡â€å¯ä»¥ç†è§£ä¸ºæ’å…¥æ—¶é—´çº¿ä¹‹å‰å°±æ”¹å˜äº†åŽŸå›¾å¤§å°ã€‚ä¾‹å¦‚ç”»å¸ƒå°ºå¯¸ 1920x1080ï¼Œç´ æå°ºå¯¸ 512x512ï¼Œé€‰æ‹©â€œç¼©æ”¾åŽŸå›¾è‡³é€‚é…å¤§å°ä¸”ä¸å‡ºçŽ°è£åˆ‡â€ï¼Œç›¸å½“äºŽç”¨å¤–éƒ¨å‘½ä»¤æŠŠç´ æç¼©æ”¾åˆ° 1080x1080 ç„¶åŽå†æ’å…¥æ—¶é—´çº¿ï¼ŒåŽç»­ç¼©æ”¾/è£åˆ‡/ä½ç½®å‡ä»¥ 1080x1080 ä½œä¸ºåŸºå‡†ã€‚\nç¼©æ”¾\nç¼©æ”¾å˜æ¢åªè®¡ç®—åŽŸå›¾å¤§å°ã€‚\nç¼©æ”¾å˜æ¢é»˜è®¤ä»¥ç´ æä¸­å¿ƒä½œä¸ºåŸºå‡†ã€‚ç”±äºŽä½ç½®å˜æ¢è®¡ç®—å¤ªå¤æ‚äº†ï¼Œä¸è€ƒè™‘æ”¹å˜é”šç‚¹å‚æ•°çš„æƒ…å†µã€‚\nè£åˆ‡\nè£åˆ‡åªè®¡ç®—åŽŸå›¾å¤§å°ã€‚æ— è®ºç´ æçš„ç¼©æ”¾å˜æ¢å‚æ•°æ˜¯å¤šå°‘ï¼Œéƒ½ä½¿ç”¨åŽŸå›¾å¤§å°è®¡ç®—ç»“æžœã€‚\nä¾‹ï¼šç”»å¸ƒ 1920x1080ï¼Œç´ æ 512x512ã€‚\n\né€‰æ‹©â€œç¼©æ”¾åŽŸå›¾è‡³é€‚é…å¤§å°ä¸”ä¸å‡ºçŽ°è£åˆ‡â€ï¼Œæ­¤æ—¶åŽŸå›¾å¤§å°æ˜¯ 1080x1080ï¼Œå·¦ä¾§è£åˆ‡ 50% åº”è¾“å…¥ 1080 * 50% = 512ã€‚\né€‰æ‹©â€œä¸è°ƒæ•´åŽŸå›¾å¤§å°å¹¶è£åˆ‡è¶…å‡ºéƒ¨åˆ†â€ï¼Œæ­¤æ—¶åŽŸå›¾å¤§å°æ˜¯ 512x512ï¼Œå·¦ä¾§è£åˆ‡ 50% åº”è¾“å…¥ 512 * 50% = 256ã€‚\n\nç”±äºŽä½ç½®å˜æ¢è®¡ç®—å¤ªå¤æ‚äº†ï¼Œä¸è€ƒè™‘å‹¾é€‰â€œä¿ç•™å›¾ç‰‡ä½ç½®â€çš„æƒ…å†µã€‚\nä½ç½®\nä½ç½®å˜æ¢åªè®¡ç®—åŽŸå›¾å¤§å°ã€‚æ— è®ºç´ æçš„ç¼©æ”¾å˜æ¢å‚æ•°å’Œè£åˆ‡å‚æ•°æ˜¯å¤šå°‘ï¼Œéƒ½ä½¿ç”¨åŽŸå›¾å¤§å°è®¡ç®—ç»“æžœã€‚\nDaVinci Resolve å¯¹äºŽç´ æä½ç½®è¾“å…¥æ¡†ä½¿ç”¨ç‰¹æ®Šçš„è®¡ç®—é€»è¾‘ï¼ˆæ€€ç–‘æ˜¯ bugï¼‰ï¼Œå‡è®¾ç”»å¸ƒå®½åº¦ä¸º canvas_widthï¼Œç”»å¸ƒé«˜åº¦ä¸º canvas_heightï¼ŒåŽŸå›¾å®½åº¦ä¸º clip_width, åŽŸå›¾é«˜åº¦ä¸º clip_heightï¼Œå¦‚æžœæƒ³å°†ç´ ææ°´å¹³æ–¹å‘ç§»åŠ¨ x åƒç´ ï¼Œåž‚ç›´æ–¹å‘ç§»åŠ¨ y åƒç´ ï¼Œåˆ™éœ€è¦å¡«å…¥çš„æ•°æ®éœ€è¦æŒ‰ç…§ f(x) = x / clip_width * canvas_width å’Œ f(y) = y / clip_height * canvas_height è¿›è¡Œè®¡ç®—ã€‚æ³¨æ„ï¼ŒæŒ‰æ­¤è®¡ç®—é€»è¾‘ï¼Œå¡«å…¥çš„ä¸¤ä¸ªæ•°æ®çš„æ¯”ä¾‹æ˜¾ç„¶å’Œå®žé™…ç§»åŠ¨çš„åƒç´ æ¯”ä¾‹ä¸åŒã€‚\nä¾‹ï¼šç”»å¸ƒ 1920x1080ï¼Œç´ æ 512x512ã€‚\n\né€‰æ‹©â€œç¼©æ”¾åŽŸå›¾è‡³é€‚é…å¤§å°ä¸”ä¸å‡ºçŽ°è£åˆ‡â€ï¼Œæ­¤æ—¶åŽŸå›¾å¤§å°æ˜¯ 1080x1080ï¼Œå‘å·¦ç§»åŠ¨ 540 åƒç´ åº”è¾“å…¥ 540 / 1080 * 1920 = 960ã€‚\né€‰æ‹©â€œä¸è°ƒæ•´åŽŸå›¾å¤§å°å¹¶è£åˆ‡è¶…å‡ºéƒ¨åˆ†â€ï¼Œæ­¤æ—¶åŽŸå›¾å¤§å°æ˜¯ 512x512ï¼Œå‘å·¦ç§»åŠ¨ 540 åƒç´ åº”è¾“å…¥ 540 / 512 * 1920 = 2025ã€‚\n\n"},{"title":"é¦–å…ˆæ˜¯çŠ¯ä¸‹å‚²æ…¢ä¹‹ç½ªçš„é—­æºæ‹–æ‹‰æœº","url":"/posts/Firstly-The-Arrogant-Closed-Source-Tractor/","content":"å¾ˆé—æ†¾çš„ï¼Œæˆ‘ä»¬æ²¡æœ‰ç”Ÿæ´»åœ¨å¯ä»¥å®Œå…¨åªä½¿ç”¨å¼€æºè½¯ä»¶çš„ä¸–ç•Œé‡Œï¼Œæ‰€ä»¥æœ‰æ—¶å€™ä¸å¾—ä¸å¿å—ä¸€äº›é—­æºæ‹–æ‹‰æœºçš„å‚²æ…¢ã€‚ä¸€ä¸ªç»å…¸çš„æƒ…å†µå°±æ˜¯æ˜Žæ˜Žç”¨æˆ·èŠ±äº†é’±ï¼Œè¿˜æ˜¯å¾—å½“å­™å­â€”â€”æˆ‘æŒ‡çš„æ˜¯ç”¨æˆ·åé¦ˆå®Œå…¨æ²¡æœ‰å¼€å‘è€…çœ‹è¿™ä»¶äº‹æƒ…ã€‚æˆ–è€…æ›´è¿›ä¸€æ­¥ï¼Œæˆ‘è®¤ä¸º GitHub æˆ–è€… GitLab çš„ issue ï¼ˆæˆ–è€… bugzillaï¼‰æ˜¯æ¯”ç”¨æˆ·è®ºå›æ›´å¥½çš„åé¦ˆå·¥å…·ã€‚\n\n\nä¸€ä¸ªå‘ç”Ÿåœ¨æˆ‘èº«ä¸Šçš„ä¾‹å­æ˜¯ PowerAMPï¼Œæˆ‘æ›¾ç»æ˜¯å®ƒçš„ä»˜è´¹ç”¨æˆ·ï¼ˆçŽ°åœ¨ä¹Ÿæ˜¯ä»˜è´¹ç”¨æˆ·ï¼Œä½†å¹¶ä¸æ˜¯æ´»è·ƒç”¨æˆ·ï¼‰ã€‚PowerAMP æœ‰è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œå½“ä½ æœç´¢ä¸€é¦–æ­Œçš„æ—¶å€™ï¼Œä½ å¿…é¡»è¾“å…¥ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„å­—ç¬¦æœç´¢æ‰ä¼šå¯åŠ¨ã€‚è¿™å¯¹äºŽè‹±è¯­æ­Œæ¥è¯´ä¸æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œå› ä¸ºå¤§éƒ¨åˆ†å•è¯éƒ½æ˜¯ä¸¤ä¸ªå­—ç¬¦ä»¥ä¸Šï¼Œå‡ ä¹Žä¸ä¼šå‡ºçŽ°éœ€è¦ä¾é ä¸€ä¸ªå­—ç¬¦æŸ¥æ‰¾æ­Œæ›²çš„æƒ…å†µã€‚ä½†å‡å¦‚ä½ æ˜¯ä¸€ä¸ªä¸ä¼šå‡åçš„æ—¥è¯­æ­Œçˆ±å¥½è€…ï¼Œä½ æƒ³è¦ä¾èµ–æ ‡é¢˜é‡ŒæŸä¸ªä½ è®¤è¯†çš„æ±‰å­—æœç´¢åˆ°ä½ æƒ³è¦çš„æ­Œï¼Œè¿™æ—¶å€™ PowerAMP çš„æœç´¢å°±æ˜¯å®Œå®Œå…¨å…¨çš„åºŸç‰©ã€‚è‡³å°‘å¯¹äºŽæˆ‘è‡ªå·±æ¥è¯´è¿™ä¸ªéœ€æ±‚æ›¾ç»åˆ‡å®žå­˜åœ¨äº†å¾ˆé•¿ä¸€æ®µæ—¶é—´ã€‚æˆ‘ä¸æ˜¯æ²¡æœ‰å°è¯•ç»™å¼€å‘è€…åé¦ˆï¼ŒPowerAMP æœ‰ä¸€ä¸ªè‡ªå·±çš„è®ºå›ç”¨ä½œç”¨æˆ·åé¦ˆå·¥å…·ï¼Œä½†è¿‡äº†ä¸¤å¹´ä¹Ÿæ²¡æœ‰äººå›žå¤ æˆ‘çš„å¸–å­ã€‚å¦‚æžœå¼€å‘è€…å®Œå…¨ä¸çœ‹ç”¨æˆ·åé¦ˆï¼Œæˆ–è€…åªçœ‹çƒ­åº¦é«˜çš„ç”¨æˆ·åé¦ˆï¼Œé‚£è¿™è®ºå›è¿˜æœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ\næ‰€ä»¥éžå¸¸æžç¬‘çš„ç»“è®ºå‘ç”Ÿäº†ï¼Œæˆ‘ä½œä¸ºä¸€ä¸ªä»˜è´¹ç”¨æˆ·ï¼Œæœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆæ˜¯æˆ‘åŽ»å­¦äº†äº”åéŸ³ï¼Œä¸è¿‡è¿™ä¹Ÿæ²¡æœ‰å®Œå…¨è§£å†³é—®é¢˜ï¼Œæˆ‘æ„è¯†åˆ°å³ä½¿è¿™æ ·ï¼Œä»ç„¶å­˜åœ¨æ— æ³•è§£å†³çš„æƒ…å†µï¼šæ¯”å¦‚æ ‡é¢˜åªæœ‰ä¸€ä¸ªæ±‰å­—çš„æ­Œï¼Œä½ æ°¸è¿œä¹Ÿä¸å¯èƒ½åœ¨ PowerAMP é‡Œé€šè¿‡æ ‡é¢˜æœç´¢åˆ°å®ƒï¼ˆé‚£è‹±ç‚¹äº†ä¸ªèµžå¹¶è¯„è®ºâ€œæœ€çƒ¦è£…é€¼çš„æ’­æ”¾å™¨ä½œè€…â€ï¼‰ã€‚æˆ‘ç”šè‡³å·²ç»è„‘è¡¥å‡ºäº†ä½œè€…æ´‹æ´‹è‡ªå¾—åœ°å†™ä¸‹ if (str.length &lt; 2) return; ä»¥ä¸ºè‡ªå·±å¯¹æœç´¢åšäº†å¤©æ‰èˆ¬çš„ä¼˜åŒ–ï¼Œä½†åœ¨ä»–å¯æ€œçš„è„‘è¢‹é‡Œå´æ‰¾ä¸åˆ°é«˜å¾·çº³é‚£å¥è‘—åçš„â€œè¿‡æ—©ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æºâ€ï¼Œç”šè‡³ç”¨æˆ·çš„åé¦ˆä¹Ÿè¢«ä»–å¿½ç•¥æŽ‰äº†ã€‚æœ€ç»ˆæˆ‘é€‰æ‹©æ”¾å¼ƒè¿™ä¸ªè‡ªä»¥ä¸ºæ˜¯çš„é—­æºæ‹–æ‹‰æœºï¼Œæ¢äº†ä¸€äº›åŠŸèƒ½æ²¡è¿™ä¹ˆå¤šï¼Œä½†å´æ²¡æœ‰è¿™ä¸ªè¿‡æ—©ä¼˜åŒ–çš„æ›¿ä»£å“ã€‚\næ›´æ–°ï¼ˆ2022-07-28T19:26:00ï¼‰ï¼šArch Linux CN ç¤¾åŒºé‡Œçš„ @weearcâš è·Ÿæˆ‘è¯´ä»–çš„ PowerAMP è¾“å…¥å•ä¸ªå­—ç¬¦æ˜¯å¯ä»¥æœç´¢çš„ï¼Œè¿™è®©æˆ‘å¾ˆç–‘æƒ‘ï¼Œæˆ‘åˆé‡æ–°ä¸‹è½½å®‰è£…äº†ä¸€ä¸ª PowerAMPï¼Œä½†æˆ‘çš„å´ä»ç„¶ä¸è¡Œã€‚æˆ‘ä»¬ä¿©ç ”ç©¶ä¸€ç•ªåŽæ‰å‘çŽ°é—®é¢˜æ‰€åœ¨ï¼šå¦‚æžœå®‰è£…è¿‡åŽç›´æŽ¥ç‚¹å¯¼èˆªæ çš„æœç´¢ï¼Œå¿…é¡»è¦è¾“å…¥ä¸¤ä¸ªæˆ–ä»¥ä¸Šå­—ç¬¦æ‰èƒ½å¼€å§‹æœç´¢ã€‚ä½†å¦‚æžœåœ¨åª’ä½“åº“é¡µé¢ç‚¹å‡»æ‰€æœ‰æ­Œæ›²ï¼Œç„¶åŽç‚¹å‡»åˆ—è¡¨æ ‡é¢˜ä¸‹çš„æœç´¢æŒ‰é’®ï¼Œæ­¤æ—¶è¾“å…¥ä¸€ä¸ªå­—ç¬¦å°±ä¼šå¼€å§‹æœç´¢ã€‚å…·ä½“çš„åŽŸå› å¯èƒ½æ˜¯å› ä¸ºè¿™æ—¶æœç´¢æ·»åŠ äº†ä¸€ä¸ªâ€œæ‰€æœ‰æ­Œæ›²â€çš„è¿‡æ»¤å™¨ï¼Œåªæœç´¢æœ¬åœ°æ­Œæ›²ã€‚å¤§æ¦‚æ˜¯ä½œè€…è‡ªä»¥ä¸ºæ˜¯çš„å†³å®šé™åˆ¶åŒ…å«åœ¨çº¿æºçš„æœç´¢çš„å¯åŠ¨æ¡ä»¶æ¥å‡å°‘åœ¨çº¿æœç´¢çš„å¯åŠ¨æ¬¡æ•°ï¼Œä¸ç®¡æ€Žä¹ˆè¯´è¿™ä¹Ÿå±žäºŽä¸€ä¸ªè¿‡æ—©ä¼˜åŒ–ï¼Œè€Œä¸”å¯¹æˆ‘è¿™ç§å®Œå…¨ä¸ä½¿ç”¨åœ¨çº¿åŠŸèƒ½çš„ç”¨æˆ·è€Œè¨€é™¤äº†å¾’å¢žè¿·æƒ‘ä¹‹å¤–æ²¡æœ‰ä»»ä½•çš„å¥½å¤„ã€‚è™½ç„¶æ·»åŠ äº†â€œæ‰€æœ‰æ­Œæ›²â€çš„è¿‡æ»¤å™¨ä¹‹åŽå†ä»Žå¯¼èˆªæ å¯åŠ¨æœç´¢ä»ç„¶ä¼šå¸¦è¿™ä¸ªè¿‡æ»¤å™¨ï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ª workaround è§£å†³æˆ‘çš„é—®é¢˜ï¼Œæˆ‘è¿˜æ˜¯è®¤ä¸ºè¿™å¯¹ä¸­æ–‡æ­Œæ›²ä¸æ˜¯å¾ˆå‹å¥½ã€‚è¿™æ¬¡æˆ‘å‘çŽ° app å†…çš„â€œè”ç³»æˆ‘ä»¬â€åŠŸèƒ½ä¼šç»™ä½œè€…å‘é‚®ä»¶ï¼ŒäºŽæ˜¯æˆ‘å†™äº†å°é‚®ä»¶åé¦ˆè¿™ä¸ªä¸ä¸€è‡´ï¼Œå¸Œæœ›ä»–è®°å¾—æŸ¥çœ‹è‡ªå·±çš„é‚®ç®±ã€‚\nå¦ä¸€ä¸ªæˆ‘äº²èº«ç»åŽ†çš„é—®é¢˜æ˜¯ DaVinci Resolveï¼Œä½†æ˜¯å¥½è¯è¯´åœ¨å‰å¤´ï¼Œæ¯”èµ·å¤§éƒ¨åˆ†ä¸å‹å¥½çš„é—­æºè½¯ä»¶å¼€å‘å•†ï¼ŒBlackMagic\n Design å·²ç»æ˜¯ç­çº§é‡Œçš„ä¸‰å¥½å­¦ç”Ÿäº†ï¼Œæˆ‘ä»¬å°±ä¸ææ¯”å¦‚å®˜æ–¹æ”¯æŒ Linux è¿™æ ·å¤§å®¶éƒ½çŸ¥é“çš„ä¼˜ç‚¹ï¼Œè€Œæ˜¯è¯´ä¸€ä¸‹åŒæ ·çš„è®ºå›åé¦ˆé—®é¢˜ã€‚Linux ç‰ˆæœ¬çš„ DaVinci Resolve ä¸æ”¯æŒ Linux ä¸Šä¸¤ç§å¸¸è§çš„è¾“å…¥æ³•ï¼Œè€Œä½œä¸ºè´­ä¹°äº† Studio ç‰ˆçš„ä»˜è´¹ç”¨æˆ·ï¼Œæˆ‘è‡ªç„¶æ˜¯ç§¯æžçš„åœ¨å®˜æ–¹è®ºå›åé¦ˆäº†è¿™ä¸ªé—®é¢˜ï¼Œç»“æžœå˜›æ¯” PowerAMP å¥½é‚£ä¹ˆä¸€ç‚¹ï¼Œä¸€ä¸ª BlackMagic Design çš„å‘˜å·¥çœ‹åˆ°äº†æˆ‘çš„å¸–å­å¹¶æŠŠå®ƒç§»åŠ¨åˆ°äº† Feature Request åˆ†åŒºï¼Œç„¶åŽå°±æ²¡æœ‰ç„¶åŽäº†ã€‚\nåœ¨æŸäº›äººè¯•å›¾ä¸ºæ‹¿èµ°ä»–ä»¬é’±çš„é—­æºè½¯ä»¶å¼€å‘å•†æ‰¾â€œä¹Ÿè®¸æ˜¯ Linux è¾“å…¥æ³•å¤ªå¤šæ”¯æŒèµ·æ¥å¤ªéº»çƒ¦ä»–ä»¬çœŸçš„æ²¡æœ‰è¶³å¤ŸäººåŠ›åšâ€çš„å€Ÿå£ä¹‹å‰ï¼Œæˆ‘è¦å…ˆå‘åˆ¶äººè¯´æ˜Žä¸€ä¸‹ï¼Œè¿™å…¶å®žä¹Ÿæ˜¯ä¸ªâ€œä¸€è¡Œä»£ç â€å°±èƒ½è§£å†³çš„é—®é¢˜ï¼Œç”šè‡³å¹¶ä¸éœ€è¦ BlackMagic Design å†™å®žé™…çš„ä»£ç ã€‚DaVinci Resolve ä½¿ç”¨ Qt ä½œä¸ºç•Œé¢åº“ï¼ŒQt æœ¬èº«å°±åšå¥½äº† Linux ä¸‹é¢å¸¸è§è¾“å…¥æ³•çš„æ”¯æŒï¼Œåªè¦åœ¨æž„å»ºæ—¶å€™æ‰“å¼€å¼€å…³å°±å¯ä»¥ï¼Œæ‰€ä»¥é—®é¢˜çš„å…³é”®åœ¨äºŽä»–ä»¬çš„å›¢é˜Ÿé‡Œæ²¡æœ‰äººæ„è¯†åˆ° Linux ä¸‹é¢çš„ CJK ç”¨æˆ·éœ€è¦æ‰“å¼€è¿™ä¸ªå¼€å…³ï¼Œä¹Ÿæ²¡æœ‰äººæ„¿æ„åŽ»åšæ‰“å¼€æž„å»ºå¼€å…³è¿™ä¸ªç®€å•çš„å·¥ä½œï¼Œåªæ˜¯è®©åé¦ˆçš„å¸–å­çƒ‚åœ¨è®ºå›é‡Œã€‚ç”šè‡³æ›´è¿›ä¸€æ­¥ï¼Œä¸ºä»€ä¹ˆæˆ‘è¿™ä¹ˆç¡®å®šåªéœ€è¦åšè¿™ä¹ˆç®€å•çš„å·¥ä½œå‘¢ï¼Ÿå› ä¸ºæˆ‘è‡ªå·±å‘çŽ°äº†ä¸€ä¸ª workaroundï¼Œåªè¦æŠŠç³»ç»Ÿé‡Œ Qt è¾“å…¥æ³•æ’ä»¶çš„ .so æ–‡ä»¶å¤åˆ¶åˆ° DaVinci Resolve è‡ªå¸¦çš„ Qt çš„å¯¹åº”ç›®å½•ï¼Œä¸€åˆ‡å°±å®Œå…¨å·¥ä½œäº†ï¼Œæ‰€ä»¥å¯ä»¥å……åˆ†è¯´æ˜Žå¹¶ä¸æ˜¯å­˜åœ¨ä»€ä¹ˆéš¾ä»¥å…‹æœçš„éšœç¢ã€‚ï¼ˆå¦‚æžœä½ ä¹Ÿéœ€è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå…·ä½“çš„æ“ä½œè¯·é˜…è¯» DaVinci Resolve åœ¨ Linux ä¸‹çš„è¾“å…¥æ³•æ”¯æŒã€‚ï¼‰\nè¯´åˆ° DaVinci Resolveï¼Œä»–ä»¬è¿˜æœ‰ä¸€ä¸ªä»¤äººè¿·æƒ‘çš„åæ ‡è®¡ç®—é—®é¢˜ã€‚æ¯”å¦‚ä½ åœ¨å°ºå¯¸ä¸º 3840x2160 çš„ç”»å¸ƒé‡Œæ”¾è¿›ä¸€ä¸ª 200x200 çš„å›¾ç‰‡ç´ æï¼Œç„¶åŽæƒ³è®©è¿™ä¸ªå›¾ç‰‡å‘å³ç§»åŠ¨è¿™ä¸ªå›¾ç‰‡çš„å®½åº¦ï¼Œä½ åº”è¯¥è¾“å…¥å¤šå°‘å‘¢ï¼Œç­”æ¡ˆå¹¶ä¸æ˜¯ 200ï¼Œè€Œæ˜¯ 3840ã€‚å…·ä½“çš„è®¡ç®—é€»è¾‘å¤§æ¦‚æ˜¯ f(x) = x / clip_width * canvas_widthï¼ˆè®¡ç®—çºµåæ ‡åˆ™éœ€è¦æ¢æˆé«˜åº¦ï¼Œè¿™æ ·ä½ æ¨ªçºµåæ ‡çœ‹èµ·æ¥å’Œå®žé™…ä½ç§»å®Œå…¨ä¸æˆæ¯”ä¾‹ï¼‰ï¼Œè€Œè¿™åªæ˜¯æœ€ç®€å•çš„æƒ…å†µï¼Œå¦‚æžœä½ å†å¯¹ç´ æè¿›è¡Œç¼©æ”¾ï¼Œç„¶åŽå†è¿›è¡Œè£åˆ‡ï¼Œé‚£è®¡ç®—é€»è¾‘æˆ‘ä¹Ÿè¯´ä¸æ¸…æ¥šæ˜¯æ€Žä¹ˆå›žäº‹äº†ã€‚å¦‚æžœä½ è®¿é—®å®ƒçš„ç”¨æˆ·è®ºå›ï¼Œä½ ä¼šå‘çŽ°éœ€è¦ç²¾ç¡®è¾“å…¥åæ ‡çš„ç”¨æˆ·éƒ½å¯¹è¿™ä¸ªè®¡ç®—é€»è¾‘æ„Ÿåˆ°è¿·æƒ‘ï¼ˆç›¸å…³çš„å†…å®¹èšé›†åœ¨ è¿™ä¸ªå¸–å­ï¼ˆè‹±è¯­ï¼‰ï¼‰ï¼Œå¹¶ä¸”è¿™è¿˜å¯¼è‡´äº†å…¶å®ƒé—®é¢˜ï¼ˆç”¨è¿™ä¸ªç®—æ³•ä½ å¯èƒ½éœ€è¦è¾“å…¥æžå¤§çš„æ•°å€¼æ¥æŒªåŠ¨ä¸€ä¸ªå¾ˆå°çš„ç´ æï¼ŒäºŽæ˜¯å°±ä¼šæ’žåˆ°è¾“å…¥æ¡†çš„æ•°å­—ä¸Šé™ï¼‰ã€‚ä½† BlackMagic Design å®Œå…¨æ²¡æœ‰ä¿®æ”¹è¿™ä¸ªé€»è¾‘çš„æƒ³æ³•ã€‚æˆ‘å¯ä»¥ç†è§£ä¸ºæ˜¯æ€•å½±å“å…¼å®¹æ€§ï¼Œä½†å®Œå…¨å¯ä»¥æ·»åŠ ä¸€ä¸ªè®¾ç½®é¡¹ï¼Œå¦‚æžœå‹¾é€‰å°±ä¿æŒä»¥å‰çš„è®¡ç®—é€»è¾‘ã€‚è¿™åˆæ˜¯ä¸€ä¸ªç”¨æˆ·åé¦ˆäº†å´è¢«å¿½ç•¥çš„ä¾‹å­ã€‚\nä½†å¦‚æžœä½ è¯»åˆ°è¿™é‡Œè§‰å¾—é—­æºè½¯ä»¶çš„ç”¨æˆ·è®ºå›å°±æ˜¯æœ€çƒ‚çš„åé¦ˆå·¥å…·ï¼Œé‚£ä½ è¿˜æ˜¯å¤ªé«˜ä¼°äº†é—­æºè½¯ä»¶å¼€å‘å•†çš„ä¸‹é™äº†ã€‚å¦ä¸€ä¸ªæˆ‘äº²èº«ç»åŽ†çš„ä¾‹å­æ¥è‡ªäº²çˆ±çš„ Micro$oftï¼Œä½œä¸º RDP çš„æ ‡å‡†åˆ¶å®šè€…ï¼Œå¾®è½¯çš„ Android RDP å®¢æˆ·ç«¯åŸºæœ¬å¯ä»¥è®¤ä¸ºæ˜¯å®žè´¨ä¸Šçš„å®˜æ–¹å®žçŽ°ï¼Œä½† gnome-remote-desktop çš„å¼€å‘è€…é‡åˆ°äº† å®¢æˆ·ç«¯å†…ä¸èƒ½æ­£ç¡®æ˜¾ç¤ºè§†é¢‘ï¼ˆè‹±è¯­ï¼‰ çš„é—®é¢˜ï¼Œå¯¼è‡´è¿™ä¸ªé—®é¢˜çš„åŽŸå› æ˜¯ Microsoft çš„ Android RDP å®¢æˆ·ç«¯å†™æ­»äº† image strideï¼Œå¯¼è‡´è¯»å–é”™è¯¯ï¼Œè€å®žè¯´è¿™ä¸æ˜¯ä»€ä¹ˆå¤§ä¸äº†çš„é—®é¢˜ï¼Œæ”¹æŽ‰å°±å¥½äº†å˜›ã€‚äºŽæ˜¯æˆ‘å°±ç§¯æžä¸»åŠ¨çš„åŽ»è¯¥ app çš„ Play Store é¡µé¢æ‰“ç®—å†™è¯„è®ºï¼Œä½†æ˜¯æˆ‘çœ‹åˆ°åº”ç”¨ç®€ä»‹é‡Œè¯´â€œæˆ‘ä»¬ä¸ä¼šçœ‹ Play Store è¯„è®ºï¼Œå¦‚æžœä½ è¦åé¦ˆé—®é¢˜ï¼Œè¯·å‘é€è‡³ rdandr@microsoft.comâ€ï¼ŒäºŽæ˜¯æˆ‘åˆå†™äº†å°é‚®ä»¶æè¿°ç›¸å…³çš„é—®é¢˜ï¼Œç„¶åŽè¢«æ°”äº†ä¸ªåŠæ­»ï¼šä¸€å°è‡ªåŠ¨å›žå¤çš„é‚®ä»¶å‘Šè¯‰æˆ‘ä½ åº”è¯¥åˆ°è¿™ä¸ªé“¾æŽ¥åé¦ˆé—®é¢˜ï¼Œç‚¹å¼€é‚£ä¸ªé“¾æŽ¥æˆ‘å¾—åˆ°ä¸€ä¸ªå¤§å¤§çš„ Error 404 This UserVoice instance is no longer available.ã€‚è¯´ä¸å®šè¿™äº›å‚²æ…¢çš„å¼€å‘è€…è¿˜åœ¨æ²¾æ²¾è‡ªå–œï¼šæˆ‘ä»¬çš„è½¯ä»¶è´¨é‡çœŸå¥½ï¼Œç«Ÿç„¶æ²¡æœ‰ç”¨æˆ·åé¦ˆé—®é¢˜ï¼ï¼ˆä¸è¿‡æˆ‘åˆšæ‰åˆæŸ¥çœ‹äº†ä¸€ä¸‹ Play Store é¡µé¢ï¼ŒçŽ°åœ¨ä»–ä»¬æ¢æˆäº†ä¸€ä¸ªåé¦ˆé“¾æŽ¥ï¼Œæˆ‘æš‚æ—¶è¿˜æ²¡æœ‰æµ‹è¯•è¿™ä¸ªé“¾æŽ¥æ˜¯å¦å¯ç”¨ã€‚ï¼‰\næ‰€ä»¥è¿™å…¶å®žæ˜¯æˆ‘æŽ¨å´‡å¼€æºè½¯ä»¶çš„åŽŸå› ä¹‹ä¸€ï¼šé€šå¸¸æ¥è¯´å¼€æºè½¯ä»¶çš„å¼€å‘è€…éƒ½å¾ˆé‡è§†ç”¨æˆ·åé¦ˆï¼Œå¹¶ä¸”ä¼šå»ºç«‹è‰¯å¥½çš„åé¦ˆæ¸ é“ã€‚å³ä½¿ä½ é‡åˆ°äº†ä¸€ä¸ªâ€œçŸ¥é“é”™äº†ï¼Œä½†æˆ‘ä¸æ”¹â€çš„å¼€å‘è€…ï¼Œä½ ä¹Ÿå¯ä»¥å°è¯•è‡ªå·±åŠ¨æ‰‹ä¿®æ”¹ä»£ç è§£å†³é—®é¢˜ï¼Œç„¶åŽæäº¤ç»™ä»–æˆ–è€…è‡ªå·±ç»´æŠ¤ patchã€‚ä½†å¯¹äºŽé—­æºè½¯ä»¶è¿™æ˜¾ç„¶ä¸çŽ°å®žï¼Œä½ åªèƒ½å¸Œæœ›å¼€å‘è€…å¤§å‘æ…ˆæ‚²å¸¸æ¥çœ‹ç”¨æˆ·è®ºå›å¹¶æ³¨æ„åˆ°ä½ çš„åé¦ˆã€‚\nå¦ä¸€æ–¹é¢ï¼Œissue å¤§æ¦‚æ˜¯æ¯”ç”¨æˆ·è®ºå›æ›´å¥½çš„åé¦ˆå·¥å…·ã€‚è™½ç„¶å¯¹äºŽé—­æºè½¯ä»¶å¼€å‘å•†ï¼Œå¾ˆéš¾æ‰¾åˆ°ç›¸å…³çš„ä¾‹å­ï¼Œä¸è¿‡ Valve å°±æ˜¯è¿™ä¹ˆä¸€ä¸ªç‹¬ç‰¹çš„ä¾‹å­ã€‚ä»¥å‰ä»–ä»¬ä½¿ç”¨ GitHub Issue ä½œä¸º DOTA 2 å’Œ CSGO çš„ Linux / macOS ç‰ˆæœ¬çš„åé¦ˆæ¸ é“ï¼ŒåŽæ¥æ›´è¿›ä¸€æ­¥é¼“åŠ±çŽ©å®¶åœ¨ GitHub Issue ä¸Šåé¦ˆ DOTA 2 çš„ bugã€‚è™½ç„¶ Valve ä¹Ÿå­˜åœ¨â€œçŸ¥é“é”™äº†ï¼Œä½†æˆ‘ä¸æ”¹â€è¿™ç§æƒ…å†µï¼ˆæ¯”å¦‚ Steam Linux ç‰ˆçš„è¾“å…¥æ³•æ”¯æŒï¼Œä½†è¿™ä¸ªå’Œä»–ä»¬ä½¿ç”¨äº†è‡ªå·±ç¼–å†™çš„ UI æ¡†æž¶æœ‰å…³ç³»ï¼Œå¤§æ¦‚è§£å†³èµ·æ¥æœ‰éš¾åº¦ï¼‰ï¼Œä½†ä»–ä»¬çš„å¼€å‘è€…ç¡®å®žä¼šçœ‹ GitHub Issueï¼Œå¹¶å¤„ç†çŽ©å®¶çš„åé¦ˆï¼ˆæ¯”å¦‚åœ¨å®˜ç½‘ æœ€æ–°çš„ä¸€ç¯‡æ–‡ç« ï¼ˆè‹±è¯­ï¼‰ é‡Œæåˆ°å¾ˆå¤šç”¨æˆ·åœ¨ GitHub ä¸Šåé¦ˆäº†ç‚¸å¼¹äººçš„æ–° bugï¼‰ã€‚\n\n  \n\n\nä½†ï¼Œæ˜¯ä»€ä¹ˆå¯¼è‡´ issue åœ¨ç”¨æˆ·åé¦ˆä¸Šæ¯”ç”¨æˆ·è®ºå›æ•ˆæžœæ›´å¥½å‘¢ï¼Ÿæ¯•ç«Ÿæœ¬è´¨ä¸ŠäºŒè€…éƒ½æ˜¯â€œå‘å¸–â€â€œå›žå¤â€çš„æµç¨‹ï¼Œæˆ‘å°è¯•åˆ†æžä¸€ä¸‹å…¶ä¸­çš„ä¸åŒã€‚\nä¸€ä¸ªæˆ‘è®¤ä¸ºå¾ˆé‡è¦çš„åŒºåˆ«æ˜¯ç¤¾åŒºæ–‡åŒ–ï¼Œæˆ–è€…è¯´æ˜¯è°åœ¨ä½¿ç”¨ç›¸å…³çš„å·¥å…·ï¼š2023 å¹´ï¼Œå®Œå…¨æ²¡æœ‰æŽ¥è§¦è¿‡å¼€æºé¡¹ç›®çš„ç¨‹åºå‘˜åº”è¯¥æ˜¯ä¸å­˜åœ¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æžœä½ æ˜¯å¼€å‘è€…ï¼Œä½ å¤§æ¦‚çŽ‡æ—©å°±ä½¿ç”¨è¿‡ GitHub æˆ–è€… GitLab è¿™æ ·çš„å·¥å…·ï¼Œissue å¯¹ä½ æ¥è¯´æ˜¯ä¸€ä¸ªä½ ä¼šåŽ»é‡è§†æˆ–è‡³å°‘ä¼šåŽ»çœ‹çš„ä¸œè¥¿ã€‚è€Œè®ºå›æ›´å¤§æ¦‚çŽ‡ä¸æ˜¯å¼€å‘è€…ç›´æŽ¥è¿è¥ï¼Œä¹Ÿè®¸æ˜¯ä»€ä¹ˆä¸“é—¨çš„è®ºå›å®¢æœåœ¨å¤„ç†ï¼Œä»–ä»¬å¯èƒ½å¹¶ä¸æ‡‚æŠ€æœ¯ï¼Œæˆ–è€…å°±ç®—å¼€å‘è€…ä¼šå‚ä¸Žè¿›ç”¨æˆ·è®ºå›ï¼Œè®ºå›å¸–å­å¯¹ç¨‹åºå‘˜æ¥è¯´ä¹Ÿä¸æ˜¯ä»€ä¹ˆä¸€å®šè¦çœ‹çš„ä¸œè¥¿ã€‚å½“ç”¨æˆ·é‡åˆ°é—®é¢˜çš„æ—¶å€™ï¼Œå‘å¼€å‘è€…ç›´æŽ¥åé¦ˆåº”å½“æ˜¯è§£å†³é—®é¢˜æœ€ç›´æŽ¥çš„é€”å¾„ï¼Œå¦‚æžœåœ¨ç”¨æˆ·å’Œå¼€å‘è€…ä¹‹é—´æ’å…¥ä¸€å±‚ä¸æ‡‚æŠ€æœ¯çš„å®¢æœï¼Œé‚£å¤§æ¦‚çŽ‡æ˜¯åœºç¾éš¾ã€‚ï¼ˆæˆ‘çœŸçš„æ²¡æœ‰åœ¨é’ˆå¯¹ä»€ä¹ˆâ€œå¾®è½¯ç¤¾åŒºæ”¯æŒä¸“å‘˜â€å“¦ï¼ŒçœŸçš„æ²¡æœ‰ã€‚ï¼‰\nå¦ä¸€ä¸ªå¯èƒ½çš„åŽŸå› ä¹Ÿè®¸æ˜¯æŽ’åºæ–¹å¼ï¼šissue é»˜è®¤æ˜¯æŒ‰å‘å¸ƒæ—¶é—´è€Œä¸æ˜¯å›žå¤æ—¶é—´æŽ’åˆ—çš„ï¼Œå› æ­¤å¼€å‘è€…å¤§æ¦‚çŽ‡ä¼šé€ä¸ªæŸ¥çœ‹æ–°å‡ºçŽ°çš„ issue å¹¶å¤„ç†ã€‚ä½†è®ºå›é€šå¸¸é»˜è®¤ä»¥å›žå¤æ—¶é—´æŽ’åˆ—ï¼Œæ›´åŠ é‡è§†â€œçƒ­åº¦â€ï¼ŒäºŽæ˜¯å¾ˆå®¹æ˜“å‡ºçŽ°ä¸€ä¸ªé—®é¢˜ä¸å¤ªçƒ­é—¨å°±å®Œå…¨è¢«å¿½ç•¥æŽ‰çš„æƒ…å†µï¼Œä½†å¯¹äºŽè½¯ä»¶å¼€å‘è€Œè¨€ï¼Œä¸åº”è¯¥å› ä¸ºä¸€ä¸ªé—®é¢˜çƒ­åº¦ä¸é«˜å°±å®Œå…¨ç½®ä¹‹ä¸ç†ï¼Œå› ä¸ºçƒ­åº¦å¯èƒ½å—å¾ˆå¤šå…¶å®ƒå› ç´ å½±å“ï¼Œæ¯”å¦‚ç”¨æˆ·ä¸»è¦ä½¿ç”¨çš„è¯­è¨€å’Œå¼€å‘è€…ä¸åŒï¼Œåé¦ˆæ—¶å­˜åœ¨è¯­è¨€æˆ–è€…ç½‘ç»œéšœç¢ï¼Œçƒ­åº¦ä¸èƒ½ç›´è§‚åœ°åæ˜ å‡ºç¨‹åºæœ¬èº«çš„é—®é¢˜ã€‚\nä½†ä¹Ÿè®¸ä¸Šè¿°åŒºåˆ«åªå†³å®šäº†å¼€å‘è€…èƒ½ä¸èƒ½çœ‹åˆ°ç”¨æˆ·åé¦ˆï¼Œå¦ä¸€ä¸ªå†³å®šæ€§å› ç´ æ˜¯å¼€å‘è€…æƒ³ä¸æƒ³çœ‹åˆ°ç”¨æˆ·åé¦ˆã€‚æˆ‘ä¸ªäººæ˜¯è§‰å¾—å¯¹äºŽè½¯ä»¶è´¨é‡çš„è¿½æ±‚åº”è¯¥æ˜¯ç¨‹åºå‘˜è‡ªå‘çš„è€Œä¸æ˜¯è¢«è¿«çš„ï¼Œæ‰€ä»¥å¯¹ç”¨æˆ·åé¦ˆæ›´åº”å½“ç§¯æžå¤„ç†ã€‚ä¸å¾—ä¸æ‰¿è®¤ï¼Œç›¸ä¼¼ä½“é‡çš„é¡¹ç›®ï¼Œå¼€æºé¡¹ç›®çš„å¼€å‘è€…æ¯”èµ·é—­æºé¡¹ç›®çš„å¼€å‘è€…å¥½åƒç¡®å®žæ˜¯æ›´æœ‰è´£ä»»æ„Ÿä¸€ç‚¹ã€‚\n"},{"title":"PipeWire å’Œ HDMI éŸ³é¢‘å’Œè™šæ‹Ÿè®¾å¤‡å’Œå¤åˆ/åˆ†ç¦»é€šé“","url":"/posts/PipeWire-HDMI-Audio-Virtual-Device-Combine-Split-Channel/","content":"è¿™ç¯‡æ–‡ç« åŒæ—¶æœ‰ ä¸­æ–‡ç‰ˆæœ¬ å’Œ è‹±æ–‡ç‰ˆæœ¬ã€‚\nThis post is both available in Chinese version and English version.\n\n\nä¸­æ–‡ç‰ˆæœ¬\nè®¤è¯†çš„æœ‹å‹é‡Œå¾ˆå°‘æœ‰äººæœ‰åƒæˆ‘è¿™ä¹ˆå¤æ‚çš„éŸ³é¢‘ç³»ç»Ÿã€‚é•¿è¯çŸ­è¯´ï¼Œä¸ºäº†èƒ½è®© PS4ã€Switch å’Œç”µè„‘åˆ†äº«ä¸€ä¸ªæ‰¬å£°å™¨ï¼Œæˆ‘æŠŠå®ƒæŽ¥åœ¨äº†æ˜¾ç¤ºå™¨ä¸Šè€Œä¸æ˜¯ç”µè„‘çš„å†…ç½®å£°å¡ä¸Šï¼Œè¿™æ ·æ‰€æœ‰è®¾å¤‡éƒ½é€šè¿‡ HDMI/DP è¾“å‡ºéŸ³é¢‘åˆ°æ‰¬å£°å™¨ã€‚ä¸€å¼€å§‹è¿™ä¹Ÿæ²¡ä»€ä¹ˆï¼ŒåŽæ¥æˆ‘åˆæ·»ç½®äº†ä¸€å—æ˜¾ç¤ºå™¨ï¼Œæˆ‘å‘çŽ°åœ¨ Linux ä¸‹é¢ç»å¸¸æžä¸æ¸…æ¥šç©¶ç«Ÿå“ªä¸€ä¸ªéŸ³é¢‘è®¾å¤‡æ‰æ˜¯è¿žæŽ¥ç€æ‰¬å£°å™¨çš„æ˜¾ç¤ºå™¨ï¼Œå¯èƒ½ä¸Šå‘¨è¿˜æ˜¯ HDMI 1ï¼Œè¿™å‘¨å°±å˜æˆ HDMI 2ï¼Œè€Œä¸”ä¹Ÿä¸æ˜¯æ¯æ¬¡éƒ½ä¼šå˜ï¼Œå¯¼è‡´æˆ‘ç»å¸¸éœ€è¦è¯•è¯•æ‰çŸ¥é“å“ªä¸€ä¸ªæ˜¯æˆ‘éœ€è¦çš„ã€‚ç›´åˆ°å‰å¤©æˆ‘å¿ä¸äº†äº†ï¼Œå†³å®šå‘æŒ¥åŠ¨æ‰‹èƒ½åŠ›è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\nä¸€å¼€å§‹æˆ‘ä»¥ä¸ºæ˜¯ PipeWire ç»™è®¾å¤‡æŽ’åºçš„æ—¶å€™æ˜¯éšæœºæŽ’åºçš„ï¼Œé‚£ç®€å•ï¼Œåªè¦æˆ‘æ‰¾åˆ°æ¯ä¸ªè®¾å¤‡å¯¹åº”çš„ IDï¼Œç„¶åŽå…³æŽ‰æ²¡æœ‰æ‰¬å£°å™¨çš„é‚£ä¸ª HDMI è¾“å‡ºå°±å¯ä»¥äº†ã€‚ä½†æ˜¯æˆ‘å‘çŽ°ä¼¼ä¹Ž PipeWire åªæ˜¯æŒ‰ç…§ ALSA ç»™å‡ºçš„è®¾å¤‡ç¼–å·æ¥æŽ’åºï¼Œå¹¶æ²¡æœ‰è‡ªå·±ç¼–å·ï¼ŒäºŽæ˜¯å°±ç®—å…³é—­ä¸€ä¸ªè®¾å¤‡ï¼Œä¸‹æ¬¡è¢«å…³é—­çš„ä¹Ÿå¯èƒ½æ˜¯å¦ä¸€ä¸ªã€‚ç„¶åŽæˆ‘å°±åœ¨æƒ³éš¾é“ ALSA æ²¡æœ‰å›ºå®š HDMI éŸ³é¢‘è®¾å¤‡çš„åŠŸèƒ½å—ï¼Ÿæ¯•ç«Ÿå°±ç®—æ˜¯æ˜¾ç¤ºå™¨ä¹Ÿæ˜¯æœ‰ EDID è¿™ç§ä¸œè¥¿çš„ï¼ŒäºŽæ˜¯æˆ‘æŸ¥äº†å„ç§ ALSA çš„èµ„æ–™ï¼Œç¡®å®žæ˜¯å¯ä»¥é€šè¿‡ udev æŒ‡å®šä¸åŒå£°å¡çš„é¡ºåºï¼Œä½†å¯¹äºŽ HDMI è¿™ç§å±žäºŽåŒä¸€ä¸ªå£°å¡çš„ä¸åŒç«¯å£çš„è®¾å¤‡æ²¡ä»€ä¹ˆåŠžæ³•ã€‚æˆ‘ç”šè‡³æŸ¥åˆ°äº† NVIDIA å…³äºŽæ˜¾å¡éŸ³é¢‘çš„æ–‡æ¡£ï¼Œé‡Œé¢è¯´æ¯ä¸ªç«¯å£ä¼šæœ‰ä¸€ä¸ªå«åš ELD çš„æ•°æ®ï¼Œæè¿°äº†è¿žæŽ¥çš„æ˜¾ç¤ºå™¨ä¿¡æ¯ï¼Œä¸è¿‡é€šè¿‡ cat /proc/asound/cardX/eld* æŸ¥çœ‹ä¹‹åŽæˆ‘å‘çŽ°è¿™ä¸ªæ ‡å‡†æœ€å¤šåªç»™åˆ°æ˜¾ç¤ºå™¨çš„åž‹å·ï¼Œè€Œæˆ‘ä¸ºäº†ä¸åœ¨å¤šæ˜¾ç¤ºå™¨ç¼©æ”¾ä¸Šæµªè´¹ç²¾åŠ›ï¼Œä¹°äº†ä¸¤å°åŒæ ·åž‹å·çš„æ˜¾ç¤ºå™¨ï¼Œæ²¡æœ‰åºåˆ—å·å­—æ®µå°±è¿˜æ˜¯æ²¡åŠžæ³•åˆ†è¾¨ä¸åŒçš„æ˜¾ç¤ºå™¨ï¼å½“ç„¶å¦‚æžœä½ çš„ HDMI è®¾å¤‡çš„åž‹å·ä¸åŒï¼Œé‚£å…¶å®žå°±ç®€å•äº†ï¼ŒALSA çŽ°åœ¨ä¼šè¯»å– ELD é‡Œé¢çš„æ˜¾ç¤ºå™¨åž‹å·ï¼Œç„¶åŽ PipeWire ä¼šæŠŠè¿™ä¸ªä½œä¸º node.nick å±žæ€§ï¼Œä½ å¯ä»¥ç›´æŽ¥é€šè¿‡è¿™ä¸ªå±žæ€§åˆ†è¾¨è®¾å¤‡ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨è¿™ä¸ªå±žæ€§å†™ WirePlumber é‡å‘½åè§„åˆ™ä¿®æ”¹ä½ çš„æ¡Œé¢çŽ¯å¢ƒä¼šç”¨åˆ°çš„å±žæ€§ï¼Œå°±å¯ä»¥å›ºå®šåç§°äº†ã€‚ä¸è¿‡æˆ‘è¿˜å¾—ç»§ç»­å¯»æ±‚å¸®åŠ©ã€‚\näºŽæ˜¯æˆ‘å°±åœ¨å…¬å¸çš„ research é‚®ä»¶åˆ—è¡¨å‘äº†å°é‚®ä»¶è®²è¿°äº†æˆ‘çš„è®¾å¤‡è¿žæŽ¥æ–¹å¼å’Œéœ€æ±‚ï¼Œç»“æžœ Takashi Iwaiï¼ˆå†…æ ¸éŸ³é¢‘å­ç³»ç»Ÿçš„ç»´æŠ¤è€…ä¹‹ä¸€ï¼‰å›žå¤æˆ‘è¯´ç¡®å®žæ²¡æœ‰ä»€ä¹ˆåŠžæ³•ï¼ŒéŸ³é¢‘é©±åŠ¨åªæ˜¯æŒ‰ç…§æ˜¾å¡ç»™çš„é¡ºåºåˆ†é…ç¼–å·ï¼Œæ‰€ä»¥å¤§æ¦‚çŽ‡æ˜¯éšæœºçš„ã€‚ç‰¹åˆ«æ˜¯æˆ‘è¿˜å‘çŽ°è¿™çŽ©æ„å¥½åƒä¹Ÿä¸ä¸€å®šæŒ‰ç…§æ˜¾ç¤ºå™¨è¾“å‡ºçš„é¡ºåºæ¥æŽ’å·ï¼ŒäºŽæ˜¯ Plan A æ˜¯å½»åº•è¡Œä¸é€šäº†ã€‚é‚£æˆ‘è¿˜æœ‰ Plan B å’Œ Plan Cã€‚\nå’Œå…¶å®ƒåŒäº‹ç»™çš„å»ºè®®ä¸€æ ·ï¼Œå…¶ä¸­ä¸€ä¸ªæƒ³æ³•æ˜¯è´­ä¹°ä¸€ä¸ªç¡¬ä»¶çš„æ··åˆå™¨ï¼ŒæŠŠä¸¤å°æ˜¾ç¤ºå™¨çš„éŸ³é¢‘è¾“å‡ºç¡¬ä»¶è¿žæŽ¥åˆ°åŒä¸€ä¸ªæ‰¬å£°å™¨çš„è¾“å…¥ï¼Œç”šè‡³ä¸€ä¸ªåŒäº‹è¿˜ç»™æˆ‘ç”»äº†ç”µè·¯å›¾è¯´ä½ åªè¦è¿™æ ·å°±èƒ½è‡ªå·±åšä¸€ä¸ªäº†ã€‚ä¸è¿‡è¿™ä¸ªæ–¹æ¡ˆæ—¢æœ‰ä¼˜ç‚¹ä¹Ÿä¼˜ç¼ºç‚¹ï¼Œä¼˜ç‚¹æ˜¯ç”µè„‘å’Œæ¸¸æˆæœºå¯ä»¥åŒæ—¶å‘å£°ï¼Œç¼ºç‚¹æ˜¯æˆ‘è¦åœ¨ç”µè„‘ä¸Šä¿®æ”¹éŸ³é‡å°±å¾—å§‹ç»ˆè®°å¾—æŠŠä¸¤ä¸ªéŸ³é‡éƒ½æ”¹æˆä¸€æ ·çš„ã€‚æˆ‘å¯¹å‰è€…éœ€æ±‚ä¸å¤§ï¼Œæ‰€ä»¥æ‰“ç®—æœ€åŽå†å°è¯•è¿™ä¸ªã€‚\nå½“ç„¶æœ‰ç¡¬ä»¶çš„è§£æ³•å°±æœ‰è½¯ä»¶çš„è§£æ³•ï¼ŒPipeWire å’Œ JACK ä¸€æ ·å¯ä»¥è¿›è¡ŒåŸºäºŽå›¾çš„è¿žæŽ¥ï¼Œé‚£æˆ‘åªè¦æžä¸€ä¸ªè™šæ‹Ÿçš„è¾“å‡ºè®¾å¤‡ç„¶åŽæŠŠä¸¤ä¸ª HDMI è®¾å¤‡è·Ÿå®ƒè¿žä¸€èµ·ä¸å°±è¡Œäº†ï¼ŸArch Wiki ä¸Šæ°å¥½æœ‰ä¸€æ®µ åŒæ—¶å‘ä¸€å—å£°å¡ä¸Šçš„ä¸åŒç«¯å£è¾“å‡ºéŸ³é¢‘ çš„æ–‡æ¡£ï¼Œæˆ‘æœ¬æ¥ä»¥ä¸ºç…§åšå³å¯ï¼Œä½†å‘çŽ°è¿˜æ˜¯ä¸å¯¹ï¼Œå¹¶æ²¡æœ‰å‡ºçŽ°æˆ‘æƒ³è±¡ä¸­çš„ä¸€ä¸ªæ–°éŸ³é¢‘è®¾å¤‡ã€‚ä¸è¿‡åŽæ¥æˆ‘ä»”ç»†ç ”ç©¶ï¼Œæžæ‡‚äº†é‡Œé¢å„ç§æœ¯è¯­ï¼Œæ‰çŸ¥é“æ˜¯æ€Žä¹ˆå›žäº‹ã€‚\né¦–å…ˆæˆ‘å‘çŽ°è¿™ä¸€æ®µæ–‡æ¡£å…¶å®žåªæ˜¯æè¿°å¦‚ä½•åˆ›å»ºä¸€ä¸ªâ€œèƒ½åŒæ—¶æ˜¾ç¤ºä¸¤ä¸ª mapping çš„ profileâ€ï¼Œé‚£åˆ°åº•ä»€ä¹ˆæ˜¯ mapping ä»€ä¹ˆæ˜¯ profileï¼ŸMapping å¯ä»¥ç†è§£æˆå£°å¡ä¸Šçš„æŸä¸€ç§è¾“å…¥/è¾“å‡ºç»„åˆï¼Œç„¶åŽ profile å†³å®šå½“å‰å¯ä»¥åœ¨å“ªå‡ ç§ç»„åˆä¸­é€‰æ‹©ã€‚ä¸¾ä¾‹æ¥è¯´å°±æ˜¯å‡å¦‚ä½ æœ‰ä¸€ä¸ª 2 è¿› 4 å‡ºçš„éŸ³é¢‘è®¾å¤‡ï¼Œé‚£å®ƒå¯ä»¥æ˜¯åªæœ‰åŒå£°é“è¾“å‡ºï¼Œåªæœ‰å››å£°é“è¾“å‡ºï¼Œæˆ–è€…åŒå£°é“è¾“å…¥å››å£°é“è¾“å‡ºç­‰ç­‰ç»„åˆï¼Œè¿™å°±æ˜¯ä¸åŒçš„ profileã€‚ä¸ºä»€ä¹ˆè¦åŒæ—¶è¾“å‡ºä¸åŒç«¯å£éœ€è¦åˆ›å»ºä¸€ä¸ª profile å‘¢ï¼Œå› ä¸ºé»˜è®¤ ALSA é‡‡ç”¨çš„æ˜¯ auto-profileï¼Œä¼šç»™æ¯ä¸€ä¸ª mapping åˆ›å»ºä¸€ä¸ª profileï¼Œè€Œé»˜è®¤çš„ä¸€ä¸ª mapping å°±æ˜¯ä¸€ä¸ª HDMI ç«¯å£ï¼Œå› æ­¤å‡å¦‚ä½ æ‰“å¼€ pavucontrol æˆ–è€… Helvumï¼Œä¼šå‘çŽ°å¦‚æžœä¸åˆ‡æ¢ profileï¼Œä¸¤ä¸ª HDMI è®¾å¤‡åªèƒ½æ˜¾ç¤ºä¸€ä¸ªï¼Œä¹Ÿå°±æ²¡æ³•ç»™å®ƒä»¬åŒæ—¶è¿žæŽ¥ã€‚å½“ç„¶ä½ å¯èƒ½åˆä¼šé—®ä¸ºä»€ä¹ˆ GNOME Shell é‡Œé¢åˆèƒ½æ˜¾ç¤ºä¸¤ä¸ª HDMI è®¾å¤‡ï¼Ÿå› ä¸º libgnome-volume-control æ˜¯å…ˆæžšä¸¾è®¾å¤‡ç„¶åŽæžšä¸¾ç«¯å£ï¼Œå¹¶ä¸æ˜¯ç›´æŽ¥æžšä¸¾ç«¯å£ï¼ˆå— profile å½±å“ï¼‰ï¼Œé€‰æ‹©ç«¯å£çš„æ—¶å€™å†è‡ªåŠ¨åˆ‡æ¢ profileã€‚\næ‰€ä»¥ç¬¬ä¸€æ­¥æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„ profile setsï¼Œæ¯”å¦‚æˆ‘åˆ›å»ºçš„æ˜¯ /usr/share/alsa-card-profile/mixer/profile-sets/hdmi-multiple.confï¼š\n[General]\nauto-profiles = no\n\n[Mapping hdmi-stereo]\ndescription = Digital Stereo (HDMI)\ndevice-strings = hdmi:%f\npaths-output = hdmi-output-0\nchannel-map = left,right\npriority = 9\ndirection = output\n\n[Mapping hdmi-stereo-extra1]\ndescription = Digital Stereo (HDMI 2)\ndevice-strings = hdmi:%f,1\npaths-output = hdmi-output-1\nchannel-map = left,right\npriority = 7\ndirection = output\n\n# If you have more HDMI devices, add them here.\n\n# Show multiple HDMI mappings so I could connect to them all.\n[Profile hdmi-multiple]\ndescription = Multiple Digital Stereo (HDMI)\noutput-mappings = hdmi-stereo hdmi-stereo-extra1\n\nä¸Šé¢çš„ mapping æ˜¯ç›´æŽ¥ä»Ž default.conf é‡Œé¢æŠ„çš„ï¼Œä¸‹é¢é‚£ä¸ª profile å°±æ˜¯åŒ…å«ä¸Šé¢çš„ä¸¤ä¸ª mappingï¼Œç„¶åŽéœ€è¦å†™ WirePlumber è§„åˆ™æ¥ç»™æ˜¾å¡ä¸Šçš„å£°å¡å¥—ç”¨è¿™ä¸ª profileã€‚æˆ‘æŠŠå®ƒå†™åˆ° /etc/wireplumber/main.lua.d/51-hdmi-multiple.luaï¼š\nrule = {\n  matches = {\n    {\n      -- Sometimes PCI sound card name has `.1` or other suffix, so it's better\n      -- to use description to match it.\n      { \"device.description\", \"matches\", \"TU104 HD Audio Controller\" },\n    },\n  },\n  apply_properties = {\n    [\"api.alsa.use-acp\"] = true,\n    -- By default, it creates profiles for each mappings, so one profile has one\n    -- mapping, but I want to combine 2 mappings, so I have to manually create\n    -- a profile to show 2 mappings.\n    [\"api.acp.auto-profile\"] = false,\n    [\"api.acp.auto-port\"] = false,\n    [\"device.profile-set\"] = \"hdmi-multiple.conf\",\n    [\"device.profile\"] = \"hdmi-multiple\",\n  },\n}\n\ntable.insert(alsa_monitor.rules, rule)\n\nç„¶åŽæ‰§è¡Œ systemctl --user restart wireplumberï¼ŒHelvum é‡Œé¢åº”è¯¥å°±èƒ½åŒæ—¶çœ‹åˆ°ä¸¤ä¸ªæ˜¾ç¤ºå™¨çš„ HDMI éŸ³é¢‘è®¾å¤‡äº†ã€‚\næŽ¥ä¸‹æ¥æ˜¯ Arch Wiki é‡Œé¢æ²¡æœ‰æåˆ°çš„éƒ¨åˆ†ï¼Œå¦‚ä½•åŒæ—¶å‘ä¸¤ä¸ªè®¾å¤‡è¾“å‡ºéŸ³é¢‘ï¼Ÿæœ€ç®€å•çš„å°±æ˜¯åƒ JACK ä¸€æ ·ç›´æŽ¥æŠŠè¾“å‡ºçš„ç¨‹åºåŒæ—¶è¿žæŽ¥åˆ°ä¸¤ä¸ªéŸ³é¢‘è®¾å¤‡ä¸Šå°±è¡Œäº†ï¼Œä½†è¿™æ ·æ—¢ä¸èƒ½æŒä¹…åŒ–ï¼Œä¹Ÿä¸èƒ½åœ¨æ¡Œé¢çŽ¯å¢ƒé‡Œè°ƒèŠ‚éŸ³é‡ã€‚é˜…è¯»äº† PipeWire çš„æ–‡æ¡£ä¹‹åŽå‘çŽ°è¿™éƒ¨åˆ†å¯ä»¥é€šè¿‡è™šæ‹Ÿè®¾å¤‡æ¥è§£å†³ï¼Œæœ‰ä¸€ä¸ªå«åš combine-stream çš„æ¨¡å—å°±å¯ä»¥åˆ›å»ºè¿™æ ·çš„å¤åˆè®¾å¤‡ï¼ŒäºŽæ˜¯å‚è€ƒ combine-stream çš„æ–‡æ¡£ï¼Œæˆ‘åˆ›å»º /etc/pipewire/pipewire.conf.d/10-hdmi-combined-sink.conf å¹¶å†™å…¥å¦‚ä¸‹å†…å®¹ï¼š\ncontext.modules = [\n    {   name = libpipewire-module-combine-stream\n        args = {\n            combine.mode = sink\n            node.name = \"combined-hdmi-stereo\"\n            node.description = \"Combined HDMI / DisplayPort\"\n            combine.latency-compensate = false\n            combine.props = {\n                audio.position = [ FL FR ]\n                # Those could be added here, but libgnome-volume-control only\n                # read those for ports from cards, not for virtual / network\n                # devices.\n                #device.description = \"TU104 HD Audio Controller\"\n                #device.icon-name = \"audio-card-analog-pci\"\n            }\n            stream.props = {\n                # Link matching channels without remixing.\n                stream.dont-remix = true\n            }\n            stream.rules = [\n                {\n                    matches = [\n                        # Any of the items in matches needs to match, if one\n                        # does, actions are emited.\n                        {\n                            # All keys must match the value. `~` in value\n                            # starts glob. Match all HDMI devices on TU104.\n                            media.class = \"Audio/Sink\"\n                            # Sometimes PCI sound card name has `.1` or other\n                            # suffix, so it's better to use description to\n                            # match it.\n                            node.description = \"~TU104 HD Audio Controller Digital Stereo *\"\n                        }\n                    ]\n                    actions = {\n                        create-stream = {\n                            combine.audio.position = [ FL FR ]\n                            audio.position = [ FL FR ]\n                        }\n                    }\n                }\n            ]\n        }\n    }\n]\n\né€»è¾‘å¾ˆç®€å•ï¼Œå°±æ˜¯åˆ›å»ºä¸€ä¸ªå¤åˆè®¾å¤‡ï¼Œè¾“å…¥åˆ°è¯¥è®¾å¤‡çš„éŸ³é¢‘ä¼šè¾“å‡ºç»™ç»™å®šæ˜¾å¡ä¸Šçš„æ‰€æœ‰ HDMI è¾“å‡ºï¼Œç„¶åŽ systemctl --user restart pipewire wireplumber å°±å¯ä»¥åœ¨ GNOME é‡Œé€‰æ‹©è¿™ä¸ªè¾“å‡ºè®¾å¤‡å¹¶è°ƒèŠ‚éŸ³é‡äº†ï¼Œä¸ç®¡æ‰¬å£°å™¨æ’åœ¨å“ªä¸ª HDMI/DP æ˜¾ç¤ºå™¨ä¸Šï¼Œéƒ½èƒ½å·¥ä½œã€‚\nè§£å†³äº†è¿™ä¸ªé—®é¢˜ä¹‹åŽæˆ‘å‘çŽ°åˆ©ç”¨ PipeWire çš„è™šæ‹Ÿè®¾å¤‡è¿˜å¯ä»¥è§£å†³æˆ‘ USB å£°å¡çš„é€šé“é—®é¢˜ã€‚æˆ‘çŽ°åœ¨ç”¨çš„æ˜¯æˆ‘ä¸Šé«˜ä¸‰æ—¶å€™ä¹°çš„ Scarlett 2i4ï¼Œæœ‰ä¸¤ä¸ªè¾“å…¥å’Œå››ä¸ªè¾“å‡ºï¼Œè€Œ auto-profile å°±ä¼šè‡ªåŠ¨æŠŠå®ƒè®¾ç½®æˆä¸€ä¸ªå››å£°é“çŽ¯ç»•å£°è¾“å‡ºå’Œä¸€ä¸ªç«‹ä½“å£°è¾“å…¥ï¼Œä½†å®žé™…ä¸Šè¿™ä¸ªå››ä¸ªè¾“å‡ºæ˜¯åŒå£°é“çš„è€³æœºå’ŒåŒå£°é“çš„æ‰¬å£°å™¨ï¼Œä¸¤ä¸ªè¾“å…¥é€šå¸¸ä¼šåˆ†åˆ«ç”¨æ¥è¾“å…¥è¯ç­’å’Œä¹å™¨ï¼Œè€Œä¸æ˜¯ä½œä¸ºåŒå£°é“è¾“å…¥ã€‚äºŽæ˜¯é•¿ä¹…ä»¥æ¥æˆ‘åªèƒ½åœ¨å„ç§è½¯ä»¶é‡Œæ‰‹åŠ¨è®¾ç½®å•å£°é“éŸ³é¢‘è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è€Œè¿™æ¬¡è¯»æ–‡æ¡£æˆ‘å‘çŽ° PipeWire æ—©å°±ç»™å‡ºäº†ä¾‹å­ï¼Œè™½ç„¶æ˜¯é’ˆå¯¹å¦ä¸€æ¬¾å£°å¡ï¼ˆUMC404HD çš„æ‰¬å£°å™¨/è€³æœºåˆ†ç¦» å’Œ UMC404HD çš„è¯ç­’/ä¹å™¨åˆ†ç¦»ï¼‰ï¼Œä¸è¿‡æ€»è€Œè¨€ä¹‹æ˜¯å¤§åŒå°å¼‚ï¼Œæˆ‘ä¹Ÿå‚ç…§ç€å¼„äº†ä¸€ä¸‹æˆ‘çš„å£°å¡ã€‚\né¦–å…ˆä½ æƒ³è¦æ‰‹åŠ¨åˆ†ç¦»å£°å¡çš„å„ä¸ªé€šé“ï¼Œä»ç„¶éœ€è¦æ¢æŽ‰é»˜è®¤çš„ profileï¼Œä¸è¿‡è¿™æ¬¡ä¸éœ€è¦æ‰‹åŠ¨ç¼–å†™äº†ï¼ŒPipeWire ç»™æ‰€æœ‰éŸ³é¢‘è®¾å¤‡éƒ½æä¾›äº†ä¸€ä¸ªå«åš pro-audio çš„ profileï¼Œè¿™ä¸ªä¼šç›´æŽ¥æš´éœ²å£°å¡çš„æ‰€æœ‰é€šé“è€Œä¸åšé¢å¤–çš„å‡è®¾ï¼ˆæ˜¾ç„¶æ¡Œé¢çŽ¯å¢ƒå¯¹äºŽè¿™ç§è£¸é…ç½®çš„æ”¯æŒå¹¶ä¸å¥½ï¼‰ï¼Œè€ŒåŽæˆ‘ä»¬å°±å¯ä»¥ä¸ºæ‰€æ¬²ä¸ºäº†ï¼Œæ‰€ä»¥å…ˆåˆ›å»º /etc/wireplumber/main.lua.d/51-scarlett-2i4.lua å†™å…¥è§„åˆ™è®©å®ƒé»˜è®¤ä½¿ç”¨ pro-audioï¼š\nrule = {\n  matches = {\n    {\n      { \"device.name\", \"matches\", \"alsa_card.usb-Focusrite_Scarlett_2i4_USB-00\" },\n    },\n  },\n  apply_properties = {\n    [\"audio.rate\"] = 48000,\n    [\"audio.allowed-rates\"] = \"44100,48000,88200,96000\",\n    --[\"api.alsa.period-size\"] = 2048,\n    --[\"api.alsa.headroom\"] = 1024,\n    [\"api.alsa.use-acp\"] = true,\n    -- By default, it creates profiles for stereo input and surround 4.0 output,\n    -- but actually the card is 2 inputs, stereo headphones output and stereo\n    -- speakers output, so we disable auto profile here, and use the Pro Audio\n    -- profile to expose all ports, and combine them manually.\n    [\"api.acp.auto-profile\"] = false,\n    [\"api.acp.auto-port\"] = false,\n    [\"device.profile\"] = \"pro-audio\",\n  },\n},\n\ntable.insert(alsa_monitor.rules, rule)\n\nç„¶åŽ systemctl --user restart wireplumberï¼Œå†æ‰“å¼€ Helvum åº”è¯¥èƒ½çœ‹åˆ°å£°å¡ä¸å†è¢«çžŽæŽ¨æµ‹ä¸ºä»€ä¹ˆ LR RR ä¹‹ç±»çš„å£°é“ï¼Œè€Œæ˜¯ç›´æŽ¥æ˜¾ç¤º AUX0~3ï¼ŒæŽ¥ä¸‹æ¥å°±å¯ä»¥åˆ›å»ºè™šæ‹Ÿè®¾å¤‡åˆ†åˆ«æ˜ å°„ä¸åŒçš„é€šé“äº†ã€‚\né¦–å…ˆå¯¹äºŽè¾“å‡ºï¼Œæˆ‘åˆ†ç¦»å‡ºè€³æœº/æ‰¬å£°å™¨ä¸¤ä¸ªä¸åŒçš„åŒå£°é“è™šæ‹Ÿè¾“å‡ºè®¾å¤‡ï¼Œå¹³æ—¶æˆ‘åªç”¨è€³æœºã€‚è¿™é‡Œå’Œå®˜æ–¹æ–‡æ¡£ç¤ºä¾‹é‡Œå£°å¡ä¸åŒçš„åœ°æ–¹æ˜¯é‚£æ¬¾å£°å¡åŽä¸¤ä¸ªé€šé“æ˜¯è€³æœºï¼Œè€Œ Scarlett 2i4 å‰ä¸¤ä¸ªé€šé“å°±æ˜¯è€³æœºï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå°±ç®—é»˜è®¤è¢«å½“æˆå››é€šé“çŽ¯ç»•å£°ä¹Ÿèƒ½ç”¨çš„åŽŸå› ã€‚æ€»ä¹‹åœ¨ /etc/pipewire/pipewire.conf.d/10-scarlett-2i4-sinks.conf é‡Œé¢å†™å…¥å¦‚ä¸‹çš„é…ç½®å°±å¯ä»¥äº†ï¼š\n.\n    #\n    # Differs from UMC404HD, Scarlett 2i4 uses the first two outputs for headphones.\n    {   name = libpipewire-module-loopback\n        args = {\n            node.description = &quot;Scarlett 2i4 Headphones&quot;\n            capture.props = {\n                node.name = &quot;Scarlett_2i4_Headphones&quot;\n                media.class = &quot;Audio/Sink&quot;\n                audio.position = [ FL FR ]\n            }\n            playback.props = {\n                node.name = &quot;playback.Scarlett_2i4_Headphones&quot;\n                audio.position = [ AUX0 AUX1 ]\n                target.object = &quot;alsa_output.usb-Focusrite_Scarlett_2i4_USB-00.pro-output-0&quot;\n                stream.dont-remix = true\n                node.passive = true\n            }\n        }\n    }\n    {   name = libpipewire-module-loopback\n        args = {\n            node.description = &quot;Scarlett 2i4 Speakers&quot;\n            capture.props = {\n                node.name = &quot;Scarlett_2i4_Speakers&quot;\n                media.class = &quot;Audio/Sink&quot;\n                audio.position = [ FL FR ]\n            }\n            playback.props = {\n                node.name = &quot;playback.Scarlett_2i4_Speakers&quot;\n                audio.position = [ AUX2 AUX3 ]\n                target.object = &quot;alsa_output.usb-Focusrite_Scarlett_2i4_USB-00.pro-output-0&quot;\n                stream.dont-remix = true\n                node.passive = true\n            }\n        }\n    }\n]\n\" class=\"code-block\">context.modules = [\n    # See &lt;https://gitlab.freedesktop.org/pipewire/pipewire/-/wikis/Virtual-Devices#behringer-umc404hd-speakersheadphones-virtual-sinks&gt;.\n    #\n    # Differs from UMC404HD, Scarlett 2i4 uses the first two outputs for headphones.\n    {   name = libpipewire-module-loopback\n        args = {\n            node.description = \"Scarlett 2i4 Headphones\"\n            capture.props = {\n                node.name = \"Scarlett_2i4_Headphones\"\n                media.class = \"Audio/Sink\"\n                audio.position = [ FL FR ]\n            }\n            playback.props = {\n                node.name = \"playback.Scarlett_2i4_Headphones\"\n                audio.position = [ AUX0 AUX1 ]\n                target.object = \"alsa_output.usb-Focusrite_Scarlett_2i4_USB-00.pro-output-0\"\n                stream.dont-remix = true\n                node.passive = true\n            }\n        }\n    }\n    {   name = libpipewire-module-loopback\n        args = {\n            node.description = \"Scarlett 2i4 Speakers\"\n            capture.props = {\n                node.name = \"Scarlett_2i4_Speakers\"\n                media.class = \"Audio/Sink\"\n                audio.position = [ FL FR ]\n            }\n            playback.props = {\n                node.name = \"playback.Scarlett_2i4_Speakers\"\n                audio.position = [ AUX2 AUX3 ]\n                target.object = \"alsa_output.usb-Focusrite_Scarlett_2i4_USB-00.pro-output-0\"\n                stream.dont-remix = true\n                node.passive = true\n            }\n        }\n    }\n]\n\næ‰§è¡Œ systemctl --user restart pipewire wireplumber åº”è¯¥å¯ä»¥çœ‹åˆ°å¤šäº†ä¸¤ä¸ªåˆ†åˆ«æ˜¯ Scarlett 2i4 Headphones å’Œ Scarlett 2i4 Speakers çš„éŸ³é¢‘è¾“å‡ºè®¾å¤‡ã€‚å¯¹äºŽè¾“å…¥é€šé“ï¼Œæˆ‘ä»¬ä¹ŸåŒç†å°†å®ƒæ˜ å°„æˆä¸¤ä¸ªå•ç‹¬çš„å•å£°é“è™šæ‹Ÿè¾“å…¥è®¾å¤‡ï¼Œå†™åˆ° /etc/pipewire/pipewire.conf.d/10-scarlett-2i4-sources.confï¼š\n.\n    #\n    # Differs from UMC404HD, Scarlett 2i4 can be two mono inputs or one stereo\n    # input, depends on how we wire it in software.\n    {   name = libpipewire-module-loopback\n        args = {\n            node.description = &quot;Scarlett 2i4 Left Mono Input&quot;\n            capture.props = {\n                node.name = &quot;capture.Scarlett_2i4_Left_Mono_Input&quot;\n                audio.position = [ AUX0 ]\n                stream.dont-remix = true\n                target.object = &quot;alsa_input.usb-Focusrite_Scarlett_2i4_USB-00.pro-input-0&quot;\n                node.passive = true\n            }\n            playback.props = {\n                node.name = &quot;Scarlett_2i4_Left_Mono_Input&quot;\n                media.class = &quot;Audio/Source&quot;\n                audio.position = [ MONO ]\n            }\n        }\n    }\n    {   name = libpipewire-module-loopback\n        args = {\n            node.description = &quot;Scarlett 2i4 Right Mono Inputt&quot;\n            capture.props = {\n                node.name = &quot;capture.Scarlett_2i4_Right_Mono_Input&quot;\n                audio.position = [ AUX1 ]\n                stream.dont-remix = true\n                target.object = &quot;alsa_input.usb-Focusrite_Scarlett_2i4_USB-00.pro-input-0&quot;\n                node.passive = true\n            }\n            playback.props = {\n                node.name = &quot;Scarlett_2i4_Right_Mono_Input&quot;\n                media.class = &quot;Audio/Source&quot;\n                audio.position = [ MONO ]\n            }\n        }\n    }\n]\n\" class=\"code-block\">context.modules = [\n    # See &lt;https://gitlab.freedesktop.org/pipewire/pipewire/-/wikis/Virtual-Devices#behringer-umc404hd-microphoneguitar-virtual-sources&gt;.\n    #\n    # Differs from UMC404HD, Scarlett 2i4 can be two mono inputs or one stereo\n    # input, depends on how we wire it in software.\n    {   name = libpipewire-module-loopback\n        args = {\n            node.description = \"Scarlett 2i4 Left Mono Input\"\n            capture.props = {\n                node.name = \"capture.Scarlett_2i4_Left_Mono_Input\"\n                audio.position = [ AUX0 ]\n                stream.dont-remix = true\n                target.object = \"alsa_input.usb-Focusrite_Scarlett_2i4_USB-00.pro-input-0\"\n                node.passive = true\n            }\n            playback.props = {\n                node.name = \"Scarlett_2i4_Left_Mono_Input\"\n                media.class = \"Audio/Source\"\n                audio.position = [ MONO ]\n            }\n        }\n    }\n    {   name = libpipewire-module-loopback\n        args = {\n            node.description = \"Scarlett 2i4 Right Mono Inputt\"\n            capture.props = {\n                node.name = \"capture.Scarlett_2i4_Right_Mono_Input\"\n                audio.position = [ AUX1 ]\n                stream.dont-remix = true\n                target.object = \"alsa_input.usb-Focusrite_Scarlett_2i4_USB-00.pro-input-0\"\n                node.passive = true\n            }\n            playback.props = {\n                node.name = \"Scarlett_2i4_Right_Mono_Input\"\n                media.class = \"Audio/Source\"\n                audio.position = [ MONO ]\n            }\n        }\n    }\n]\n\næŒ‰ç†è¯´åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œä½†ä»¥é˜²ä¸‡ä¸€çœŸçš„æœ‰äººæƒ³ç”¨è¿™æ¬¾å£°å¡åšå››å£°é“çŽ¯ç»•å£°è¾“å‡ºï¼Œæˆ–è€…ç«‹ä½“å£°è¾“å…¥ï¼ŒåŒç†å¯ä»¥ä½¿ç”¨ä¹‹å‰çš„ combine-stream å†æŠŠè¿™äº›è™šæ‹Ÿè®¾å¤‡å¤åˆèµ·æ¥ï¼Œå¯ä»¥åœ¨ /etc/pipewire/pipewire.conf.d/10-scarlett-2i4-combined.conf å†™å…¥å¦‚ä¸‹é…ç½®ï¼š\ncontext.modules = [\n    # Is there anyone who really uses Scarlett 2i4 for surround 4.0 output?\n    # Anyway, we could achieve this with PipeWire's combine stream.\n    {   name = libpipewire-module-combine-stream\n        args = {\n            combine.mode = sink\n            node.name = \"Scarlett_2i4_Surround_4_0_Output\"\n            node.description = \"Scarlett 2i4 Surround 4.0 Output\"\n            combine.latency-compensate = false\n            combine.props = {\n                audio.position = [ FL FR RL RR ]\n                # Those could be added here, but libgnome-volume-control only\n                # read those for ports from cards, not for virtual / network\n                # devices.\n                #device.description = \"Scarlett 2i4\"\n                #device.icon-name = \"audio-card-analog-usb\"\n            }\n            stream.props = {\n                # Link matching channels without remixing.\n                stream.dont-remix = true\n            }\n            # To get better effect, treat headphones output as rear output.\n            stream.rules = [\n                {\n                    matches = [\n                        # Any of the items in matches needs to match, if one\n                        # does, actions are emited.\n                        {\n                            # All keys must match the value. `~` in value\n                            # starts regex. Match Scarlett 2i4 Speakers.\n                            media.class = \"Audio/Sink\"\n                            node.name = \"Scarlett_2i4_Speakers\"\n                        }\n                    ]\n                    actions = {\n                        create-stream = {\n                            audio.position = [ FL FR ]\n                            combine.audio.position = [ FL FR ]\n                        }\n                    }\n                }\n                {\n                    matches = [\n                        # Any of the items in matches needs to match, if one\n                        # does, actions are emited.\n                        {\n                            # All keys must match the value. `~` in value\n                            # starts regex. Match Scarlett 2i4 Headphones.\n                            media.class = \"Audio/Sink\"\n                            node.name = \"Scarlett_2i4_Headphones\"\n                        }\n                    ]\n                    actions = {\n                        create-stream = {\n                            audio.position = [ FL FR ]\n                            combine.audio.position = [ RL RR ]\n                        }\n                    }\n                }\n            ]\n        }\n    }\n    # To make it easier, we also use PipeWire's combine stream to make a stereo\n    # input, so we don't need to wire manually.\n    {   name = libpipewire-module-combine-stream\n        args = {\n            combine.mode = source\n            node.name = \"Scarlett_2i4_Stereo_Input\"\n            node.description = \"Scarlett 2i4 Stereo Input\"\n            combine.latency-compensate = false\n            combine.props = {\n                audio.position = [ FL FR ]\n                # Those could be added here, but libgnome-volume-control only\n                # read those for ports from cards, not for virtual / network\n                # devices.\n                #device.description = \"Scarlett 2i4\"\n                #device.icon-name = \"audio-card-analog-usb\"\n            }\n            stream.props = {\n                # Link matching channels without remixing.\n                stream.dont-remix = true\n            }\n            stream.rules = [\n                {\n                    matches = [\n                        # Any of the items in matches needs to match, if one\n                        # does, actions are emited.\n                        {\n                            # All keys must match the value. `~` in value\n                            # starts regex. Match Scarlett 2i4 Left Mono Input.\n                            media.class = \"Audio/Source\"\n                            node.name = \"Scarlett_2i4_Left_Mono_Input\"\n                        }\n                    ]\n                    actions = {\n                        create-stream = {\n                            audio.position = [ MONO ]\n                            combine.audio.position = [ FL ]\n                        }\n                    }\n                }\n                {\n                    matches = [\n                        # Any of the items in matches needs to match, if one\n                        # does, actions are emited.\n                        {\n                            # All keys must match the value. `~` in value\n                            # starts regex. Match Scarlett 2i4 Right Mono Input.\n                            media.class = \"Audio/Source\"\n                            node.name = \"Scarlett_2i4_Right_Mono_Input\"\n                        }\n                    ]\n                    actions = {\n                        create-stream = {\n                            audio.position = [ MONO ]\n                            combine.audio.position = [ FR ]\n                        }\n                    }\n                }\n            ] \n        }\n    }\n]\n\nç†è®ºä¸Šæ¥è¯´ï¼Œå†åˆ›å»ºè™šæ‹Ÿè®¾å¤‡ç›´æŽ¥è¿žåˆ°ç‰©ç†é€šé“åº”è¯¥ä¹Ÿæ˜¯å¯è¡Œçš„ï¼Œä½†æˆ‘å°è¯•è¿‡ä¹‹åŽè¿žæŽ¥å›¾ä¹±æŽ‰äº†ï¼Œæ‰€ä»¥æˆ‘æ¢æˆ combine-stream å®žçŽ°äº†ã€‚æœ‰ä¸€ä¸ªè¦æ³¨æ„çš„ç‚¹æ˜¯æˆ‘åœ¨çŽ¯ç»•å£°é‡Œäº¤æ¢äº†ä¸€ä¸‹é€šé“ï¼Œæ‰¬å£°å™¨è¾“å‡ºè¢«æˆ‘å½“ä½œå‰é¢çš„éŸ³æºï¼Œè€Œè€³æœºè¾“å‡ºè¢«æˆ‘å½“ä½œåŽé¢çš„éŸ³æºï¼Œè¿™æ ·åº”è¯¥æ•ˆæžœä¼šæ›´å¥½ï¼Œä¸è¿‡æ˜¯å’Œ auto-profile å‡è®¾çš„ç›¸åã€‚\näºŽæ˜¯åœ¨è´­ä¹°è¿™æ¬¾å£°å¡ä¸ƒå…«å¹´ä¹‹åŽæˆ‘ç»ˆäºŽåœ¨ Linux ä¸‹é¢æŠŠå®ƒæŒ‰æˆ‘æƒ³è¦çš„ç”¨æ³•åˆ’åˆ†äº†é€šé“ï¼ŒåŒæ—¶å‘çŽ° PipeWire å¯¹å¤æ‚éŸ³é¢‘è®¾å¤‡çš„å¤„ç†ç¡®å®žæ¯” PulseAudio æ›´åŠ çµæ´»ï¼Œè€Œå’ŒåŒæ ·åŸºäºŽå›¾å’Œè¿žæŽ¥çš„ JACK ç›¸æ¯”ï¼Œåˆèƒ½åŒæ—¶æŽ§åˆ¶ä¸åŒçš„å£°å¡ï¼Œå¯¹äºŽæˆ‘è¿™ç§è®¾å¤‡å¤æ‚éœ€æ±‚å´ä¸å¤æ‚çš„ç”¨æˆ·è€Œè¨€æ˜¾ç„¶æ›´åŠ æ–¹ä¾¿ã€‚\n\n\n\nEnglish Version\nI might be the only one who owns a complex audio setup among my friends. TL;DR: To share the only pair of speakers between PS4, Switch and computer I connect it to my monitor instead of internal sound card of my computer, so all devices can output audio to speakers via HDMI/DP. It's fine until I bought another monitor, it's hard to find which monitor is the one with speakers, maybe it's HDMI 1 this week and become HDMI 2 next week, so I always need to test before playing audio. I'm too angry to accept this recently, so I try to fix it by hand.\nAt first I guess PipeWire just randomly sorts audio ports, so it's easy to fix it, what I need to do is finding ID for each port and disabling the HDMI port without speakers. But soon I see PipeWire just sorts ports via ALSA's device number, so if I disable a port, the port might be the other monitor on next boot. Is there no way to let ALSA do a fixed mapping for HDMI audio devices? We all know monitors report EDID to system, and I read ALSA's document, it contains how to handle sequence of different sound cards via udev, but no way to handle ports on the same sound card like HDMI ports. I even find document of GPU audio from NVIDIA, it says each port has a ELD file, which contains monitor info, but if you try to read it with cat /proc/asound/cardX/eld*, you'll find it only contains model, not serial number, and I have two monitors of the same model in order to save time on dual-monitor scale, so they looks the same. But if your monitors/TVs are of different models, it is easier, ALSA will read model in ELD and you can access it via node.nick property of a PipeWire device, you can just read it, or write some WirePlumber rules to rename properties that your desktop environment uses, so you get a fixed name. But I need more help.\nThen I send a Email to our company's research mailing list of my setup and demand, and Takashi Iwai (maintainer of kernel's audio subsystem) tell me there is no better way, audio driver just assign number when GPU driver notifies a new port, so it's dynamic. And I also find GPU driver may not emit ports as display probing sequence, so Plan A fails, but I have Plan B and Plan C.\nAnother colleague suggests me to buy a mixer hardware so I can connect two monitors into one pair of speakers, and he even draws a circuit diagram and says you could make one by yourself like this. I also considered this, it allows PC and game consoles play audio at the same time, but I have to manually sync volume of two audio devices on my PC. I don't need to play audio at the same time but I am lazy, so I decide to try this last.\nIf there is a hardware solution, there should be a software solution. PipeWire supports graph-based connection like JACK, then I could just create a virtual output device, and wire two HDMI devices to it. There is a section called Simultaneous output to multiple sinks on the same sound card on Arch Wiki, I thought I just need to follow it, but I was wrong, there is no new audio device. The I read more documents to understand the term and totally understand it.\nFirst I find that section is only about how to create a \"profile that shows both two mappings\", but what is mapping and what is profile? Mapping is like one kine of combination of input/output on a sound card, and profile controls which kind of combination you could use. For example, if you have a sound device which has 2 input channels and 4 output channels, it could be a stereo output, or surround 4.0 output, or stereo input + surround 4.0 output, those are different profiles. And why you need to manually create a profile to simultaneously output to two sinks? Because by default ALSA does auto-profile which creates a profile for each mapping, and by default one mapping is for one HDMI port, so if you launch pavucontrol or Helvum, you'll find you can only see 1 of 2 HDMI devices if you don't switch profile, so you cannot wire them both. But you may also ask why GNOME Shell shows both of 2 HDMI sinks? Because libgnome-volume-control iterates sound cards first, and then ports on a sound card, not directly iterate ports (which could be effected by profile), and it will switch profile when you choose ports.\nSo the first step to do is create a new profile sets, I use /usr/share/alsa-card-profile/mixer/profile-sets/hdmi-multiple.conf:\n[General]\nauto-profiles = no\n\n[Mapping hdmi-stereo]\ndescription = Digital Stereo (HDMI)\ndevice-strings = hdmi:%f\npaths-output = hdmi-output-0\nchannel-map = left,right\npriority = 9\ndirection = output\n\n[Mapping hdmi-stereo-extra1]\ndescription = Digital Stereo (HDMI 2)\ndevice-strings = hdmi:%f,1\npaths-output = hdmi-output-1\nchannel-map = left,right\npriority = 7\ndirection = output\n\n# If you have more HDMI devices, add them here.\n\n# Show multiple HDMI mappings so I could connect to them all.\n[Profile hdmi-multiple]\ndescription = Multiple Digital Stereo (HDMI)\noutput-mappings = hdmi-stereo hdmi-stereo-extra1\n\nI just copy mapping from default.conf, and the profile just contains those two mappings, and then write a WirePlumber rule to use this profile for GPU sound card. I write the rule into /etc/wireplumber/main.lua.d/51-hdmi-multiple.lua:\nrule = {\n  matches = {\n    {\n      -- Sometimes PCI sound card name has `.1` or other suffix, so it's better\n      -- to use description to match it.\n      { \"device.description\", \"matches\", \"TU104 HD Audio Controller\" },\n    },\n  },\n  apply_properties = {\n    [\"api.alsa.use-acp\"] = true,\n    -- By default, it creates profiles for each mappings, so one profile has one\n    -- mapping, but I want to combine 2 mappings, so I have to manually create\n    -- a profile to show 2 mappings.\n    [\"api.acp.auto-profile\"] = false,\n    [\"api.acp.auto-port\"] = false,\n    [\"device.profile-set\"] = \"hdmi-multiple.conf\",\n    [\"device.profile\"] = \"hdmi-multiple\",\n  },\n}\n\ntable.insert(alsa_monitor.rules, rule)\n\nAnd then run systemctl --user restart wireplumber, you should see both 2 HDMI sinks in Helvum now.\nThen let's do steps which Arch Wiki does not contain, how to output audio to 2 sinks? The easiest way is manually wire output program to both 2 sinks, but that's not persistent, and you cannot control volume in desktop environment. After reading PipeWire's document, I find I could solve this via virtual devices, there is a module called combine-stream which could create such a combination device, so I just follow combine-stream's document, write following content into /etc/pipewire/pipewire.conf.d/10-hdmi-combined-sink.conf:\ncontext.modules = [\n    {   name = libpipewire-module-combine-stream\n        args = {\n            combine.mode = sink\n            node.name = \"combined-hdmi-stereo\"\n            node.description = \"Combined HDMI / DisplayPort\"\n            combine.latency-compensate = false\n            combine.props = {\n                audio.position = [ FL FR ]\n                # Those could be added here, but libgnome-volume-control only\n                # read those for ports from cards, not for virtual / network\n                # devices.\n                #device.description = \"TU104 HD Audio Controller\"\n                #device.icon-name = \"audio-card-analog-pci\"\n            }\n            stream.props = {\n                # Link matching channels without remixing.\n                stream.dont-remix = true\n            }\n            stream.rules = [\n                {\n                    matches = [\n                        # Any of the items in matches needs to match, if one\n                        # does, actions are emited.\n                        {\n                            # All keys must match the value. `~` in value\n                            # starts glob. Match all HDMI devices on TU104.\n                            media.class = \"Audio/Sink\"\n                            # Sometimes PCI sound card name has `.1` or other\n                            # suffix, so it's better to use description to\n                            # match it.\n                            node.description = \"~TU104 HD Audio Controller Digital Stereo *\"\n                        }\n                    ]\n                    actions = {\n                        create-stream = {\n                            combine.audio.position = [ FL FR ]\n                            audio.position = [ FL FR ]\n                        }\n                    }\n                }\n            ]\n        }\n    }\n]\n\nIt's fairly easy to understand, just create a combination device, all audio streams point to this device will be send to all HDMI sinks on a GPU sound card, and run systemctl --user restart pipewire wireplumber you should be able to choose it as output sink and control its volume. No matter speakers are connected to which monitor, it should work.\nThen I find I could solve the channel problem of my USB sound card. I still uses Scarlett 2i4 bought when I was in high school, it has 2 input channels and 4 output channels, and auto-profile will set it to a surround 4.0 output and stereo input, but those 4 output channels is made of a stereo headphone output and a stereo speaker output, the 2 input channels typically are used as mono microphone and mono instructment. I used to set mono input in different software to fix my microphone. But now I find there is a example of another sound card in PipeWire's document (Split speakers/headphones of UMC404HD å’Œ Split speakers/headphones of UMC404HD), but mostly they are the same, so I also tweak my sound card.\nThe same thing is to replace default profile in order to split each channels, but this time manually creating profile is not needed, PipeWire provides a pro-audio profile for all audio devices, it will expose all channels without assuming their usage (obviously, your desktop environment supports this badly), and then we could do what we need, so just create a rule to use pro-audio by default in /etc/wireplumber/main.lua.d/51-scarlett-2i4.lua:\nrule = {\n  matches = {\n    {\n      { \"device.name\", \"matches\", \"alsa_card.usb-Focusrite_Scarlett_2i4_USB-00\" },\n    },\n  },\n  apply_properties = {\n    [\"audio.rate\"] = 48000,\n    [\"audio.allowed-rates\"] = \"44100,48000,88200,96000\",\n    --[\"api.alsa.period-size\"] = 2048,\n    --[\"api.alsa.headroom\"] = 1024,\n    [\"api.alsa.use-acp\"] = true,\n    -- By default, it creates profiles for stereo input and surround 4.0 output,\n    -- but actually the card is 2 inputs, stereo headphones output and stereo\n    -- speakers output, so we disable auto profile here, and use the Pro Audio\n    -- profile to expose all ports, and combine them manually.\n    [\"api.acp.auto-profile\"] = false,\n    [\"api.acp.auto-port\"] = false,\n    [\"device.profile\"] = \"pro-audio\",\n  },\n},\n\ntable.insert(alsa_monitor.rules, rule)\n\nThen run systemctl --user restart wireplumber, and launch Helvum, the sound card now should has AUX0~3 instead of LR RR, and then create virtual devices that map to different channels.\nFor output channels, I create two devices for headphones and speakers, I typically only uses headphones. Which differs from the example is Scarlett 2i4 uses AUX0/1 for headphones instead of AUX2/3, and that's the reason why is works in surround 4.0 output profile. Anyway, just write those configuration into /etc/pipewire/pipewire.conf.d/10-scarlett-2i4-sinks.conf:\n.\n    #\n    # Differs from UMC404HD, Scarlett 2i4 uses the first two outputs for headphones.\n    {   name = libpipewire-module-loopback\n        args = {\n            node.description = &quot;Scarlett 2i4 Headphones&quot;\n            capture.props = {\n                node.name = &quot;Scarlett_2i4_Headphones&quot;\n                media.class = &quot;Audio/Sink&quot;\n                audio.position = [ FL FR ]\n            }\n            playback.props = {\n                node.name = &quot;playback.Scarlett_2i4_Headphones&quot;\n                audio.position = [ AUX0 AUX1 ]\n                target.object = &quot;alsa_output.usb-Focusrite_Scarlett_2i4_USB-00.pro-output-0&quot;\n                stream.dont-remix = true\n                node.passive = true\n            }\n        }\n    }\n    {   name = libpipewire-module-loopback\n        args = {\n            node.description = &quot;Scarlett 2i4 Speakers&quot;\n            capture.props = {\n                node.name = &quot;Scarlett_2i4_Speakers&quot;\n                media.class = &quot;Audio/Sink&quot;\n                audio.position = [ FL FR ]\n            }\n            playback.props = {\n                node.name = &quot;playback.Scarlett_2i4_Speakers&quot;\n                audio.position = [ AUX2 AUX3 ]\n                target.object = &quot;alsa_output.usb-Focusrite_Scarlett_2i4_USB-00.pro-output-0&quot;\n                stream.dont-remix = true\n                node.passive = true\n            }\n        }\n    }\n]\n\" class=\"code-block\">context.modules = [\n    # See &lt;https://gitlab.freedesktop.org/pipewire/pipewire/-/wikis/Virtual-Devices#behringer-umc404hd-speakersheadphones-virtual-sinks&gt;.\n    #\n    # Differs from UMC404HD, Scarlett 2i4 uses the first two outputs for headphones.\n    {   name = libpipewire-module-loopback\n        args = {\n            node.description = \"Scarlett 2i4 Headphones\"\n            capture.props = {\n                node.name = \"Scarlett_2i4_Headphones\"\n                media.class = \"Audio/Sink\"\n                audio.position = [ FL FR ]\n            }\n            playback.props = {\n                node.name = \"playback.Scarlett_2i4_Headphones\"\n                audio.position = [ AUX0 AUX1 ]\n                target.object = \"alsa_output.usb-Focusrite_Scarlett_2i4_USB-00.pro-output-0\"\n                stream.dont-remix = true\n                node.passive = true\n            }\n        }\n    }\n    {   name = libpipewire-module-loopback\n        args = {\n            node.description = \"Scarlett 2i4 Speakers\"\n            capture.props = {\n                node.name = \"Scarlett_2i4_Speakers\"\n                media.class = \"Audio/Sink\"\n                audio.position = [ FL FR ]\n            }\n            playback.props = {\n                node.name = \"playback.Scarlett_2i4_Speakers\"\n                audio.position = [ AUX2 AUX3 ]\n                target.object = \"alsa_output.usb-Focusrite_Scarlett_2i4_USB-00.pro-output-0\"\n                stream.dont-remix = true\n                node.passive = true\n            }\n        }\n    }\n]\n\nThen run systemctl --user restart pipewire wireplumber there should be 2 sinks called Scarlett 2i4 Headphones and Scarlett 2i4 Speakers. For input channels, I also map them into 2 mono virtual input devices, write configuration into /etc/pipewire/pipewire.conf.d/10-scarlett-2i4-sources.conf:\n.\n    #\n    # Differs from UMC404HD, Scarlett 2i4 can be two mono inputs or one stereo\n    # input, depends on how we wire it in software.\n    {   name = libpipewire-module-loopback\n        args = {\n            node.description = &quot;Scarlett 2i4 Left Mono Input&quot;\n            capture.props = {\n                node.name = &quot;capture.Scarlett_2i4_Left_Mono_Input&quot;\n                audio.position = [ AUX0 ]\n                stream.dont-remix = true\n                target.object = &quot;alsa_input.usb-Focusrite_Scarlett_2i4_USB-00.pro-input-0&quot;\n                node.passive = true\n            }\n            playback.props = {\n                node.name = &quot;Scarlett_2i4_Left_Mono_Input&quot;\n                media.class = &quot;Audio/Source&quot;\n                audio.position = [ MONO ]\n            }\n        }\n    }\n    {   name = libpipewire-module-loopback\n        args = {\n            node.description = &quot;Scarlett 2i4 Right Mono Inputt&quot;\n            capture.props = {\n                node.name = &quot;capture.Scarlett_2i4_Right_Mono_Input&quot;\n                audio.position = [ AUX1 ]\n                stream.dont-remix = true\n                target.object = &quot;alsa_input.usb-Focusrite_Scarlett_2i4_USB-00.pro-input-0&quot;\n                node.passive = true\n            }\n            playback.props = {\n                node.name = &quot;Scarlett_2i4_Right_Mono_Input&quot;\n                media.class = &quot;Audio/Source&quot;\n                audio.position = [ MONO ]\n            }\n        }\n    }\n]\n\" class=\"code-block\">context.modules = [\n    # See &lt;https://gitlab.freedesktop.org/pipewire/pipewire/-/wikis/Virtual-Devices#behringer-umc404hd-microphoneguitar-virtual-sources&gt;.\n    #\n    # Differs from UMC404HD, Scarlett 2i4 can be two mono inputs or one stereo\n    # input, depends on how we wire it in software.\n    {   name = libpipewire-module-loopback\n        args = {\n            node.description = \"Scarlett 2i4 Left Mono Input\"\n            capture.props = {\n                node.name = \"capture.Scarlett_2i4_Left_Mono_Input\"\n                audio.position = [ AUX0 ]\n                stream.dont-remix = true\n                target.object = \"alsa_input.usb-Focusrite_Scarlett_2i4_USB-00.pro-input-0\"\n                node.passive = true\n            }\n            playback.props = {\n                node.name = \"Scarlett_2i4_Left_Mono_Input\"\n                media.class = \"Audio/Source\"\n                audio.position = [ MONO ]\n            }\n        }\n    }\n    {   name = libpipewire-module-loopback\n        args = {\n            node.description = \"Scarlett 2i4 Right Mono Inputt\"\n            capture.props = {\n                node.name = \"capture.Scarlett_2i4_Right_Mono_Input\"\n                audio.position = [ AUX1 ]\n                stream.dont-remix = true\n                target.object = \"alsa_input.usb-Focusrite_Scarlett_2i4_USB-00.pro-input-0\"\n                node.passive = true\n            }\n            playback.props = {\n                node.name = \"Scarlett_2i4_Right_Mono_Input\"\n                media.class = \"Audio/Source\"\n                audio.position = [ MONO ]\n            }\n        }\n    }\n]\n\nEvery thing should be done here, but just in case someone really uses this sound card for surround 4.0 output or stereo input, combine-stream also could be used to combine those virtual devices, it could be done via writing those contents into /etc/pipewire/pipewire.conf.d/10-scarlett-2i4-combined.conf:\ncontext.modules = [\n    # Is there anyone who really uses Scarlett 2i4 for surround 4.0 output?\n    # Anyway, we could achieve this with PipeWire's combine stream.\n    {   name = libpipewire-module-combine-stream\n        args = {\n            combine.mode = sink\n            node.name = \"Scarlett_2i4_Surround_4_0_Output\"\n            node.description = \"Scarlett 2i4 Surround 4.0 Output\"\n            combine.latency-compensate = false\n            combine.props = {\n                audio.position = [ FL FR RL RR ]\n                # Those could be added here, but libgnome-volume-control only\n                # read those for ports from cards, not for virtual / network\n                # devices.\n                #device.description = \"Scarlett 2i4\"\n                #device.icon-name = \"audio-card-analog-usb\"\n            }\n            stream.props = {\n                # Link matching channels without remixing.\n                stream.dont-remix = true\n            }\n            # To get better effect, treat headphones output as rear output.\n            stream.rules = [\n                {\n                    matches = [\n                        # Any of the items in matches needs to match, if one\n                        # does, actions are emited.\n                        {\n                            # All keys must match the value. `~` in value\n                            # starts regex. Match Scarlett 2i4 Speakers.\n                            media.class = \"Audio/Sink\"\n                            node.name = \"Scarlett_2i4_Speakers\"\n                        }\n                    ]\n                    actions = {\n                        create-stream = {\n                            audio.position = [ FL FR ]\n                            combine.audio.position = [ FL FR ]\n                        }\n                    }\n                }\n                {\n                    matches = [\n                        # Any of the items in matches needs to match, if one\n                        # does, actions are emited.\n                        {\n                            # All keys must match the value. `~` in value\n                            # starts regex. Match Scarlett 2i4 Headphones.\n                            media.class = \"Audio/Sink\"\n                            node.name = \"Scarlett_2i4_Headphones\"\n                        }\n                    ]\n                    actions = {\n                        create-stream = {\n                            audio.position = [ FL FR ]\n                            combine.audio.position = [ RL RR ]\n                        }\n                    }\n                }\n            ]\n        }\n    }\n    # To make it easier, we also use PipeWire's combine stream to make a stereo\n    # input, so we don't need to wire manually.\n    {   name = libpipewire-module-combine-stream\n        args = {\n            combine.mode = source\n            node.name = \"Scarlett_2i4_Stereo_Input\"\n            node.description = \"Scarlett 2i4 Stereo Input\"\n            combine.latency-compensate = false\n            combine.props = {\n                audio.position = [ FL FR ]\n                # Those could be added here, but libgnome-volume-control only\n                # read those for ports from cards, not for virtual / network\n                # devices.\n                #device.description = \"Scarlett 2i4\"\n                #device.icon-name = \"audio-card-analog-usb\"\n            }\n            stream.props = {\n                # Link matching channels without remixing.\n                stream.dont-remix = true\n            }\n            stream.rules = [\n                {\n                    matches = [\n                        # Any of the items in matches needs to match, if one\n                        # does, actions are emited.\n                        {\n                            # All keys must match the value. `~` in value\n                            # starts regex. Match Scarlett 2i4 Left Mono Input.\n                            media.class = \"Audio/Source\"\n                            node.name = \"Scarlett_2i4_Left_Mono_Input\"\n                        }\n                    ]\n                    actions = {\n                        create-stream = {\n                            audio.position = [ MONO ]\n                            combine.audio.position = [ FL ]\n                        }\n                    }\n                }\n                {\n                    matches = [\n                        # Any of the items in matches needs to match, if one\n                        # does, actions are emited.\n                        {\n                            # All keys must match the value. `~` in value\n                            # starts regex. Match Scarlett 2i4 Right Mono Input.\n                            media.class = \"Audio/Source\"\n                            node.name = \"Scarlett_2i4_Right_Mono_Input\"\n                        }\n                    ]\n                    actions = {\n                        create-stream = {\n                            audio.position = [ MONO ]\n                            combine.audio.position = [ FR ]\n                        }\n                    }\n                }\n            ] \n        }\n    }\n]\n\nTheoretically creating new virtual devices wired to physical channels should also work, but my graph messed up after I tried it. Note that I swapped channels in surround 4.0 output, I use speakers sink for front and headphones sink for rear, which might leads into a better result, but it's opposite to what auto-profile generates.\nSo after owning this sound card for 7~8 years I finally tweaked it's channels as my will, and I find PipeWire is more flexible than PulseAudio on handling complex sound devices, and when compared with JACK which also uses graph and wire, PipeWire can control different sound cards, which is more convenient for users like me who have complex setup but simple demand.\n\n\n\n"},{"title":"éƒ½ä¸èƒ½ç®—æ˜¯ GNOME çš„ Bug","url":"/posts/Not-A-GNOME-Bug-at-All/","content":"Arch Linux çš„å®˜æ–¹ä»“åº“é‡Œç»ˆäºŽæœ‰ GNOME 44 äº†ï¼Œä»Šå¤©æ›´æ–°äº†ä¸€ä¸‹ç³»ç»Ÿï¼Œåœ¨æ€è€ƒå‡ºæ€Žä¹ˆè§£å†³ DaVinci Resolve ä¸€å®šè¦åŽ»åŠ è½½ onetbb é‡Œé¢ intel çš„ OpenCL å®žçŽ°ä¹‹å‰ï¼Œæˆ‘é‡åˆ°äº†ä¸€ä¸ªæ›´å¥‡æ€ªçš„é—®é¢˜ï¼šæ‰€æœ‰çš„ XWayland ç¨‹åºéƒ½æ˜¾ç¤ºä¸å‡ºæ¥çª—å£ï¼Œç¨‹åºå¯åŠ¨äº†ï¼Œæ²¡æœ‰æŠ¥é”™ï¼Œä½†æ˜¯ç‚¹ä¸åˆ°ã€‚\nå¿˜äº†æˆ‘å½“æ—¶åœ¨æŸ¥ä»€ä¹ˆåæ­£çœ‹äº†ä¸€ä¸‹ journalctl -f å‘çŽ°ä¸€ç›´åˆ·ä¸€ä¸ª mutter-x11-frames core dump çš„ logï¼Œæˆ‘æƒ³èµ·æ¥ mutter 44 åº”è¯¥æ˜¯æŠŠ X11 ç¨‹åºçš„ decoration æŒªåˆ°å•ç‹¬çš„ client é‡Œé¢å®žçŽ°äº†ï¼Œæ‰€ä»¥ä¹Ÿè®¸æ˜¯ mutter çš„é—®é¢˜ï¼Œä¸è¿‡æˆ‘è¿˜æ˜¯å°è¯•ç”¨ gdb çœ‹äº†ä¸€ä¸‹ backtraceï¼š\n, nativeDpy=0x55555558e510, attribs=) at ../egl-wayland/src/wayland-egldisplay.c:580\n#4  0x00007ffff26acfa0 in  () at /usr/lib/libEGL_nvidia.so.0\n#5  0x00007ffff264c71c in  () at /usr/lib/libEGL_nvidia.so.0\n#6  0x00007ffff2ba4885 in GetPlatformDisplayCommon (platform=12760, native_display=0x55555558e510, attrib_list=0x0, funcName=0x7ffff2baad18 &quot;eglGetDisplay&quot;) at ../libglvnd-v1.6.0/src/EGL/libegl.c:324\n#7  0x00007ffff7a19357 in gdk_display_create_egl_display (native_display=0x55555558e510, platform=12757) at ../gtk/gdk/gdkdisplay.c:1484\n#8  gdk_display_init_egl (self=0x5555555a1820, platform=12757, native_display=0x55555558e510, allow_any=0, error=0x5555555a17f8) at ../gtk/gdk/gdkdisplay.c:1667\n#9  0x00007ffff79edb53 in gdk_x11_display_init_gl_backend (error=0x5555555a17f8, out_depth=0x5555555a18c4, out_visual=0x5555555a18c8, self=0x5555555a1820) at ../gtk/gdk/x11/gdkdisplay-x11.c:2975\n#10 gdk_x11_display_init_gl (display=0x5555555a1820, error=0x5555555a17f8) at ../gtk/gdk/x11/gdkdisplay-x11.c:3013\n#11 0x00007ffff7a198f0 in gdk_display_init_gl (self=0x5555555a1820) at ../gtk/gdk/gdkdisplay.c:1248\n#12 gdk_display_prepare_gl (self=0x5555555a1820, error=0x0) at ../gtk/gdk/gdkdisplay.c:1320\n#13 0x00007ffff79ec355 in gdk_x11_display_open (display_name=) at ../gtk/gdk/x11/gdkdisplay-x11.c:1479\n#14 0x00007ffff7a15c62 in gdk_display_manager_open_display (manager=, name=0x0) at ../gtk/gdk/gdkdisplaymanager.c:431\n#15 0x00007ffff777dda9 in gdk_display_open_default () at ../gtk/gdk/gdk.c:331\n#16 gtk_init_check () at ../gtk/gtk/gtkmain.c:621\n#17 gtk_init_check () at ../gtk/gtk/gtkmain.c:603\n#18 0x00007ffff777dfee in gtk_init () at ../gtk/gtk/gtkmain.c:659\n#19 0x0000555555557070 in main (argc=, argv=) at ../mutter/src/frames/main.c:56\n\" class=\"code-block\">Thread 1 \"mutter-x11-fram\" received signal SIGSEGV, Segmentation fault.\n___pthread_mutex_lock (mutex=0x123) at pthread_mutex_lock.c:80\nDownloading source file /usr/src/debug/glibc/glibc/nptl/pthread_mutex_lock.c\n80        unsigned int type = PTHREAD_MUTEX_TYPE_ELISION (mutex);                                                                                                                                                                                             \n(gdb) bt\n#0  ___pthread_mutex_lock (mutex=0x123) at pthread_mutex_lock.c:80\n#1  0x00007ffff685aaf6 in wl_proxy_create_wrapper (proxy=proxy@entry=0x55555558e510) at ../wayland-1.22.0/src/wayland-client.c:2446\n#2  0x00007ffff2ad337c in getServerProtocolsInfo (protocols=0x7fffffffdc70, nativeDpy=0x55555558e510) at ../egl-wayland/src/wayland-egldisplay.c:464\n#3  wlEglGetPlatformDisplayExport (data=0x5555555ae000, platform=&lt;optimized out&gt;, nativeDpy=0x55555558e510, attribs=&lt;optimized out&gt;) at ../egl-wayland/src/wayland-egldisplay.c:580\n#4  0x00007ffff26acfa0 in  () at /usr/lib/libEGL_nvidia.so.0\n#5  0x00007ffff264c71c in  () at /usr/lib/libEGL_nvidia.so.0\n#6  0x00007ffff2ba4885 in GetPlatformDisplayCommon (platform=12760, native_display=0x55555558e510, attrib_list=0x0, funcName=0x7ffff2baad18 \"eglGetDisplay\") at ../libglvnd-v1.6.0/src/EGL/libegl.c:324\n#7  0x00007ffff7a19357 in gdk_display_create_egl_display (native_display=0x55555558e510, platform=12757) at ../gtk/gdk/gdkdisplay.c:1484\n#8  gdk_display_init_egl (self=0x5555555a1820, platform=12757, native_display=0x55555558e510, allow_any=0, error=0x5555555a17f8) at ../gtk/gdk/gdkdisplay.c:1667\n#9  0x00007ffff79edb53 in gdk_x11_display_init_gl_backend (error=0x5555555a17f8, out_depth=0x5555555a18c4, out_visual=0x5555555a18c8, self=0x5555555a1820) at ../gtk/gdk/x11/gdkdisplay-x11.c:2975\n#10 gdk_x11_display_init_gl (display=0x5555555a1820, error=0x5555555a17f8) at ../gtk/gdk/x11/gdkdisplay-x11.c:3013\n#11 0x00007ffff7a198f0 in gdk_display_init_gl (self=0x5555555a1820) at ../gtk/gdk/gdkdisplay.c:1248\n#12 gdk_display_prepare_gl (self=0x5555555a1820, error=0x0) at ../gtk/gdk/gdkdisplay.c:1320\n#13 0x00007ffff79ec355 in gdk_x11_display_open (display_name=&lt;optimized out&gt;) at ../gtk/gdk/x11/gdkdisplay-x11.c:1479\n#14 0x00007ffff7a15c62 in gdk_display_manager_open_display (manager=&lt;optimized out&gt;, name=0x0) at ../gtk/gdk/gdkdisplaymanager.c:431\n#15 0x00007ffff777dda9 in gdk_display_open_default () at ../gtk/gdk/gdk.c:331\n#16 gtk_init_check () at ../gtk/gtk/gtkmain.c:621\n#17 gtk_init_check () at ../gtk/gtk/gtkmain.c:603\n#18 0x00007ffff777dfee in gtk_init () at ../gtk/gtk/gtkmain.c:659\n#19 0x0000555555557070 in main (argc=&lt;optimized out&gt;, argv=&lt;optimized out&gt;) at ../mutter/src/frames/main.c:56\n\nç„¶åŽæˆ‘å°±åœ¨æƒ³çœ‹èµ·æ¥æ˜¯ GTK4 çš„é—®é¢˜ï¼Œæˆ‘è¿˜åŽ»ç¾¤é‡Œé—®äº†ä¸€ä¸‹æœ‰æ²¡æœ‰ GNOME + NVIDIA çš„ç”¨æˆ·ï¼Œçœ‹çœ‹æ˜¯æˆ‘çš„é—®é¢˜è¿˜æ˜¯ bugï¼Œä¸è¿‡æ²¡äººç†æˆ‘ï¼Œè¿˜å·®ç‚¹æŠŠæˆ‘æ¶å¿ƒåˆ°äº†ã€‚ç„¶åŽæˆ‘æƒ³äº†ä¸€ä¸‹è¯•äº† GDK_BACKEND=x11 nautilus å‘çŽ°ä¹Ÿæœ‰ä¸€æ ·çš„é—®é¢˜ï¼Œå°±è·‘åˆ° GTK é‚£è¾¹æäº†ä¸ª issueï¼Œç»“æžœé‚£ä½æœ‰ç‚¹å‡ºåçš„æ¯’èˆŒè€å“¥è·Ÿæˆ‘è¯´çœ‹ç€ä¸åƒæ˜¯ GTK çš„é—®é¢˜å€’åƒæ˜¯ nvidia çš„é—®é¢˜ï¼Œæˆ‘ä¹Ÿæ€€ç–‘è¿‡ï¼Œä½†æˆ‘æ£€æŸ¥äº†ä¸€ä¸‹å’Œ nvidia ç›¸å…³çš„éƒ½æ²¡ä»€ä¹ˆå˜åŒ–ï¼Œç„¶åŽæˆ‘åŽ»ç¿» glvnd å’Œ egl-wayland çš„ä»“åº“ä¹Ÿæ²¡ç¿»å‡ºä»€ä¹ˆã€‚æ¢åˆ° KDE ä¸‹é¢è¿˜æ˜¯ä¸€æ ·æœ‰é—®é¢˜ã€‚ä½†æˆ‘çªç„¶æƒ³åˆ°ä¼šä¸ä¼šå’Œæˆ‘è®¾ç½®çš„ä¸€äº›çŽ¯å¢ƒå˜é‡æœ‰å…³ç³»ï¼ŒäºŽæ˜¯å°±åŽ»æ³¨é”€äº†ä¸€å¤§ç‰‡ï¼Œç»“æžœå°±å¥½äº†ã€‚æœ€åŽæˆ‘çœ‹äº†ä¸€ä¸‹å¥½åƒæœ‰ platformï¼Œå‘çŽ°æ˜¯æˆ‘è®¾ç½®è¿‡ä¸€ä¸ª EGL_PLATFORM=wayland çš„çŽ¯å¢ƒå˜é‡ï¼Œåˆ æŽ‰è¿™ä¸ªå°±å¥½äº†ã€‚\næˆ‘æƒ³äº†ä¸€ä¸‹è¿™åº”è¯¥æ˜¯æˆ‘å½“åˆå¼„ Firefox çš„ç¡¬ä»¶è§£ç è§†é¢‘æ—¶å€™è®¾ç½®çš„ï¼Œæžœä¸å…¶ç„¶åœ¨ https://github.com/elFarto/nvidia-vaapi-driver#firefox é‡Œé¢å†™äº†ï¼Œçœ‹èµ·æ¥æ˜¯å› ä¸ºè¿™ä¸ªå˜é‡å¯¼è‡´ XWayland ç¨‹åºåŠ è½½ EGL çš„æ—¶å€™æŠŠ platform å½“æˆäº† Waylandï¼Œä¸è¿‡æˆ‘æ²¡æƒ³æ¸…æ¥šä¸ºä»€ä¹ˆæ»šç³»ç»Ÿä¹‹å‰æ²¡æœ‰é‡åˆ°è¿™ä¸ªé—®é¢˜ã€‚\næ€»ä¹‹è¿™æ˜¯ä¸ªä¸èƒ½ç®— bug çš„é—®é¢˜äº†ï¼Œå¦‚æžœæˆ‘åœ¨ç¾¤é‡Œé—®çš„æ—¶å€™æœ‰äººå›žæˆ‘ï¼Œæˆ‘å°±èƒ½ç›´æŽ¥æŽ’é™¤æ³•å‘çŽ°æ˜¯æˆ‘è‡ªå·±é…ç½®çš„é—®é¢˜ï¼Œç»“æžœæäº† issue ä»¥åŽå‘çŽ°ä¸æ˜¯ä¸Šæ¸¸çš„é—®é¢˜æ„Ÿè§‰å¾ˆå°´å°¬ã€‚æƒ³äº†ä¸€ä¸‹è¿˜æ˜¯å†³å®šæŠŠè¿™ä¸ªè®°åœ¨è¿™é‡Œï¼Œå› ä¸ºæˆ‘æŽ¨æµ‹æœ‰å¾ˆå¤šäººçœ‹äº† nvidia-vaapi-driver çš„æ–‡æ¡£ï¼Œè¯´ä¸å®šä¹Ÿè®¾ç½®äº†è¿™ä¸ªå˜é‡ç„¶åŽé‡åˆ°äº†åŒæ ·çš„é—®é¢˜ï¼Œè®°å½•ä¸‹æ¥æ–¹ä¾¿æœåˆ°ã€‚\n"},{"title":"Emacs å’Œ Lazy Loading å’Œ use-package","url":"/posts/Emacs-Lazy-Loading-use-package/","content":"äº‹å…ˆå  buffï¼šæˆ‘ä¸æ˜¯è¯´ use-package ä¸€å®šè¦è¿™ä¹ˆç”¨ï¼Œæˆ‘ä¹Ÿä¸æ˜¯è¯´æ‰€ç”¨ä¸ç”¨ use-package çš„äººéƒ½ä¸å¥½ï¼Œæˆ‘åªæ˜¯è¯´æˆ‘è§‰å¾—åº”è¯¥è¿™æ ·ç”¨ use-package æ¯”è¾ƒåˆé€‚ã€‚\nuse-package æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œå› ä¸ºå®ƒè§£å†³äº† Emacs æ’ä»¶åŒ…ä»Žå®‰è£…åˆ°é…ç½®çš„å…¨è¿‡ç¨‹ï¼Œå¯ä»¥è®©é…ç½®æ›´ç»“æž„åŒ–ã€‚ä¸è¿‡ä¹Ÿæœ‰äººè§‰å¾— use-package å…³é”®å­—è¿‡äºŽå¤æ‚ï¼Œæ€»æ˜¯æ²¡åŠžæ³•ç¡®å®šä»€ä¹ˆé…ç½®å†™åˆ°ä»€ä¹ˆå­—æ®µé‡Œé¢ï¼Œä¹Ÿä¸çŸ¥é“å±•å¼€ä¹‹åŽæ‚„æ‚„å‘ç”Ÿäº†ä»€ä¹ˆäº‹æƒ…ã€‚ä»Žæˆ‘å†æ¬¡å†³å®šè‡ªå·±æ‰“é€ ä¸€ä»½ Emacs é…ç½®ä»¥æ¥çœ‹äº†å¾ˆå¤šä¸åŒäººçš„é…ç½®ï¼Œå‘çŽ°ä»–ä»¬ä½¿ç”¨ use-package çš„æ–¹å¼ä¹Ÿæ˜¯äº”èŠ±å…«é—¨ï¼Œæœ‰äº›äººä¸çˆ±ç”¨ :bind å’Œ :hookï¼Œå¹²è„†è‡ªå·±åœ¨ :config é‡Œé¢è°ƒç”¨ define-key å’Œ add-hookï¼Œæœ‰äº›äººä¸æ¸…æ¥šä¸ºä»€ä¹ˆè‡ªå·±çš„ :config è¢«å»¶è¿Ÿè¿è¡Œäº†ï¼Œå¹²è„†å…¨éƒ½ç”¨ :initã€‚è¿˜æœ‰äº›äººç›´æŽ¥æ¢æˆäº†å…¶å®ƒå·ç§°æ›´ç®€å•å¯æŽ§çš„æ›¿ä»£å“ã€‚æˆ‘ä¸æ˜¯è¯´ä¸Šé¢è¿™äº›æ–¹æ³•éƒ½é”™äº†ï¼Œå®žé™…ä¸Šåªè¦èƒ½å¾—åˆ°æƒ³è¦çš„ç»“æžœä¹Ÿæ— æ‰€è°“æ€Žä¹ˆå†™ï¼Œä½†æˆ‘æ˜¯ä¸€ä¸ªæ¯”è¾ƒæ³¨é‡é€»è¾‘çš„äººï¼Œæ‰€ä»¥ç ”ç©¶äº†ä¸€ä¸‹åˆ°åº•è¿™äº›å…³é”®å­—æ˜¯æ€Žä¹ˆå›žäº‹ï¼Œå¹¶ä¸”è¯•å›¾å†™ç¯‡æ–‡ç« è®°å½•æˆ‘æŽ¨èçš„å†™æ³•ã€‚æœ¬æ¥æˆ‘æ‰“ç®—å†™åœ¨æ³¨é‡Šé‡Œçš„ï¼Œå¯æ˜¯æ„Ÿè§‰å†™å¾—å¤ªå¤šï¼Œæ‰€ä»¥å°±æ”¾åˆ°åšå®¢é‡Œäº†ã€‚\né—®é¢˜çš„æ ¸å¿ƒæ— éžæ˜¯ï¼šä¸ºä»€ä¹ˆæˆ‘å†™çš„ :config æ²¡æœ‰è¿è¡Œï¼Ÿåˆ°åº•ä»€ä¹ˆæƒ…å†µä¸‹ä¼šæœ‰å»¶è¿ŸåŠ è½½ï¼Ÿæˆ‘æ‰“ç®—åœ¨è¿™é‡Œè¯¦ç»†åˆ†æžä¸€ä¸‹ã€‚\né¦–å…ˆ Emacs æœ‰ä¸€ç§å«åš autoloads çš„ä¸œè¥¿ï¼Œæ’ä»¶åŒ…çš„ä½œè€…å¯ä»¥åœ¨æŸäº›å‡½æ•°å‰åŠ ä¸Š autoloads æ ‡è®°ï¼Œç„¶åŽåˆ›å»º autoloads æ–‡ä»¶ã€‚è¿™ä¸ªåŠŸèƒ½çš„ä½œç”¨å¾ˆå¥½ç†è§£ï¼ŒåŽŸæœ¬åœ¨å¯åŠ¨æ—¶éœ€è¦åŠ è½½æ‰€æœ‰æ’ä»¶åŒ…çš„æ–‡ä»¶ä»¥ä¾¿ç”¨æˆ·ä½¿ç”¨ç›¸åº”çš„åŠŸèƒ½ï¼Œä½†ä¸æ˜¯æ‰€æœ‰çš„æ’ä»¶éƒ½æ˜¯å¯åŠ¨æ—¶å°±éœ€è¦ï¼Œåªåœ¨å¯åŠ¨æ—¶åŠ è½½ä¼šè®©å¯åŠ¨é€Ÿåº¦å˜å¾—å¾ˆæ…¢ã€‚æœ‰äº† autoloads ä¹‹åŽå¯åŠ¨æ—¶åªè¦åŠ è½½ autoloads æ–‡ä»¶ï¼Œé‡Œé¢å®šä¹‰äº†å¦‚æžœè¿è¡ŒæŸä¸ªå‡½æ•°ï¼Œå°±åŽ»åŠ è½½æŸä¸ªæ–‡ä»¶ï¼Œè¿™æ ·ç­‰åˆ°å¯¹åº”çš„å‡½æ•°ç¬¬ä¸€æ¬¡è¿è¡Œçš„æ—¶å€™æ‰è¢«åŠ è½½ï¼Œä»Žè€Œæé«˜å¯åŠ¨é€Ÿåº¦ã€‚\nè€Œ use-package åšäº†ä»€ä¹ˆå‘¢ï¼Ÿuse-package å¯ä»¥è‡ªåŠ¨åˆ›å»º autoloadsï¼Œè¿™æ ·å³ä½¿ä¸€ä¸ªåŒ…æœ¬èº«æ²¡æœ‰ autoloadsï¼Œä¹Ÿæ˜¯å¯ä»¥å»¶è¿ŸåŠ è½½çš„ã€‚æœ€ç®€å•çš„è§¦å‘è¿™ä¸ªé€»è¾‘çš„å…³é”®å­—æ˜¯ :commandsï¼Œå°±æ˜¯ç»™åŽç»­çš„å‡½æ•°åˆ›å»º autoloads çš„æ„æ€ã€‚ä½†å¦‚æžœä½ ä»”ç»†é˜…è¯»æ–‡æ¡£ï¼Œå°±ä¼šå‘çŽ°è¿˜æœ‰å‡ ä¸ªåˆ›å»º autoloads çš„å…³é”®å­—ï¼Œåˆ†åˆ«æ˜¯ :bindã€:hookã€:mode å’Œ :interpreterã€‚**å¦‚æžœæœ‰è¿™å‡ ä¸ªå…³é”®å­—ï¼Œuse-package ä¸ä¼šç«‹å³åŠ è½½ä¸€ä¸ªåŒ…ï¼Œè€Œæ˜¯ä¾é åˆ›å»ºçš„ autoloads å®žçŽ°å»¶è¿ŸåŠ è½½ã€‚**è¿™ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œè¿™å‡ ä¸ªå…³é”®å­—çš„æ„æ€éƒ½æ˜¯â€œåœ¨æŸç§æƒ…å†µä¸‹å¯ç”¨â€ï¼Œæ‰€ä»¥è‡ªåŠ¨å»¶è¿ŸåŠ è½½ä¹Ÿå¾ˆå¥½ç†è§£ã€‚\nç„¶åŽä¸ºä»€ä¹ˆä¼šé‡åˆ° :config ä¸ä¼šè¿è¡Œæ‰€ä»¥æœ‰äº›äººç»Ÿç»ŸæŠŠè¦è°ƒç”¨çš„è¯­å¥å†™åˆ° :init é‡Œé¢çš„é—®é¢˜å‘¢ï¼Ÿä¸€èˆ¬éƒ½æ˜¯å‘ç”Ÿåœ¨ç±»ä¼¼ä¸‹é¢çš„å†™æ³•ï¼ˆæ—¢æœ‰å¿«æ·é”® / é’©å­ï¼Œåˆè¦ä¸€å¯åŠ¨å°±å¯ç”¨ä»€ä¹ˆæ¨¡å¼ï¼‰é‡Œï¼š\n(use-package marginalia\n  :ensure t\n  :bind (:map minibuffer-local-map\n              (\"M-A\" . marginalia-cycle))\n  :config\n  (marginalia-mode 1))\n\næˆ‘ä»¬å¾—æ˜Žç¡® :init å’Œ :config çš„åŒºåˆ«ï¼Œ:init æ˜¯â€œæ— è®ºåŒ…æœ‰æ²¡æœ‰åŠ è½½ï¼Œéƒ½ä¸€å®šä¼šå…ˆæ‰§è¡Œâ€çš„é…ç½®ï¼Œ:config æ˜¯â€œåŒ…åŠ è½½ä¹‹åŽæ‰ä¼šè¢«æ‰§è¡Œâ€çš„é…ç½®ã€‚ç„¶åŽæŒ‰ç…§ä¸Šé¢å…³äºŽå»¶è¿ŸåŠ è½½çš„åˆ†æžï¼Œè¿™å°±å˜æˆäº†ä¸€ä¸ªâ€œå…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹â€çš„é—®é¢˜ï¼š\n\nuse-package ç»™è¿™ä¸ªåŒ…åˆ›å»ºäº†å¿«æ·é”®å¯¹åº”çš„ autoloadsï¼ŒäºŽæ˜¯è¿™ä¸ªåŒ…ä¸ä¼šç«‹åˆ»åŠ è½½ã€‚\n:config é‡Œé¢ (marginalia-mode 1) è¦ç­‰åˆ°åŒ…åŠ è½½ä¹‹åŽæ‰è¿è¡Œã€‚\nè¿™ä¸ªåŒ…æœ¬èº«æœ‰ç»™ marginalia-mode åˆ›å»º autoloadsï¼Œåªè¦è°ƒç”¨ marginalia-mode å°±ä¼šåŠ è½½è¿™ä¸ªåŒ…ï¼Œä½†æ˜¯æ ¹æ® 1 å’Œ 2ï¼Œè¿™å¥ä¸ä¼šè¢«è°ƒç”¨ï¼ŒåŒ…ä¹Ÿä¸ä¼šè¢«åŠ è½½ï¼Œé™¤éžæŒ‰äº† 1 é‡Œé¢çš„å¿«æ·é”®ã€‚\n\næ‰“ç ´è¿™ä¸ªå¾ªçŽ¯çš„åŠžæ³•ä¸æ­¢ä¸€ç§ï¼Œæ¯”å¦‚æŠŠ (marginalia-mode 1) å†™è¿› :initï¼Œè¿™æ ·æ— è®ºå¦‚ä½•éƒ½ä¼šè°ƒç”¨å®ƒï¼ŒäºŽæ˜¯ use-package åˆ›å»ºçš„ autoloads è¢«å¿½ç•¥äº†ï¼ŒåŒ…è‚¯å®šä¼šè¢«åŠ è½½ã€‚ä½†æˆ‘ä¸ªäººå€¾å‘äºŽæŠŠè¿™ç§å¯ç”¨æ¨¡å¼çš„å‡½æ•°æ”¾åœ¨ :config é‡Œé¢ï¼Œè€Œä¸”ä½œè€…ä¹ŸæŽ¨èä¸è¦åœ¨ :init é‡Œé¢æ”¾è¿‡äºŽå¤æ‚çš„å‡½æ•°ï¼Œè¿™æ—¶å€™æ‰“ç ´å¾ªçŽ¯çš„åŠžæ³•ä¹Ÿå¾ˆç®€å•ï¼Œåªè¦ä½¿ç”¨ :demand tï¼Œå‘Šè¯‰ use-package ç«‹å³åŠ è½½è¿™ä¸ªåŒ…å³å¯ã€‚\nä»¥ä¸Šçš„å†…å®¹å…¶å®žéƒ½å†™åœ¨ https://github.com/jwiegley/use-package#notes-about-lazy-loadingï¼Œåªæ˜¯å¯èƒ½å¾ˆå¤šäººæ²¡æœ‰æ³¨æ„æˆ–è€…æ²¡çœ‹æ˜Žç™½ï¼ŒäºŽæ˜¯æˆ‘è¯•å›¾åœ¨è¿™é‡Œæ›´è¯¦ç»†çš„è§£é‡Šä¸€ä¸‹ã€‚å¯èƒ½æœ‰äººä¼šé—®æžè¿™ä¹ˆå¤æ‚çœŸçš„æœ‰æ„ä¹‰å—ï¼Ÿæˆ‘ç›´æŽ¥è‡ªå·±ä¸è¦å»¶è¿ŸåŠ è½½ç›´æŽ¥éƒ½ require ä¸å¯ä»¥ï¼Ÿä¸è¿‡æˆ‘è§‰å¾—è¿™ç§æ¿€è¿›çš„å»¶è¿ŸåŠ è½½æ–¹æ¡ˆç¡®å®žè®©æˆ‘çš„ Emacs å¯åŠ¨éžå¸¸å¿«ï¼Œæ‰€ä»¥å¤§æ¦‚æ˜¯æœ‰æ„ä¹‰çš„å§ã€‚\n"},{"title":"StackHarbor çš„ 2022 å°¾è®°","url":"/posts/2022-Tail/","content":"æ¯å¹´å†™å¹´ç»ˆæ€»ç»“æˆ‘éƒ½ä¼šæ‹–å¾ˆæ™šï¼Œå› ä¸ºåŸºæœ¬ä¸Šæˆ‘å†™åšå®¢æ˜¯çœ‹å¿ƒæƒ…ï¼Œæœ€è¿‘äº‹æƒ…æ¯”è¾ƒå¤šï¼Œå…¶å®žä¹Ÿæ‰“ç®—å†æ‹–å‡ å¤©çš„ï¼Œä½†æ˜¯å®žåœ¨æ˜¯ä¸æƒ³å›žå®¶ä¹‹åŽå†™ï¼Œæ‰€ä»¥ä¸å¾—ä¸ä»Šå¤©ä»“ä¿ƒåŠ¨æ‰‹ã€‚\nç„¶åŽå®žé™…ä¸Šæˆ‘ä¸å–œæ¬¢åˆ†ç±»åˆ—æçº²çš„å†™æ³•ï¼Œæˆ‘æœ¬è´¨ä¸Šæ¯”è¾ƒå€¾å‘äºŽæ–‡å­¦æ€§çš„å†™æ³•æˆ–è€…å°±æ˜¯æƒ³åˆ°ä»€ä¹ˆå†™ä»€ä¹ˆï¼Œä¸è¿‡æœ€è¿‘æˆ‘åœ¨ç¿»ä»¥å‰çš„å¹´ç»ˆæ€»ç»“çš„æ—¶å€™å‘çŽ°äº‹æƒ…æ€»æ˜¯è®°çš„ä¹±ä¸ƒå…«ç³Ÿè€Œä¸”æœ‰äº›æˆ‘éƒ½æƒ³ä¸èµ·æ¥å‡ºçŽ°åœ¨å“ªç¯‡æ–‡ç« é‡Œäº†ï¼Œè¿™å½“ç„¶å¯èƒ½ä¹Ÿå’Œæˆ‘å†™å®Œå¹´ç»ˆæ€»ç»“ä»Žæ¥ä¸çœ‹æœ‰å…³ç³»ï¼Œåæ­£è¿™æ¬¡æ‰“ç®—è¯•ä¸€ä¸‹åˆ†ç±»çš„å†™æ³•ã€‚\næŒ‰ç…§æƒ¯ä¾‹è¿˜æ˜¯è¦æ„Ÿæ…¨ä¸€å¥æ—¶é—´è¿‡å¾—çœŸå¿«ï¼Œä»…ä»…åªæ˜¯é è®°å¿†çš„è¯ï¼Œå°±ä¼šè§‰å¾—è‡ªå·±ä»€ä¹ˆä¹Ÿæ²¡åšå°±è¿‡äº†ä¸€å¹´ã€‚å†™å¹´ç»ˆæ€»ç»“çš„æ—¶å€™åˆ°å¤„ç¿»ä¸€ä¸‹è®°å½•ï¼Œæ‰ä¼šæ„è¯†åˆ°è‡ªå·±å…¶å®žåšäº†ä¸å°‘äº‹æƒ…ã€‚\n\n\nç¼–ç¨‹\næˆ‘ç»å¸¸ä¼šå¤„äºŽä¸€ç§â€œæˆ‘å¥½èœå•Šæ€Žä¹ˆä»€ä¹ˆéƒ½åšä¸äº†â€å’Œâ€œæˆ‘è¿˜èƒ½æžå®šè¿™ä¸ªå…¶å®žè¿˜ä¸é”™â€çš„å åŠ æ€ï¼Œå®žé™…ä¸Šä»”ç»†ç¿»ä¸€ä¸‹æ„Ÿè§‰åŽ»å¹´è¿˜æ˜¯åšäº†ä¸å°‘ä¸œè¥¿ã€‚æ¯”å¦‚è¯´åœ¨ HackWeek æŠŠ Show Me The Key æˆåŠŸæ¢æˆäº† GTK4ã€‚ç„¶åŽè¿˜æŠ½æ—¶é—´åˆ©ç”¨ Telegram æœºå™¨äººåšäº†ä¸ªç…§ç‰‡å¢™ï¼Œè™½ç„¶ä¸­é—´æˆ‘æŠŠå®ƒå…³äº†å¾ˆé•¿æ—¶é—´ï¼Œä¸è¿‡åŽæ¥æˆ‘åˆæŠŠå®ƒè·‘èµ·æ¥äº†ã€‚\nè¿™ä¸€å¹´æˆ‘å°è±¡æœ€æ·±çš„å…¶å®žæ˜¯æžæˆ‘çš„ Emacs é…ç½®ã€‚åœ¨æœ‰ç¡®å®šæ¶ˆæ¯è¯´ GitHub æ‰“ç®—æ”¾å¼ƒ Atom ä¹‹åŽï¼Œæˆ‘ä¸å¾—ä¸ç»™æˆ‘è‡ªå·±é‡æ–°æ‰¾ä¸€ä¸ªç¼–è¾‘å™¨ï¼Œå› ä¸ºæˆ‘å¾—äº†ä¸€ç§çœ‹åˆ° Visual Studio å°±ä¼šæ­»çš„ç—…æ‰€ä»¥åšå†³ä¸ä¼šç”¨ VSCodeï¼Œé™¤éžä»–ä»¬å“ªå¤©æ”¹åéƒ¨æŠŠ VS ä»Žé‡Œé¢åŽ»æŽ‰ã€‚ç„¶åŽæˆ‘ä¸€ç›´æ˜¯ä¸å–œæ¬¢æ¨¡æ€ç¼–è¾‘çš„æ‰€ä»¥ä¹Ÿä¸ä¼šç”¨ Vimï¼ŒåŒæ—¶ Emacs çš„ PGTK åˆ†æ”¯å·²ç»è¢«ä¸Šæ¸¸æŽ¥å—ï¼Œæ‰€ä»¥æˆ‘å¾ˆé«˜å…´åœ°é‡å›ž Emacs æ‹¥æŠ±æˆ‘æ‰€çŸ¥çš„ç¬¬ä¸€ä¸ª pure Wayland çš„ GUI ç¼–è¾‘å™¨ã€‚è¯´æ˜¯é‡å›žï¼Œå…¶å®žç›¸å½“äºŽé‡æ–°å­¦ä¹ äº†ä¸€é Emacs Lispï¼Œæ¯•ç«Ÿæˆ‘ä¸€å¼€å§‹å°è¯• Emacs æ˜¯è¢« Spacemacs é‚£å¥è‘—åçš„å£å·å¸å¼•çš„ï¼ˆä½†æ˜¯æˆ‘åˆä¸ç”¨ Evilï¼‰ã€‚é‚£æ—¶å€™å…¶å®žæˆ‘ä¸å¤ªæ‡‚ Emacs Lispï¼Œä½†æ˜¯çŽ°åœ¨å›žå¤´å†çœ‹å‘çŽ°ç¡®å®žæ˜¯æ›´å¥½æŽŒæ¡äº†ã€‚è™½ç„¶æœ‰æ— æ•°çš„äººè¯´åº”è¯¥ä»Žåˆ«äººé…å¥½çš„ Emacs é…ç½®å¼€å§‹ï¼Œä½†æˆ‘è¿˜æ˜¯å†³å®šè‡ªå·±ç¼–å†™ä¸€å¥—é…ç½®è€Œä¸æ˜¯ä½¿ç”¨æœ€æµè¡Œçš„ doomã€‚ä¸€ä¸ªæ˜¯è¿™äº›é…ç½®å¥½åƒéƒ½ä»¥æ¨¡æ€ç¼–è¾‘ä¸ºä¸­å¿ƒï¼Œå¦ä¸€ä¸ªæ˜¯æˆ‘ç»å¸¸ä¼šè‡ªå·±å®šåˆ¶è‡ªå·±çš„ç¼–è¾‘å™¨ï¼Œä½¿ç”¨è¿™äº›åˆ«äººé…å¥½çš„é…ç½®è°ƒèµ·æ¥æ€»è§‰å¾—å¾ˆä¸è‡ªåœ¨ã€‚ç„¶åŽå°±æ˜¯æˆ‘é€æ¸ç†è§£äº† use-package çš„ç”¨æ³•ï¼Œè§£å†³äº†å„ç§å¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜ï¼Œç”šè‡³è¿˜è‡ªå·±ç”¨ Emacs Lisp å†™äº†å¾ˆå¤šè‡ªå·±éœ€è¦çš„åŠŸèƒ½ã€‚è™½ç„¶å¯èƒ½æœ‰äººè¦é—®ä½ æžè¿™ä¸€é€šæœ‰ä»€ä¹ˆæ„ä¹‰ä¹‹ç±»çš„ï¼Œä½†æ˜¯æˆ‘åšäº‹çš„ä¸€ä¸ªåŽŸåˆ™å°±æ˜¯çœ‹å¿ƒæƒ…ï¼Œæˆ‘é«˜å…´å°±å¥½ï¼Œæ‰€ä»¥è§‰å¾—è¿˜æŒºå€¼çš„ã€‚\nç„¶åŽä¸è®ºæ˜¯å·¥ä½œè¿˜æ˜¯ä¸ªäººçˆ±å¥½ä¸Šè¿™ä¸€å¹´å¤šå°‘ä¹Ÿåšäº†ç‚¹ä¸œè¥¿ï¼Œæ¯•ç«Ÿæˆ‘çš„å·¥ä½œå°±æ˜¯æˆ‘çš„çˆ±å¥½ã€‚æ¯”å¦‚å¾ˆæœ‰æ„æ€çš„ä¸€ä¸ªæ˜¯æˆ‘ç ”ç©¶äº†ä¸€ä¸‹ GNOME çš„æ™ºèƒ½å¡ç™»å½•åˆ°åº•æ€Žä¹ˆæžï¼Œé¡ºä¾¿ä¹Ÿå¤§è‡´äº†è§£äº†ä¸€ä¸‹ PAM çš„é…ç½®ï¼Œè™½ç„¶å¯èƒ½è¿™ä¸ªè¿˜æ˜¯æ²¡ä»€ä¹ˆç”¨ï¼Œä¸è¿‡æœ€åŽæˆ‘ä¿®æ”¹äº† openSUSE çš„ gdm åŒ…æ·»åŠ äº†ä¸€ç›´ç¼ºå¤±çš„æŒ‡çº¹å’Œæ™ºèƒ½å¡çš„ PAM é…ç½®ï¼Œä¹Ÿç®—æ˜¯å¸®åŠ©äº†å…¶ä»–äººã€‚æˆ‘è¿˜æŠ½å‡ºæ—¶é—´è°ƒæŸ¥äº†ä¸€ä¸‹ GTK3 å’Œ GTK4 çš„äº®è‰² / æš—è‰²ä¸»é¢˜åˆ‡æ¢åˆ°åº•æ˜¯æ€Žä¹ˆå›žäº‹ã€‚ç„¶åŽè¿˜åšäº†ä¸€äº›å¾®å°çš„è´¡çŒ®ï¼Œæ¯”å¦‚æˆ‘å°è±¡é‡Œä¸€ç›´æœ‰äººåæ§½è¯´ GNOME Shell çš„æœç´¢åªèƒ½ä»Žå¼€å¤´åŒ¹é…è€Œä¸èƒ½åšå­ä¸²åŒ¹é…ï¼Œè¿˜æœ‰äººè¯´éš¾é“ä»–ä»¬åªä¼šç”¨ String.prototype.startsWith() ä¸ä¼šç”¨ String.prototype.includes()ï¼Œæˆ‘ä¸€å¼€å§‹åªæ˜¯æƒ³æ—¢ç„¶è¿™ä¹ˆç®€å•ï¼Œæœ‰åæ§½çš„æ—¶é—´ä¸ºä»€ä¹ˆä¸è‡ªå·±æ”¹ä¸€ä¸ªï¼ŸäºŽæ˜¯æˆ‘èŠ±æ—¶é—´çœ‹äº†ä¸€ä¸‹è¿˜çœŸä¸æ˜¯è¿™ä¹ˆç®€å•ï¼Œæ€»ä¹‹æœ€åŽæˆ‘é˜…è¯»äº† glib é‡Œé¢çš„ç®—æ³•ï¼Œå¹¶ä¸”æ·»åŠ äº†æ ¹æ®ä¸åŒçš„åŒ¹é…æ¨¡å¼åˆ†ç»„çš„åŠŸèƒ½ï¼ŒçŽ°åœ¨å¦‚æžœæœ‰å•è¯å¼€å¤´åŒ¹é…çš„ä¼šä¼˜å…ˆæ˜¾ç¤ºï¼Œç„¶åŽå†æ˜¾ç¤ºå­ä¸²åŒ¹é…ï¼Œå°±å¯ä»¥é€šè¿‡æœç´¢ fox å¾—åˆ° Firefox äº†ï¼ˆhttps://gitlab.gnome.org/GNOME/glib/-/merge_requests/3107ï¼‰ã€‚\nå’Œè¿™ä¸ªç±»ä¼¼çš„è¿˜æœ‰å¦ä¸€ä¸ªï¼Œæˆ‘çœ‹åˆ°æœ‰äººè¯´ gdbus-codegen ç”Ÿæˆçš„ä»£ç æ²¡æœ‰åŠ ç©ºæŒ‡é’ˆæ£€æŸ¥å¯¼è‡´ç¨‹åºå´©æºƒï¼Œç„¶åŽå’Œå¼€å‘è€…åµäº†èµ·æ¥ï¼Œå¼€å‘è€…è¯´åŠ ç©ºæŒ‡é’ˆæ£€æŸ¥ä¸æ˜¯çœŸçš„è§£å†³é—®é¢˜ï¼Œè¿™é‡Œä¸åº”è¯¥ä¼ ç©ºæŒ‡é’ˆï¼Œé‚£ä¸ªäººå°±ä¸¢å‡ºä¸€å †å„ç§ä»£ç è§„èŒƒè¯´ä¼ äº†ç©ºæŒ‡é’ˆåº”è¯¥ç»§ç»­è¿è¡Œä¸è¯¥å´©æºƒï¼Œå¼€å‘è€…è¯´ä½ ç»™æˆ‘ä»¬åŠ çš„è¯æˆ‘ä»¬æ„¿æ„æŽ¥å—ï¼Œä»–åˆè¯´è‡ªå·±ä¸æ“…é•¿ pythonï¼Œæ€»ä¹‹æˆ‘çœ‹äº†è§‰å¾—å¾ˆä¸å¯ç†å–»ï¼ŒäºŽæ˜¯æˆ‘è‡ªå·±æ”¹æŽ‰æäº¤äº†ç„¶åŽå˜²ç¬‘äº†é‚£äººä¸€é€šã€‚æœ‰äº›æ—¶å€™çœŸä¸æ˜¯å¼€å‘è€…è„¾æ°”ä¸å¥½ï¼Œæ˜¯æœ‰äººæ€åº¦å¤ªå·®â€¦â€¦ï¼ˆhttps://gitlab.gnome.org/GNOME/glib/-/merge_requests/3175ï¼‰\néŸ³ä¹\nåŽ»å¹´ä¸€å¹´æˆ‘è¿˜æ˜¯å½•äº†å¥½å‡ ä¸ªæ›²å­çš„ï¼Œè™½ç„¶æˆ‘è‡ªå·±æ˜¯è§‰å¾—æ²¡æ€Žä¹ˆç»ƒç´è€Œä¸”è¿˜ç»å¸¸å’•å’•å’•ã€‚ä¸è¿‡æˆ‘å‘å‡ºæ¥çš„æˆ‘è‡ªå·±è¿˜éƒ½è§‰å¾—ä¸é”™ï¼Œè™½ç„¶ä¸æ˜¯æ¯ä¸ªéƒ½æœ‰å¾ˆå¤šæ’­æ”¾é‡å§ã€‚æœ€è¿‘æ‰‹ä¸Šæœ‰å‡ ä¸ªæƒ³å½•çš„ï¼Œæ¯”å¦‚ ã‚·ãƒªã‚¦ã‚¹ã®å¿ƒè‡“ å’Œ æš—æ‹æ˜¯ä¸€ä¸ªäººçš„äº‹ï¼Œä¸è¿‡å¯èƒ½åˆè¦æ‹–åˆ°å¹´åŽäº†ã€‚\nç„¶åŽä»Šå¹´é€šè¿‡ æ¾ªéŸ³å¥ çš„ç¿»å”±å¬äº†å¥½å¤šä¼ä½°çš„æ›²å­ï¼Œå¯¹äºŽæˆ‘è¿™ç§å‡ ä¹Žä¸ä¼šä¸»åŠ¨æ‰¾æ­Œæ›²æ¥å¬çš„äººï¼Œèƒ½æ‰©å……æ›²åº“è¿˜æ˜¯å¥½äº‹ã€‚è¿˜åœ¨ B ç«™å¬äº†çºµè´¯çº¿çš„äº¡å‘½ä¹‹å¾’ï¼Œæ²¡æ—©ç‚¹å¬åˆ°è¿™ä¸ªçœŸæ˜¯æœ‰ç‚¹å¯æƒœã€‚\næ•°ç \nå…¶å®žæˆ‘è§‰å¾—æˆ‘ä¹Ÿæ²¡ä¹°ä»€ä¹ˆä¸œè¥¿ï¼Œä½†æ˜¯å†çœ‹ä¸€ä¸‹åˆä¸å°‘ï¼Œå¾ˆå¤šå…¶å®žæ²¡ä»€ä¹ˆå¯è¯´çš„ï¼Œæ¯”å¦‚ä¹°äº†ä¸ªæ–°é•œå¤´ï¼Œé‚£å°±æ˜¯æ–°é•œå¤´ï¼Œä¹Ÿæ²¡ä»€ä¹ˆå¥½åœ¨åšå®¢é‡Œåˆ†æžä¸€ç•ªçš„ã€‚è€ƒè™‘åˆ°é‚£å—è€ç§»åŠ¨ç¡¬ç›˜ç”¨äº†å¾ˆä¹…ï¼Œåˆä¹°äº†ä¸€å—ä¸‰æ˜Ÿçš„ T7 Shieldï¼Œå›ºæ€çš„ç§»åŠ¨ç¡¬ç›˜è¿˜æ˜¯å¯é å¾ˆå¤šã€‚çŠ¹è±«äº†å¾ˆä¹…è¿˜æ˜¯ä¹°äº†å¹³æ¿ï¼Œä¸è¿‡ä¸æ˜¯ iPadï¼Œæ˜¯ Galaxy Tab S8ï¼Œé™¤äº† LCD å±å¹•æœ‰ç‚¹æ¼å…‰ï¼Œåˆ«çš„æˆ‘éƒ½å¾ˆæ»¡æ„ï¼Œä¸ç®¡æ˜¯çœ‹è°±å­è¿˜æ˜¯çœ‹è§†é¢‘éƒ½ä¸é”™ï¼Œè™½ç„¶æœ‰äº› app ä¸æ”¯æŒæ¨ªå±ï¼Œä½†æˆ‘è¿˜æ˜¯è§‰å¾—æ–‡ä»¶ç®¡ç†æ›´é‡è¦ã€‚\nå¼€é”€æ¯”è¾ƒå¤§çš„æ˜¯è£…äº†ä¸€å° NASï¼Œå®žé™…ä¹Ÿæ˜¯æŒ‘æ¥æŒ‘åŽ»æ‰å†³å®šçš„ï¼Œè¿è¡Œäº†å°ä¸€å¹´è§‰å¾—è¿˜ä¸é”™ï¼Œæžå¤§çš„ç¼“è§£äº†æˆ‘çš„å­˜å‚¨åŽ‹åŠ›ã€‚\næ‘„å½±\nè‡ªæˆ‘è¯„ä»·çš„è¯æˆ‘è§‰å¾—è¿˜æ˜¯æœ‰ç‚¹è¿›æ­¥ï¼Œåˆ«çš„ä¸è¯´ï¼Œä»Šå¹´æˆ‘æ‹äº†å¾ˆå¤šè‡ªå·±è§‰å¾—ä¸é”™çš„ç…§ç‰‡ã€‚æ‘¸ç´¢äº†ä¸€å¹´ï¼Œæˆ‘å¤§æ¦‚ä¹ŸçŸ¥é“æ€Žä¹ˆç”¨ darktable å¾—åˆ°æƒ³è¦çš„æ•ˆæžœäº†ã€‚ä¹‹å‰çœ‹åˆ°æœ‰äººæ€»ç»“äº†ä¸€ä¸‹è‡ªå·±æ‹è¿‡çš„ç…§ç‰‡é‡Œè§‰å¾—ä¸é”™çš„ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªæƒ³æ³•å¾ˆå¥½ï¼ŒäºŽæ˜¯æŒ‘äº†ä¸€äº›ä»Šå¹´æ»¡æ„çš„ç…§ç‰‡æ”¾åœ¨è¿™é‡Œï¼š\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nå¾ˆæƒ³æ‰¾æœºä¼šæŠŠæˆ‘å–œæ¬¢çš„ç…§ç‰‡æ‰“å°å‡ºæ¥è£…ä¸Šç›¸æ¡†æŒ‚åœ¨å®¶é‡Œï¼Œåªæ˜¯ä¸€ç›´æ²¡åŽ»åšè¿™ä»¶äº‹ã€‚\nåŠ¨æ¼«\nä»Šå¹´åº”è¯¥åªçœ‹äº†ä¸¤éƒ¨ï¼Œä¸€éƒ¨æ˜¯ DitFï¼Œå…·ä½“çš„è¯„ä»·æˆ‘åœ¨ è¿™ç¯‡æ–‡ç«  å†™è¿‡äº†ã€‚å¦ä¸€éƒ¨æ˜¯ èµ›åšæœ‹å…‹ï¼šè¾¹ç¼˜è¡Œè€…ï¼Œæˆ‘å…¶å®žæ˜¯ä¸å–œæ¬¢èµ›åšæœ‹å…‹é¢˜æçš„ï¼Œä½†æ˜¯è¿™ä¸€éƒ¨åšå¾—å¤ªå¥½äº†ï¼Œæˆ‘åœ¨è¿™é‡Œå‘æ‰€æœ‰è¯»è€…æŽ¨èã€‚\nå°è¯´\nä»Šå¹´åº”è¯¥æ˜¯çœ‹äº†åŸºåœ°ä¸‰éƒ¨æ›²ï¼Œè¿˜æœ‰æ ¼å…°ç‰¹èˆ¹é•¿çš„å„¿å¥³å’Œç¥žç§˜å²›ï¼Œå› ä¸ºéƒ½æ˜¯å¾ˆå¥½æ‰¾åˆ°ç”µå­ç‰ˆçš„ï¼Œæ‰€ä»¥æ²¡æœ‰ä¹°å®žä½“ä¹¦ï¼Œç¥žç§˜å²›ä»¥å‰çœ‹è¿‡ç®€å†™ç‰ˆï¼Œå…¶ä»–çš„éƒ½æ˜¯å¤´ä¸€æ¬¡çœ‹ï¼Œæ€»ä½“ä¸Šæ¥è¯´æˆ‘è§‰å¾—éƒ½ä¸é”™ï¼Œæ¯•ç«Ÿä¹Ÿæ˜¯æµä¼ å¾ˆä¹…çš„ä¹¦äº†ã€‚\næ¸¸æˆ\né™¤äº†å’Œå¼€é»‘ç¾¤çš„æœ‹å‹æ‰“ Dota 2 å°±æ˜¯å’Œç‰›çˆ·çˆ·é«˜å…ˆç”Ÿåƒé¸¡ï¼Œä»Šå¹´æ›´å¤šçš„çŽ©äº†æ¸¸å»Šåœ°å›¾ï¼Œæ„Ÿè§‰æˆ‘è¿˜æ˜¯æƒ³çŽ©ä¼‘é—²ä¸€ç‚¹ä¸å¤ªéœ€è¦å›¢é˜Ÿé…åˆçš„ï¼Œåƒé¸¡çš„è¯æˆ‘ä»¥ä¸ºæˆ‘å¾ˆä¹…æ²¡çŽ©äº†æ°´å¹³ä¼šå¾ˆå·®ï¼Œä¸è¿‡æˆ‘å¥½åƒé€æ¸æŽŒæ¡è¿™ä¸ªæ¸¸æˆæ€Žä¹ˆèµ¢äº†ï¼Œè€Œä¸”ç»å¸¸å¯ä»¥åƒé¸¡ã€‚å…¶å®žçŽ©æ¸¸æˆæœ¬èº«å€’ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯æœ‰äººä¸€èµ·çŽ©ã€‚ä¸€ä¸ªäººçŽ©çš„è¯ï¼Œè¦ä¸æ˜¯å› ä¸ºçœ‹ä¸­å•å…‰ä¸€ï¼Œæˆ‘å¤§æ¦‚ä¸ä¼šåšæŒçŽ© Dota 2ã€‚\nç”Ÿæ´»\nåœ¨ç»åŽ†äº†ç¿»å¤§é¥¼ä¹‹åŽæžœç„¶æ˜¯ä¸è´Ÿä¼—æœ›çš„å¤ºå† äº†ï¼Œè™½ç„¶å·²ç»å¥½äº†ã€‚å¤§é¥¼çŽ°åœ¨æ˜¯ç¿»è¿‡æ¥äº†ï¼Œä½†æ˜¯ä¿ä¸å‡†å“ªå¤©åˆè¦ç¿»å›žåŽ»ï¼Œåæ­£æˆ‘æ˜¯å—å¤Ÿäº†è¿™ç§æå¿ƒåŠèƒ†çš„æ—¥å­ã€‚ä»”ç»†æƒ³æƒ³ä»Šå¹´æˆ‘å¤§æ¦‚æœ‰å¥½å‡ æ¬¡å¯¹ç€å…±äº«å•è½¦æ‰“å¼€å¥åº·ç æ‰«ç ï¼Œè¿˜æ˜¯æŒºå¯æ€•çš„ã€‚è“çŒ«ä»Šå¹´åŽ»äº†æ—¥æœ¬ï¼Œæ²¡åŠžæ³•å†æ‰¾å¥¹çŽ©äº†ï¼Œè™½ç„¶æˆ‘å¾ˆç¾¡æ…•ï¼Œä½†æ˜¯æˆ‘åˆç©·åˆæ‡’ã€‚è‡³äºŽè„±å•è¿™ç§äº‹æƒ…ï¼Œç®—äº†å§ï¼Œæˆ‘å·²ç»æ”¾å¼ƒäº†ï¼Œä¸€ä¸ªäººå¾…ç€ä¹ŸæŒºå¥½çš„ï¼Œæˆ‘ä¸€ç‚¹éƒ½ä¸ç¾¡æ…•åˆ«äººï¼ˆå‡çš„ï¼‰ã€‚\næœ€è¿‘å‡ å¤©çªç„¶åˆè‚‹éª¨ç—›ï¼Œåªè¦æœ‰åŠ¨ä½œæ‰¯åˆ°å°±å¾ˆéš¾å—ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æ˜¯æ°”èƒ¸è¿˜æ˜¯è‚‹é—´ç¥žç»ç—›è¿˜æ˜¯è‚Œè‚‰æ‹‰ä¼¤ï¼Œæœ¬æ¥æ‰“ç®—åŽ»åŒ»é™¢çœ‹çœ‹çš„ï¼Œä½†æœ€è¿‘äº‹æƒ…å®‰æŽ’æ»¡äº†ï¼Œå›žå®¶çš„æ—¶é—´å–å†³äºŽè½¦ç¥¨ä¸å–å†³äºŽæˆ‘ï¼Œæ‰€ä»¥åªèƒ½ç­‰å›žå®¶ä¹‹åŽå†è¯´ã€‚\n"},{"title":"YubiKey å’Œ GNOME å’Œæ™ºèƒ½å¡ç™»å½•","url":"/posts/YubiKey-GNOME-Smartcard-Login/","content":"æœ€è¿‘æˆ‘ç»ˆäºŽå†³å®šä¹°äº†ä¸€ä¸ª YubiKey 5Cï¼Œè¯´å‡ºæ¥ä¸æ€•å„ä½ç¬‘è¯ï¼Œæˆ‘ä¹°è¿™çŽ©æ„æœ€åˆçš„åŠ¨æœºåªæ˜¯è§‰å¾—æ¯æ¬¡å¼€æœºå’Œè§£é”è¾“å¯†ç å¤ªéº»çƒ¦ï¼ˆä½†æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä¸è§‰å¾— sudo è¾“å¯†ç éº»çƒ¦å‘¢ï¼Ÿï¼‰ã€‚è¿™è¿˜å’Œæˆ‘ä¹‹å‰å¤„ç†äº†ä¸€ä¸ª openSUSE çš„ PAM é—®é¢˜æœ‰å…³ï¼Œæˆ‘å‘çŽ° GDM æœ‰å¥½å‡ ç§ä¸åŒçš„ PAM é…ç½®ï¼Œé™¤äº†å¹³æ—¶ç”¨çš„ gdm-password å¯†ç ç™»å½•ï¼Œè¿˜æœ‰ gdm-fingerprint æŒ‡çº¹ç™»å½•å’Œ gdm-smartcard æ™ºèƒ½å¡ç™»å½•ã€‚æˆ‘ä¸€å¼€å§‹æ˜¯æ‰“ç®—ä¹°ä¸ªæŒ‡çº¹ä¼ æ„Ÿå™¨çš„ï¼ŒæŸ¥äº†ä¸€ä¸‹ fprintd çš„æ–‡æ¡£ï¼Œæ”¯æŒçš„åž‹å·å¹¶ä¸å¤šï¼Œè€Œä¸”åœ¨æ·˜å®ä¸Šé—®å®¢æœ USB Product ID å’Œ Vendor ID æ˜¾ç„¶å¾—ä¸åˆ°å›žç­”ï¼Œå°±é€€è€Œæ±‚å…¶æ¬¡ä¹°æ™ºèƒ½å¡äº†ï¼Œè€Œæœç´¢æ™ºèƒ½å¡å¾—åˆ°æœ€å¤šçš„ç»“æžœå°±æ˜¯ YubiKeyï¼Œè¿›å…¥ä¸€ä¸ªä¸äº†è§£çš„é¢†åŸŸä¹‹å‰å’Œå¤§éƒ¨åˆ†äººé€‰ä¸€æ ·çš„ä¸€èˆ¬ä¸ä¼šé”™å¤ªå¤šï¼ŒäºŽæ˜¯å°±ä¸‹æ‰‹äº†ã€‚\nè¯è¯´å›žæ¥æ™ºèƒ½å¡ç™»å½•ï¼Œå¦‚æžœä½ æœç´¢ YubiKey ç›¸å…³çš„æ–‡ç« ï¼Œç»å¤§å¤šæ•°éƒ½ä¼šå‘Šè¯‰ä½ æŠŠ pam_u2f.so åŠ åˆ°éœ€è¦å¯†ç ç™»å½•çš„ PAM é…ç½®é‡Œï¼Œæ¯”å¦‚ sudo æˆ–è€… gdm-passwordï¼Œä½†è¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘æƒ³è¦çš„ï¼Œæˆ‘è¦çš„æ–¹æ¡ˆä¸æ˜¯æ›¿æ¢å¯†ç ç™»å½•ï¼Œè€Œæ˜¯å’Œå¯†ç ç™»å½•å¹³è¡Œçš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘çŸ¥é“ GNOME æœ‰å·²ç»å†™å¥½çš„æ™ºèƒ½å¡é…ç½®ï¼Œä½†æ˜¯ä»»ä½•åœ°æ–¹éƒ½æœä¸åˆ°å¦‚ä½•å¯ç”¨ï¼Œè®¾ç½®é‡Œæ²¡æœ‰ç›¸å…³é€‰é¡¹ï¼Œè¿ž Arch Wiki ç»™çš„æ–¹æ¡ˆéƒ½åªæ˜¯ç”¨ pam_u2f.soã€‚Red Hat çš„æ”¯æŒæ–‡æ¡£é‡Œå€’æ˜¯æåˆ°äº†æ™ºèƒ½å¡ç™»å½•ï¼Œç„¶è€Œç”¨çš„å´æ˜¯ä»–ä»¬è‡ªå·±çš„æŸä¸ªå·¥å…·é…ç½®çš„ã€‚æ˜¾ç„¶è¿™æ˜¯ä¸ªèµ·å¤œçº§ featureï¼Œæœ€å¥½çš„åŠžæ³•ä¹Ÿè®¸æ˜¯æ‰¾ä¸ªèµ·å¤œçº§ Linux çš„æ¡Œé¢å·¥ç¨‹å¸ˆæ¥é—®é—®ï¼Œå“¦ä»€ä¹ˆæˆ‘è‡ªå·±å°±æ˜¯èµ·å¤œçº§ Linux æ¡Œé¢å·¥ç¨‹å¸ˆï¼Œé‚£æ²¡äº‹äº†ã€‚è¿˜è¦è¯´çš„ä¸€ä»¶äº‹æ˜¯æ€Žä¹ˆæƒ³æ™ºèƒ½å¡è¿™ä¸œè¥¿éƒ½å’Œå®‰å…¨ç›¸å…³ï¼Œè€Œæˆ‘è‡ªå·±ä¸æ˜¯ä¸“ä¸šçš„å®‰å…¨è¡Œä¸šäººå£«ï¼Œæ‰€ä»¥æˆ‘ä¸ä¼šå°è¯•è§£é‡Šæ¸…æ¥šå’Œå®‰å…¨ç›¸å…³çš„ä¸€äº›åè¯ï¼Œä»¥åŠå¦‚æžœæˆ‘å“ªé‡ŒçœŸçš„å†™é”™äº†ï¼Œå¸Œæœ›ä¸“ä¸šäººå£«å¤šå¤šæŒ‡ç‚¹ï¼Œæˆ‘è‚¯å®šæ”¹ã€‚\næ€»ä¹‹ç›¸ä¿¡ä½ è‡ªå·±å› ä¸ºä½ æ‰æ˜¯èŒä¸šé€‰æ‰‹ï¼Œæˆ‘è¿˜æ˜¯è‡ªå·±çœ‹çœ‹è¿™ä¸œè¥¿æ€Žä¹ˆå¼„å§ï¼Œæ¯•ç«Ÿç”¨ Arch å†ç”¨ GNOME åŒæ—¶è¿˜æ‰“ç®—æž GNOME çš„æ™ºèƒ½å¡ç™»å½•çš„äººæ²¡å‡ ä¸ªï¼Œæ‰€ä»¥ Wiki æ²¡æœ‰å€’ä¹Ÿæ­£å¸¸ã€‚é¦–å…ˆè‚¯å®šæ˜¯çœ‹ /etc/pam.d/gdm-smartcard è¿™ä¸ªæ–‡ä»¶ï¼Œé‡Œé¢åˆ«çš„çœ‹èµ·æ¥éƒ½æ¯”è¾ƒæ­£å¸¸ï¼Œåªæœ‰ä¸€è¡Œçœ‹èµ·æ¥å’Œæ™ºèƒ½å¡æœ‰å…³ç³»ï¼š\nauth       required                    pam_pkcs11.so        wait_for_card card_only\n\nçº¿ç´¢æ˜¯æœ‰äº†ï¼Œçœ‹æ¥æˆ‘éœ€è¦è¿™ä¸ª pam_pkcs11.soï¼Œè™½ç„¶æˆ‘ä¹Ÿä¸çŸ¥é“è¿™æ˜¯ä»€ä¹ˆï¼Œå…ˆæœä¸€ä¸‹å“ªä¸ªåŒ…æœ‰è¿™ä¸ªæ–‡ä»¶æ¯”è¾ƒå¥½ã€‚pacman -F pam_pkcs11.so ç«Ÿç„¶æ²¡æœ‰è¿”å›žä»»ä½•ç»“æžœï¼Œæˆ‘ç¡®å®šä¸æ˜¯æˆ‘çš„ pacman æ•°æ®åº“æ²¡æ›´æ–°ï¼Œé‚£åªèƒ½åŽ»æµè§ˆå™¨é‡Œæœç´¢äº†ï¼Œæœ€åŽæˆ‘æœåˆ°äº† https://github.com/OpenSC/pam_pkcs11ï¼Œè™½ç„¶æˆ‘ä¹Ÿä¸çŸ¥é“ PKCS#11 æ˜¯ä¸ªä»€ä¹ˆçŽ©æ„ï¼Œä½†åæ­£å®ƒæ˜¯ä¸ª PAM æ¨¡å—ï¼Œæ—¢ç„¶ä¸åœ¨å®˜æ–¹ä»“åº“é‡Œï¼Œé‚£å¤§æ¦‚çŽ‡ AUR é‡Œæœ‰äººæ‰“åŒ…äº†ï¼ŒäºŽæ˜¯ç›´æŽ¥ paru pam_pksc11 å°±è£…äº†ä¸€ä¸ªä¸Šæ¥ã€‚\nä½†è£…æ˜¯è£…å¥½äº†ï¼Œä¹Ÿçœ‹ä¸å‡ºæ¥è¿™çŽ©æ„å’Œ YubiKey æœ‰ä»€ä¹ˆè”ç³»ï¼Œæˆ‘å¤§æ¦‚æ˜¯æœç´¢äº† PKCS YubiKey ç„¶åŽæœåˆ°äº† YubiKey ç»™çš„æ–‡æ¡£ Using PIV for SSH through PKCS #11ï¼Œå¥½å§è™½ç„¶æˆ‘ä¸æ˜¯è¦ç”¨æ¥ SSH ä½†æ˜¯å¤šåŠä¹Ÿæœ‰ç‚¹ç”¨ã€‚çœ‹ä¸‹æ¥åæ­£è¿™ä¸ªä¸œè¥¿å’Œ YubiKey çš„ PIV åŠŸèƒ½æœ‰å…³ï¼Œæˆ‘æŠŠ PIV ç›¸å…³çš„æ–‡æ¡£éƒ½çœ‹äº†ä¸€éï¼Œç»“æžœæ˜¯äº‘é‡Œé›¾é‡Œï¼Œç›¸å½“æ²¡æœ‰å¤´ç»ªã€‚ä¸€å¤§å †æ–‡æ¡£å‘Šè¯‰ä½ å„ç§å„æ ·çš„éœ€æ±‚è¦åšä»€ä¹ˆï¼Œä½†æ˜¯å‡ ä¹Žæ²¡æ€Žä¹ˆè¯´è¿™éƒ½æ˜¯ä»€ä¹ˆï¼ŒäºŽæ˜¯æ°å¥½æˆ‘çš„éœ€æ±‚ä¸åœ¨åˆ—è¡¨é‡Œæˆ‘å°±ä¸çŸ¥é“æ€Žä¹ˆåŠžäº†ã€‚æˆ‘åˆå›žå¤´åŽ»çœ‹ pam_pkcs11 çš„æ–‡æ¡£ï¼Œå®ƒå†™äº†ä¸€é•¿ä¸²çš„ä¸œè¥¿ï¼Œæˆ‘åå¤çœ‹äº†å‡ éä¹‹åŽå‘çŽ°åªè¦çœ‹ ç¬¬ 11 èŠ‚çš„ HOWTO éƒ¨åˆ† å°±å¯ä»¥äº†ã€‚è™½ç„¶æˆ‘ä¹Ÿä¸å¤ªæ¸…æ¥šå®ƒéƒ½åœ¨è¯´ä»€ä¹ˆï¼Œä½†æ˜¯è‡³å°‘è¿™é‡Œå‘Šè¯‰æˆ‘è¯´éœ€è¦ä¸€ä¸ª root CA certificateï¼Œä½†æˆ‘æ˜¯ä¸ªäººä½¿ç”¨å“ªæ¥çš„è¿™çŽ©æ„ï¼Œå†å›žå¤´çœ‹ YubiKey çš„é‚£ç¯‡æ–‡æ¡£é‡Œé¢æ°å¥½æåˆ°äº†ä»€ä¹ˆ self-signed certificateï¼Œæˆ‘æ‹¿è¿™ä¸ªè¯•ä¸€è¯•ï¼Œç»“æžœæˆåŠŸäº†ã€‚ä¸ºäº†æ–¹ä¾¿å‚è€ƒï¼Œä¸‹é¢æˆ‘å°±ä¸è®²æˆ‘æ˜¯æ€Žä¹ˆå€’æŽ¨è¿™äº›å¥‡æ€ªçš„éœ€æ±‚çš„äº†ï¼Œè€Œæ˜¯é¡ºåºè®²ä¸€ä¸‹éƒ½éœ€è¦é…ç½®ä»€ä¹ˆã€‚\né¦–å…ˆå¦‚æžœä½ åƒæˆ‘ä¸€æ ·åˆšä¹°äº†ä¸€ä¸ª YubiKey æ‰“ç®—åˆ©ç”¨å®ƒçš„ PIV åŠŸèƒ½ï¼Œé‚£ä½ å¾—å…ˆåˆå§‹åŒ–å®ƒï¼Œä¹Ÿå°±æ˜¯æ”¹æŽ‰é»˜è®¤çš„ PINï¼ŒPUK å’Œç®¡ç†å¯†é’¥ï¼Œè¿™ä¸ªå¯ä»¥é€šè¿‡å®˜æ–¹çš„ YubiKey Manager è½¯ä»¶æ¥æ“ä½œï¼Œæœ‰ Qt å†™çš„ GUI ç‰ˆå’Œå‘½ä»¤è¡Œç‰ˆæœ¬ï¼š\n# pacman -S yubikey-manager yubikey-manager-qt\n\næˆ‘æŽ¨èä½¿ç”¨å‘½ä»¤è¡Œç‰ˆæœ¬æ“ä½œï¼Œå› ä¸ºé‚£ä¸ª GUI ç»å¸¸è½¬åœˆè½¬åŠå¤©æˆ–è€…ç‚¹äº†æ²¡ååº”ï¼š\n% ykman piv access change-pin\n% ykman piv access change-puk\n% ykman piv access change-management-key --generate --protect --touch\n\né»˜è®¤ PIN æ˜¯ 123456ï¼Œé»˜è®¤ PUK æ˜¯ 12345678ï¼Œè€Œç®¡ç†å¯†é’¥æ˜¯ä¸ªç‰¹åˆ«é•¿çš„ä¸€ä¸²ï¼Œç”¨ --generate å¯ä»¥è®© ykman ç»™ä½ ç”Ÿæˆä¸€ä¸ªï¼Œ--protect åˆ™æ˜¯æŠŠè¿™ä¸ªç›´æŽ¥å­˜åˆ° YubiKey é‡Œé¢å¹¶ç”¨ PIN ä¿æŠ¤ï¼Œ--touch åˆ™æ˜¯è¯´æ¯æ¬¡è¦ç®¡ç†å¯†é’¥çš„æ—¶å€™éœ€è¦ä½ æ‘¸ä¸€ä¸‹ã€‚æˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ‡‚ï¼Œä¹Ÿè®¸å†™è¿›åŽ»ä»¥åŽéœ€è¦çš„æ—¶å€™å°±ä¸ç”¨è‡ªå·±èƒŒè¿™çŽ©æ„è€Œæ˜¯è¾“ PIN å°±è¡Œäº†å§ï¼Œåæ­£å»ºè®®çœ‹å®˜æ–¹æ–‡æ¡£ Device setup å’Œ ykman çš„ --helpã€‚\næˆ‘çš„å»ºè®®æ˜¯ä¸è¦çœ‹å¤ªå¤šå®˜æ–¹æ–‡æ¡£ï¼Œå› ä¸ºå®ƒä¸€ä¼šå‘Šè¯‰ä½ ç”¨ yubico-piv-tool åˆ›å»ºå¯†é’¥ï¼Œä¸€ä¼šå‘Šè¯‰ä½ è¯´å¯ä»¥ç”¨ openssl åˆ›å»ºå¯†é’¥ï¼Œä¸€ä¼šåˆå‘Šè¯‰ä½ å¯ä»¥ç”¨ pkcs11-tool æ­é… libykcs11.so åˆ›å»ºå¯†é’¥ï¼Œç®—äº†å§ï¼Œå¤´éƒ½çœ‹æ™•äº†ï¼Œæˆ‘çš„æµ‹è¯•æ˜¯ç”¨ yubico-piv-tool å°±å¯ä»¥äº†ã€‚\n% paru yubico-piv-tool\n\nåœ¨ 9a è¿™ä¸ªæ§½åˆ›å»ºä¸€ä¸ª key å¹¶æŠŠå®ƒçš„å…¬é’¥å†™å‡ºæ¥ï¼Œä¸ºä»€ä¹ˆæ˜¯ 9a å¥½åƒå› ä¸ºè¿™æ˜¯ç¬¬ä¸€ä¸ªæ§½æ¥ç€ï¼Œè‡ªå·±åŽ»æŸ¥å®˜æ–¹æ–‡æ¡£å§ï¼Œä¹Ÿå¯ä»¥å†™åˆ°åˆ«çš„æ§½é‡Œé¢ï¼š\n% yubico-piv-tool -s 9a -a verify-pin -a generate -o public.pem\n\néœ€è¦å…ˆè¾“å…¥ PINï¼Œç„¶åŽç¯é—ªçš„æ—¶å€™éœ€è¦æ‘¸ä¸€ä¸‹ YubiKeyï¼Œå®ƒå°±å¼€å§‹ç”Ÿæˆäº†ã€‚\nè¿˜è¦ç»™è¿™ä¸ªå¯†é’¥ç”Ÿæˆä¸€ä¸ªç­¾åï¼š\n% yubico-piv-tool -s 9a -a verify-pin -a selfsign-certificate -S \"/CN=Alynx Zhou/\" -i public.pem -o cert.pem\n\næ³¨æ„ CN= åŽé¢çš„éƒ¨åˆ†ï¼Œè¿™é‡Œä¼šè¢« pam_pkcs11.so ç”¨æ¥éªŒè¯è¿™ä¸ªæ™ºèƒ½å¡å±žäºŽç³»ç»Ÿé‡Œé¢å“ªä¸ªç”¨æˆ·ï¼Œæ‰€ä»¥ç®€å•çš„è¯ç›´æŽ¥å†™ä½ çš„ç™»å½•ç”¨æˆ·åï¼Œå½“ç„¶ä½ åƒæˆ‘ä¸€æ ·ä¸æƒ³å†™ç”¨æˆ·åä¹Ÿæ˜¯æœ‰åŠžæ³•å¯¹åº”çš„ï¼ŒåŒæ ·è¦è¾“å…¥ PINã€‚\nå†æŠŠè¯ä¹¦å¯¼å›žåˆ°åŒä¸€ä¸ªæ§½ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæ–‡æ¡£è¯´äº†æˆ‘ç…§åšäº†ï¼š\n% yubico-piv-tool -s 9a -a verify-pin -a import-certificate -i cert.pem\n\nè¿˜æ˜¯è¦è¾“å…¥ PIN ç„¶åŽç¯é—ªçš„æ—¶å€™æ‘¸ä¸€ä¸‹ã€‚\nåˆ°è¿™é‡Œ YubiKey çš„é…ç½®å°±ç»“æŸäº†ã€‚\nè¦åœ¨ç³»ç»Ÿä¸Šä½¿ç”¨æ™ºèƒ½å¡éªŒè¯éœ€è¦å®‰è£…ç³»ç»Ÿä¸Šå’Œæ™ºèƒ½å¡äº¤äº’çš„è½¯ä»¶åŒ…ï¼š\n# pacman -S ccid opensc pcsclite\n% paru pam_pkcs11\n\nå¯åŠ¨ä¸€ä¸ªç›¸å…³çš„ daemonï¼Œæˆ–è€…å¯åŠ¨ socket ä¹Ÿè¡Œï¼Œéœ€è¦çš„æ—¶å€™å®ƒå°±è‡ªå·±èµ·æ¥äº†ï¼š\n# systemctl enable --now pcscd.socket\n\nå¦‚æžœæˆ‘æ²¡æ¼æŽ‰ä»€ä¹ˆä¹±ä¸ƒå…«ç³Ÿçš„ï¼Œå°±å¯ä»¥é…ç½® PAM æ¨¡å—äº†ï¼Œå®ƒæœ‰ä¸€ä¸ªé…ç½®ç›®å½•å« /etc/pam_pksc11ï¼Œé¦–å…ˆä½ è¦æŠŠä¸Šé¢ç”Ÿæˆçš„è¯ä¹¦æ”¾åˆ° /etc/pam_pkcs11/cacertsã€‚\n# cd /pam/pkcs11/cacerts\n# cp PATH_TO_YOUT_CERT/cert.pem ./\n\nä½ è¦åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹é¢è¿è¡Œä¸€ä¸ªä»€ä¹ˆä»€ä¹ˆ hash å‘½ä»¤ç”Ÿæˆä¸€ä¸ª hashï¼š\n# pkcs11_make_hash_link\n\næŽ¥ä¸‹æ¥ä½ è¦åŽ»æžå®ƒçš„é…ç½®æ–‡ä»¶ï¼Œå…ˆå¤åˆ¶ä¸€ä¸ªæ ·æœ¬è¿‡æ¥ï¼š\n# cp /usr/share/doc/pam_pkcs11/pam_pkcs11.conf.example /etc/pam_pkcs11/pam_pkcs11.conf\n\nå¥½åƒå…¶å®žä¹Ÿæ²¡ä»€ä¹ˆéœ€è¦æ”¹çš„ã€‚æ–‡æ¡£è¯´é»˜è®¤çš„é…ç½®ç”¨çš„æ˜¯ OpenSC çš„ PKCS#11 åº“ï¼Œè™½ç„¶ YubiKey çš„æ–‡æ¡£ä¸€ç›´è·Ÿä½ è¯´ä»€ä¹ˆ libykcs11.soï¼Œæˆ‘çš„æµ‹è¯•ç»“æžœæ˜¯ä¸ç”¨ç†å®ƒï¼Œé€šç”¨çš„æŽ¥å£å°±å¤Ÿäº†ï¼Œä»¥åŠè¿™ä¸ª libykcs11.so æ˜¯å±žäºŽ yubico-piv-tool è¿™ä¸ªåŒ…çš„ã€‚\nå‡å¦‚ä½ åˆšæ‰ CN= åŽé¢å†™çš„ä¸æ˜¯ä½ çš„ç”¨æˆ·åï¼Œé‚£ä½ éœ€è¦ä¸€äº›é…ç½®å‘Šè¯‰ pam_pkcs11.so ä½ è¿™ä¸ªè¯ä¹¦å¯¹åº”çš„å“ªä¸ªç”¨æˆ·ï¼Œè¿™ä¸€æ­¥åœ¨å®ƒçš„é…ç½®æ–‡ä»¶é‡Œå« mapperã€‚é»˜è®¤å¯ç”¨äº†ä¸€äº› mapper æ¯”å¦‚ pwentï¼Œè¿™ä¸ªå°±æ˜¯æŠŠ CN= åŽé¢çš„å†…å®¹å’Œ /etc/passwd é‡Œé¢çš„ç”¨æˆ·ååšåŒ¹é…ï¼Œä½†æ˜¯å¦‚æžœä½ åƒæˆ‘ä¸€æ ·å†™çš„æ˜¯å…¨åï¼Œé‚£å°±éœ€è¦å¦ä¸€ä¸ªé»˜è®¤å¯ç”¨çš„æ¨¡å—å« subjectã€‚è‡³äºŽ subject æ˜¯ä»€ä¹ˆéœ€è¦è¿è¡Œä¸‹é¢è¿™ä¸ªå‘½ä»¤ï¼š\n% pkcs11_inspect\n\nå®ƒä¼šè¾“å‡ºå„ç§ mapper å¯¹åº”çš„ dataï¼Œæ¯”å¦‚ pwent è¾“å‡ºçš„å°±æ˜¯ Alynx Zhouï¼Œsubject è¾“å‡ºçš„åˆ™æ˜¯ /CN=Alynx Zhouã€‚æˆ‘ä»¬éœ€è¦å¤åˆ¶ä¸€ä¸ª subject_mapping é…ç½®æ–‡ä»¶çš„æ ·æœ¬è¿‡æ¥ï¼š\n# cp /usr/share/doc/pam_pkcs11/subject_mapping.example /etc/pam_pkcs11/subject_mapping\n\nåœ¨è¿™ä¸ªæ–‡ä»¶åŽé¢åŠ ä¸€è¡Œï¼š\n alynx\n\" data-info=\"language-plain\" data-lang=\"plain\" class=\"code-block\">/CN=Alynx Zhou -&gt; alynx\n\næˆ‘çš„ç”¨æˆ·åæ˜¯ alynxï¼Œä½ å¯ä»¥æ¢æˆä½ è‡ªå·±çš„ã€‚\nåˆ°è¿™ä¸€æ­¥ pam_pkcs11.so è¿™ä¸ªæ¨¡å—å·²ç»å¯ä»¥é€šè¿‡æ™ºèƒ½å¡éªŒè¯ä½ çš„èº«ä»½äº†ï¼Œä½†æ˜¯å¦‚æžœä½ ç«æ€¥ç«ç‡Žå…´é«˜é‡‡çƒˆçš„é‡å¯äº†ç³»ç»Ÿï¼ŒGDM è¿˜æ˜¯ä¼šå’Œä½ è¦å¯†ç ã€‚åŽŸå› å…¶å®žå¾ˆç®€å•ï¼Œè™½ç„¶çŽ°åœ¨ /etc/pam.d/gdm-smartcard å·²ç»å¯ç”¨äº†ï¼Œä½† GDM åªæœ‰åœ¨æ£€æµ‹åˆ°æ™ºèƒ½å¡ä¹‹åŽæ‰ä¼šè°ƒç”¨è¿™ä¸ªæ–‡ä»¶å°è¯•æ™ºèƒ½å¡ç™»å½•ï¼Œå¾ˆæ˜¾ç„¶å®ƒæ²¡æ£€æµ‹åˆ°æ™ºèƒ½å¡ã€‚\nè¿™é‡Œå°±æ¯”è¾ƒéš¾æžæ¸…æ¥šäº†ï¼Œæˆ‘æ™ºèƒ½å¡æ’çš„å¥½å¥½çš„ï¼Œä¸Šé¢å„ç§ç¨‹åºéƒ½èƒ½ç”¨ï¼Œä¸ºä»€ä¹ˆä½ æ£€æµ‹ä¸åˆ°ï¼Ÿæˆ‘å°è¯•ç”¨ä»€ä¹ˆ GDM YubiKey ä¹‹ç±»çš„å…³é”®è¯æœç´¢äº†åŠå¤©ï¼Œä¹Ÿæ²¡äººå‘Šè¯‰æˆ‘ GDM åˆ°åº•æ€Žä¹ˆæ£€æµ‹æ™ºèƒ½å¡çš„ã€‚æ²¡æœ‰åŠžæ³•è¿˜æ˜¯è¯»ä»£ç å§ï¼ŒGNOME Shell js/gdm/util.js é‡Œé¢çš„é€»è¾‘æ˜¯é€šè¿‡ D-Bus çš„ org.gnome.SettingsDaemon.Smartcard èŽ·å–æ™ºèƒ½å¡ä¿¡æ¯ï¼Œé‚£æˆ‘æ‰“å¼€ D-Feet ä»Ž Session Bus é‡Œé¢æ‰¾åˆ°è¿™ä¸ªï¼Œç›´æŽ¥è¿è¡Œ org.gnome.SettingsDaemon.Smartcard.Manager çš„ GetInsertedTokensï¼Œä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚\næ ¹æ® D-Bus çš„ä¿¡æ¯ï¼Œå¾ˆæ˜¾ç„¶è¿™ä¸ªæŽ¥å£æ˜¯ gnome-settings-daemon çš„ smartcard æ’ä»¶æä¾›çš„ï¼Œæˆ‘å¤§æ¦‚æ˜¯æœç´¢äº†ä»€ä¹ˆ gsd-smartcard PKCS#11 çš„å…³é”®å­—ä¹‹åŽæ‰¾åˆ°äº† https://gitlab.gnome.org/GNOME/gnome-settings-daemon/-/merge_requests/208ï¼Œå…¶å®žæˆ‘ä¸€å¼€å§‹ä¹Ÿæ²¡å¤ªçœ‹æ‡‚è¿™æ˜¯ä»€ä¹ˆæ„æ€ï¼Œä½†å¾—åˆ°ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ï¼š\n\ngsd-smartcard ç”¨äº†ä»€ä¹ˆ NSS API èŽ·å–æ™ºèƒ½å¡è®¾å¤‡ã€‚\nè¿™çŽ©æ„è¦ä¸€ä¸ªä»€ä¹ˆ system shared certificate NSS databaseã€‚\né™¤äº† Red Hat å®¶é‚£ä¸€å¥—å¥½åƒæ²¡ä»€ä¹ˆåˆ«çš„å‘è¡Œç‰ˆå¼„è¿™ä¸ªã€‚\n\nè¿™ä¸€è·¯ä¸‹æ¥ä¹±ä¸ƒå…«ç³Ÿçš„åè¯å·²ç»å¤Ÿå¤šçš„äº†çŽ°åœ¨åˆå¤šäº†ä¸€ä¸ªä»€ä¹ˆ NSS è€Œä¸”åªæœ‰ Red Hat æ‰é…ç½®äº† system shared certificate NSS databaseï¼Œä½†ä¸ç®¡æ€Žä¹ˆæ ·æˆ‘æ˜¯èŒä¸šé€‰æ‰‹æˆ‘ä¸èƒ½è½»è¨€æ”¾å¼ƒï¼Œè¿˜å¥½ Arch Wiki æœ‰è¿™ä¹ˆä¸€ä¸ªé¡µé¢ Network Security Servicesï¼Œä½†è¿™ä¸æ˜¯ç®¡è¯ä¹¦çš„å—ï¼Œå’Œæ™ºèƒ½å¡è®¾å¤‡æœ‰ä»€ä¹ˆå…³ç³»å•Šã€‚è¿™æ—¶å€™æˆ‘åˆç¿»å¼€äº† Arch Wiki å…³äºŽæ™ºèƒ½å¡çš„é¡µé¢ Smartcardsï¼Œé‡Œé¢è®²äº†åœ¨ Chromium é‡Œé¢åŠ è½½æ™ºèƒ½å¡éœ€è¦åœ¨ NSS æ•°æ®åº“é‡Œé¢åŠ ä¸€ä¸ªæ¨¡å—ï¼ˆä»€ä¹ˆä¹±ä¸ƒå…«ç³Ÿçš„ï¼‰ï¼Œä¸è¿‡å®ƒæ“ä½œçš„éƒ½æ˜¯ç”¨æˆ·çš„å®¶ç›®å½•ä¸‹é¢çš„æ•°æ®åº“ï¼Œè¿™æ˜¾ç„¶ä¸æ˜¯ system shared certificate NSS databaseã€‚ç„¶åŽå¦‚æžœæ‰‹å·¥æ‰§è¡Œ /usr/lib/gsd-smartcard -vï¼Œä¼šå‘çŽ°è¿™çŽ©æ„å°è¯•è¯»å– /etc/pki/nssdb èŽ·å–ä»€ä¹ˆæ™ºèƒ½å¡é©±åŠ¨åˆ—è¡¨ï¼Œæˆ‘ç³»ç»Ÿé‡Œé¢æ ¹æœ¬æ²¡è¿™ä¸ªç›®å½•ã€‚ç®—äº†ï¼Œæ—¢ç„¶æ˜¯ Red Hat æžçš„ä¸œè¥¿ï¼Œæˆ‘çœ‹çœ‹ä»–ä»¬æ€Žä¹ˆå†™çš„ã€‚æ­£å¥½æˆ‘æœ‰ä¸ª Fedora çš„è™šæ‹Ÿæœºï¼Œæ‰“å¼€è™šæ‹Ÿæœºä¸€çœ‹è¿˜çœŸæœ‰è¿™ä¸ªç›®å½•ï¼Œé‚£å°±è¿è¡Œä¸‹é¢å‘½ä»¤çœ‹çœ‹ï¼š\n% modutil -dbdir /etc/pki/nssdb -list\n\nç»“æžœé‡Œé¢é™¤äº†é»˜è®¤é¡¹è¿˜çœŸæœ‰ä¸ªå« p11-kit-proxy çš„çŽ©æ„ï¼Œæˆ‘åˆå›žåŽ»çœ‹äº†ä¸€çœ¼é‚£ä¸ª Merge Requestï¼ŒçŽ°åœ¨æˆ‘å®Œå…¨æ˜Žç™½äº†ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆ NSS è¿™çŽ©æ„ä¼šè®°å½•ä¸€ä¸ªè¯»å–æ™ºèƒ½å¡çš„é©±åŠ¨åˆ—è¡¨ï¼Œç„¶åŽ gsd-smartcard æ˜¯é€šè¿‡ NSS èŽ·å–åˆ°æ™ºèƒ½å¡çš„é©±åŠ¨åˆ—è¡¨ä¹‹åŽå†å°è¯•æŸ¥è¯¢æ™ºèƒ½å¡ï¼Œå®žé™…ä¸ŠçŽ°åœ¨æ²¡ä»€ä¹ˆäººç”¨ NSS è¿™ä¸ªåŠŸèƒ½äº†ï¼Œä½ è¿™è¿˜å¾—å¾€ç³»ç»Ÿçš„ NSS æ•°æ®åº“é‡Œé¢å†™ä¸œè¥¿ï¼Œé™¤äº†çº¢å¸½å­å®¶éƒ½æ²¡äººæžè¿™ä¸ªäº†ï¼Œå°±ç®—æœ‰ç”¨ NSS è¯»çš„ï¼ˆæ¯”å¦‚æµè§ˆå™¨ï¼‰ä¹Ÿæ˜¯è¯»ç”¨æˆ·çš„ NSS æ•°æ®åº“ã€‚åˆ«çš„ç”¨æ™ºèƒ½å¡çš„éƒ½ç›´æŽ¥ç”¨ p11-kit åŽ»è¯»æ™ºèƒ½å¡ï¼Œæ‰€ä»¥è¿™ä¸ª Merge Request ä¹Ÿæ”¹æˆç›´æŽ¥ç”¨ p11-kit è¯»äº†ã€‚ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™ä¸ª Merge Request æ²¡èƒ½åˆå¹¶ã€‚å†å¤šè¯´ä¸€å¥ï¼Œå°±ç®—æ˜¯ Red Hat çš„ç³»ç»Ÿ NSS æ•°æ®åº“ï¼ŒçŽ°åœ¨ä¹Ÿä¸ç›´æŽ¥å†™æ™ºèƒ½å¡çš„é©±åŠ¨äº†ï¼Œè€Œä¹Ÿæ˜¯é€šè¿‡ p11-kitï¼Œæ‰€ä»¥åˆšæ‰åœ¨ Fedora çš„æ•°æ®åº“é‡Œåªçœ‹åˆ° p11-kit-proxy è¿™ä¸€ä¸ªé©±åŠ¨â€¦â€¦\næ—¢ç„¶è¿™æ ·æˆ‘ä»¬ä¹Ÿåœ¨è¿™ä¸ªæ•°æ®åº“é‡Œå†™ä¸€ä¸ª p11-kit-proxyï¼Œæ ¹æ® Arch Wiki çš„æ™ºèƒ½å¡é¡µé¢ï¼Œå¦‚æžœä½ è¦é€šè¿‡ p11-kit æ“ä½œ OpenSC çš„é©±åŠ¨ï¼ˆè¿™éƒ½ä»€ä¹ˆä¹±ä¸ƒå…«ç³Ÿçš„ï¼‰ï¼Œé‚£å¯èƒ½éœ€è¦å®‰è£…ä¸€ä¸ª AUR åŒ…æ¥ä¿è¯å®ƒè¢«åŠ è½½ï¼ˆå®žé™…ä¸Šå°±æ˜¯ä¸ªæ–‡ä»¶è€Œå·²ï¼‰ï¼š\n% paru opensc-p11-kit-module\n\nåˆ›å»ºæ•°æ®åº“ç›®å½•å¹¶å¾€æ•°æ®åº“é‡Œå†™ p11-kit-proxyï¼š\n# mkdir /etc/pki/nssdb\n# modutil -dbdir sql:/etc/pki/nssdb -add \"p11-kit-proxy\" -libfile p11-kit-proxy.so\n\nå¦‚æžœä½ å’Œæˆ‘ä¸€æ ·åˆå¿ƒæ€¥ç«ç‡Žçš„é‡å¯äº†ï¼Œå°±ä¼šå‘çŽ°è¿˜æ˜¯æ²¡ç”¨ã€‚è¿™ä¸ç§‘å­¦å•Šï¼ŒFedora çš„æ•°æ®åº“é‡Œä¹Ÿæ˜¯è¿™ä¹ˆå†™çš„ï¼Œçœ‹ä¸€çœ¼ D-Bus ä¸ºä»€ä¹ˆè¿˜æ˜¯æ²¡æœ‰æ™ºèƒ½å¡ã€‚\nå®žé™…ä¸Šæœ€åŽæˆ‘å‘çŽ°åªå·®ä¸€ç‚¹ç‚¹ï¼ŒFedora ç»™è¿™ä¸ªç›®å½•ä¸‹æ–‡ä»¶çš„æƒé™æ˜¯ -rw-r--r--ï¼Œè€Œæˆ‘è¿™è¾¹åˆ›å»ºå¥½çš„æ˜¯ -rw------ã€‚gsd-smartcard æ˜¯ä»¥ session ç”¨æˆ·è¿è¡Œçš„å½“ç„¶è¯»ä¸äº†ã€‚æ‰€ä»¥æ”¹ä¸€ä¸‹æƒé™å°±å¯ä»¥äº†ã€‚\n# chmod 0644 /etc/pki/nssdb/*\n\næŽ¥ä¸‹æ¥æ’ç€ YubiKey é‡å¯ï¼ŒGDM å¯åŠ¨çš„ gsd-smartcard å°±èƒ½è¯»åˆ°ç³»ç»Ÿçš„ NSS æ•°æ®åº“ï¼Œæ£€æµ‹åˆ°æ™ºèƒ½å¡ï¼ŒäºŽæ˜¯è°ƒç”¨ /etc/pam.d/gdm-smartcardï¼Œç›´æŽ¥è®©ä½ è¾“å…¥ç”¨æˆ·åï¼Œè¾“å…¥ä¹‹åŽä¼šæç¤ºä½ è¾“å…¥æ™ºèƒ½å¡çš„ PINï¼Œç„¶åŽ pam_pkcs11.so è¿›è¡ŒéªŒè¯ï¼Œå°±å¯ä»¥ç™»å½•äº†ã€‚é”å±ä¹‹åŽä¹Ÿåªè¦è¾“å…¥æ™ºèƒ½å¡çš„ PIN å°±å¯ä»¥è§£é”ã€‚\næŒ‰ç†è¯´å¦‚æžœç»™ pam_pkcs11.so å‘ä¸€ä¸ªç©ºç™½çš„ç”¨æˆ·åï¼Œå®ƒä¼šæ ¹æ®æ™ºèƒ½å¡è¿”å›žç”¨æˆ·åçš„ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘åœ¨ GDM ç”¨ä¸äº†ï¼Œä¸€å®šè¦å¼€æœºæ‰‹åŠ¨è¾“å…¥ï¼Œæœ‰ç©ºæˆ‘çœ‹çœ‹ä»£ç ä¹Ÿè®¸å¯ä»¥ä¿®æ”¹ä¸€ä¸‹ã€‚ æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆä¸€å®šè¦åœ¨ GDM å¯åŠ¨ä¹‹å‰æ’å…¥å¡æ‰å¯ä»¥ï¼Œæ˜¾ç¤ºç”¨æˆ·åˆ—è¡¨ä¹‹åŽå†æ’å…¥å¡æˆ‘è¿™é‡Œæ²¡ååº”ã€‚\næ›´æ–°ï¼ˆ2022-11-30ï¼‰ï¼šèŠ±äº†æˆ‘åŠå¤©æ—¶é—´ç ”ç©¶ GDM å’Œ PAMï¼Œé—®é¢˜ä¸åœ¨ GDMï¼Œè€Œæ˜¯å› ä¸º Arch Linux çš„ gdm-smartcard é¦–å…ˆè°ƒç”¨äº† pam_shells æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰åˆæ³•çš„ shellï¼Œé‡åˆ°ç©ºç”¨æˆ·åå®ƒç¬¬ä¸€ä¸ªå¤±è´¥äº†ï¼ŒäºŽæ˜¯æˆ‘æäº¤äº† ä¸€ä¸ª MRï¼ŒæŠŠ pam_shells æŒªåˆ° pam_pkcs11 ä¸‹é¢ï¼Œè¿™æ ·å®ƒä¼šæ£€æŸ¥è‡ªåŠ¨è¿”å›žçš„ç”¨æˆ·åã€‚ï¼ˆè™½ç„¶è¿™äº› PAM é…ç½®æ–‡ä»¶æ˜¯å‘è¡Œç‰ˆè‡ªå·±å†™çš„ä½†æ˜¯å¤§å®¶éƒ½æäº¤åˆ° GNOME é‚£è¾¹äº†ï¼Œæˆ‘åªæ”¹äº† Arch çš„å› ä¸ºæˆ‘åœ¨ç”¨ï¼Œåˆ«çš„å‘è¡Œç‰ˆçš„ç”¨æˆ·å…ˆå·ç€ä¹å§ã€‚ï¼‰\nå¦‚æžœä½ æƒ³ç”¨æ™ºèƒ½å¡è§£é”çš„è¯ï¼Œä¸€å®šå¾—æ˜¯ç”¨æ™ºèƒ½å¡ç™»å½•æ‰å¯ä»¥ï¼Œå®ƒä¼šæ£€æŸ¥å½“å‰çš„å¡æ˜¯ä¸æ˜¯ç™»å½•æ‰€ç”¨çš„é‚£å¼ å¡ï¼Œä¸æ˜¯çš„è¯å°±åªèƒ½å¯†ç è§£é”äº†ã€‚æŠ˜è…¾è¿™ä¸€å¥—èŠ±äº†æˆ‘ä¸€æ•´å¤©æ—¶é—´ï¼Œå› ä¸ºèµ„æ–™å®žåœ¨æ˜¯å¤ªå°‘äº†ï¼Œæ ¹æœ¬ä¸çŸ¥é“å®ƒæ˜¯æ€Žä¹ˆå·¥ä½œçš„ã€‚\nä»¥åŠæœ€åŽæˆ‘è¿˜å‘çŽ°ä¸€ç¯‡æ–‡ç« ï¼Œé‡Œé¢çš„å†…å®¹ä¹Ÿæ˜¯è®²è¿™ä¸ª NSS æ•°æ®åº“çš„è§£å†³æ–¹æ¡ˆçš„ï¼Œä¹Ÿè®¸æˆ‘æ—©çœ‹è§è¿™ä¸ªå°±ä¸ä¼šè¿™ä¹ˆéº»çƒ¦äº†ï¼š Fixing NSS and p11-kit in Fedora (and beyond)ã€‚\n"},{"title":"DaVinci Resolve åœ¨ Linux ä¸‹çš„è¾“å…¥æ³•æ”¯æŒ","url":"/posts/Input-Method-Support-for-DaVinci-Resolve-on-Linux/","content":"ä»¤äººå‡ºä¹Žæ„æ–™ï¼Œæˆ‘ç«Ÿç„¶æ˜¯ DaVinci Resolveï¼ˆåŽé¢éƒ½ç®€ç§°è¾¾èŠ¬å¥‡äº†ï¼‰çš„ä»˜è´¹ç”¨æˆ·ã€‚è™½ç„¶å®ƒä¸æ˜¯å¼€æºè½¯ä»¶ï¼Œä½†æ˜¯æœ‰å¾ˆå¥½çš„ Linux æ”¯æŒï¼Œä½¿ç”¨ä½“éªŒå’ŒåŠŸèƒ½éƒ½æ˜¯åŒç±»ä¸­çš„ä½¼ä½¼è€…ï¼Œè€Œä¸”æ”¶è´¹ä¹Ÿç›¸å½“åˆç†ã€‚æˆ‘é€‰æ‹©ä»˜è´¹ä¸€ä¸ªåŽŸå› æ˜¯ä½ æ”¯æŒæˆ‘ï¼Œæˆ‘å°±æ”¯æŒä½ ï¼Œè¿™å…¶å®žå’Œæˆ‘æ”¯æŒ Steam å’Œ Valve çš„ç†ç”±å·®ä¸å¤šã€‚å¦ä¸€ä¸ªåŽŸå› æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ç”±äºŽä»€ä¹ˆæ‰€è°“ç³»ç»Ÿä¸“åˆ©è®¸å¯è¯çš„åŽŸå› è¾¾èŠ¬å¥‡ Linux ç‰ˆæœ¬ä¸èƒ½è§£ç  H264 å’Œ H265 è¿™ä¸¤ç§å¸¸è§çš„è§†é¢‘ç¼–ç ï¼Œåªèƒ½ä½¿ç”¨ NVIDIA æ˜¾å¡çš„ NVENC å’Œ NVDEC æ¥å¤„ç†ï¼Œè€Œè¾¾èŠ¬å¥‡å°†æ˜¾å¡åŠ é€ŸåŠŸèƒ½ä½œä¸ºæ”¶è´¹çš„å–ç‚¹ã€‚äºŽæ˜¯æˆ‘å°±è¿™æ ·åŠè‡ªæ„¿çš„ä¸Šäº†è´¼èˆ¹ã€‚\nå½“ç„¶æŽ’é™¤æŽ‰è§£ç é—®é¢˜ä¹‹åŽè¿˜æœ‰å¦ä¸€ä¸ªæ¯”è¾ƒéš¾å—çš„åœ°æ–¹ï¼Œå°±æ˜¯è¾¾èŠ¬å¥‡ Linux ç‰ˆæ²¡æœ‰è¾“å…¥æ³•æ”¯æŒï¼ŒäºŽæ˜¯å®Œå…¨æ²¡åŠžæ³•è¾“å…¥ä¸­æ–‡ã€‚æˆ‘çŒœæµ‹ä¸åƒæ˜¯æŸäº›æ•…æ„æ¶å¿ƒäººçš„ä¼ä¸šå¯¹ Linux ä¸å‹å¥½ï¼Œè€Œå•çº¯æ˜¯å› ä¸ºè‹±è¯­å¼€å‘è€…æ²¡æœ‰â€œè¾“å…¥æ³•â€è¿™ç§æ¦‚å¿µã€‚æ¯•ç«Ÿè¾¾èŠ¬å¥‡çš„å›¾å½¢ç•Œé¢æ˜¯åŸºäºŽ Qt çš„ï¼Œè€Œ Qt ç›´æŽ¥æœ‰çŽ°æˆçš„è¾“å…¥æ³•æ”¯æŒï¼Œæž„å»ºçš„æ—¶å€™æ‰“å¼€å¼€å…³å°±å¯ä»¥äº†å˜›ã€‚ä¸ºæ­¤æˆ‘ç”šè‡³ä¸“é—¨è·‘åˆ° BlackMagic Design çš„ç”¨æˆ·è®ºå›å‘äº†ä¸ªå¸–å­ï¼ˆhttps://forum.blackmagicdesign.com/viewtopic.php?f=33&amp;t=150886ï¼‰ï¼Œä½œä¸ºä»˜è´¹ç”¨æˆ·ï¼Œæˆ‘ç»™ä½ é’±ï¼Œä½ å°±å¾—ç»™æˆ‘åŠžäº‹ï¼Œå°±æ˜¯è¿™ä¹ˆç¡¬æ°”ã€‚æ˜¾ç„¶æŸä½å‘˜å·¥çœ‹åˆ°äº†æˆ‘çš„å¸–å­å¹¶æŠŠå®ƒç§»åŠ¨åˆ°äº† Feature Requests ç‰ˆé¢ï¼Œç„¶åŽå°±æ²¡æœ‰ç„¶åŽäº†ã€‚é—­æºæ‹–æ‹‰æœºæ€»æ˜¯è¿™æ ·ï¼Œæˆ‘çœ‹åˆ°äº†ï¼Œä½†æˆ‘æ‡’å¾—æ”¹ï¼Œä½ ç»™æˆ‘ç­‰ç€å§ã€‚æˆ‘å€’ä¸æ˜¯è¯´å¼€æºæ‹–æ‹‰æœºçš„ç»´æŠ¤è€…éƒ½æ¯”è¾ƒå‹¤å¿«ï¼Œä½†æ˜¯è‡³å°‘ä»£ç æ”¾åœ¨é‚£é‡Œï¼Œè¯´ä¸å®šç”¨æˆ·è‡ªå·±å°±ç»™ä½ æ”¹äº†é€åˆ°ä½ é¢å‰äº†ï¼Œä¸€èˆ¬å†æ‡’çš„ç»´æŠ¤è€…éƒ½ä¹æ„æŽ¥å—ã€‚è°å«æˆ‘æ²¡æ‰¾åˆ°å’Œè¾¾èŠ¬å¥‡ä¸€æ ·å¥½ç”¨çš„å¼€æºè§†é¢‘å‰ªè¾‘è½¯ä»¶å‘¢ã€‚\nä¸è¿‡ä»Žå®ƒç”¨çš„ Qt è¿™ä¸€ç‚¹ä¸Šæ¥çœ‹ï¼Œåº”è¯¥æ˜¯æœ‰ä»€ä¹ˆåŠžæ³•å¯ä»¥ hack ä¸€ä¸‹è®©å®ƒæ”¯æŒè¾“å…¥æ³•çš„ã€‚è™½ç„¶æˆ‘ä¸æ˜¯å¾ˆç†Ÿæ‚‰ Qtï¼Œä½†æ˜¯ Fcitx çš„å¼€å‘è€… @csslayer ç»™äº†æˆ‘ä¸€ä¸ªæ–¹æ¡ˆï¼Œä»–ä¹‹å‰å†™äº†ä¸€ç¯‡åšå®¢æ˜¯å…³äºŽç»™ Mathematica æ·»åŠ è¾“å…¥æ³•æ”¯æŒçš„ï¼ˆhttps://www.csslayer.info/wordpress/fcitx-dev/a-case-study-how-to-compile-a-fcitx-platforminputcontext-plugin-for-a-proprietary-software-that-uses-qt-5/ï¼‰ï¼Œä»–è§‰å¾—è¾¾èŠ¬å¥‡ä¹Ÿå¯ä»¥å¦‚æ³•ç‚®åˆ¶ï¼ŒäºŽæ˜¯æˆ‘é˜…è¯»äº†ä¸€ä¸‹ï¼Œç®€å•åœ°æ¦‚æ‹¬å°±æ˜¯é¦–å…ˆæŸ¥å‡ºæ¥è½¯ä»¶ç”¨äº†ä»€ä¹ˆç‰ˆæœ¬çš„ Qtï¼Œç„¶åŽä¸‹è½½å¯¹åº”çš„æºç ï¼Œå› ä¸ºè¾“å…¥æ³•æ”¯æŒå±žäºŽ Qt çš„æŸç§æ’ä»¶ï¼Œæ‰€ä»¥åªè¦æž„å»ºæ’ä»¶çš„æ—¶å€™é“¾æŽ¥åˆ°è½¯ä»¶è‡ªå¸¦çš„ Qtï¼Œå†æŠŠå¾—åˆ°çš„æ’ä»¶å¤åˆ¶åˆ°è½¯ä»¶çš„ Qt ç›®å½•å°±å¯ä»¥äº†ã€‚ä¸€èˆ¬æ¥è¯´è½¯ä»¶å°±ç®—ä¿®æ”¹äº†è‡ªå¸¦çš„ Qtï¼Œä¹Ÿä¸ä¼šä¿®æ”¹æœ‰å…³æ’ä»¶çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥æˆ‘æ‰“ç®—å¦‚æ³•ç‚®åˆ¶ä¸€ä¸‹ã€‚\né¦–å…ˆæ˜¯æŸ¥çœ‹è¾¾èŠ¬å¥‡è‡ªå¸¦çš„ Qt çš„ç‰ˆæœ¬ï¼Œè¿™ä¸ªéžå¸¸ç®€å•ï¼š\n% strings /opt/resolve/libs/libQt5Core.so.5 | rg 'Qt 5'\nQt 5.15.2 (x86_64-little_endian-lp64 shared (dynamic) release build; by Clang 9.0.1 )\nThis is the QtCore library version Qt 5.15.2 (x86_64-little_endian-lp64 shared (dynamic) release build; by Clang 9.0.1 )\nIf that is not possible, in Qt 5 you must at least reimplement\n\nåˆ°è¿™é‡Œåº”è¯¥å°±æ˜¯åŽ»ä¸‹è½½ Qt 5.15.2 ç‰ˆæœ¬çš„æºç äº†ï¼Œä¸è¿‡æˆ‘çªå‘å¥‡æƒ³çœ‹äº†ä¸€çœ¼ç³»ç»Ÿå®‰è£…çš„ Qt ç‰ˆæœ¬ï¼š\n% pacman -Qi qt5-base | rg Version\nVersion         : 5.15.7+kde+r176-1\n\nä¸€èˆ¬æ¥è¯´ä¸»æ¬¡ç‰ˆæœ¬å·ä¸å˜çš„è¯ä¸ä¼šæœ‰ä»€ä¹ˆä¸å…¼å®¹çš„æ”¹åŠ¨ï¼Œä¼šä¸ä¼šæˆ‘ç›´æŽ¥æŠŠç³»ç»Ÿçš„ .so æ–‡ä»¶å¤åˆ¶è¿‡åŽ»å°±å¯ä»¥ç”¨äº†å‘¢ï¼ŸQt 5 çš„ ibus æ”¯æŒå·²ç»æ˜¯ Qt æœ¬èº«ä»£ç åº“çš„ä¸€éƒ¨åˆ†äº†ï¼Œå®‰è£…åˆ°ç³»ç»Ÿçš„è·¯å¾„æ˜¯ /usr/lib/qt/plugins/platforminputcontexts/libibusplatforminputcontextplugin.soï¼Œæˆ‘å°è¯•ç›´æŽ¥æŠŠå®ƒé“¾æŽ¥è¿‡åŽ»ï¼š\n% sudo mkdir /opt/resolve/libs/plugins/platforminputcontexts\n% sudo ln -s /usr/lib/qt/plugins/platforminputcontexts/libibusplatforminputcontextplugin.so /opt/resolve/libs/plugins/platforminputcontexts\n\nç„¶åŽå°±æ²¡æœ‰ç„¶åŽäº†ï¼Œæˆ‘å¯åŠ¨è¾¾èŠ¬å¥‡ä¹‹åŽ ibus å°±ç›´æŽ¥å·¥ä½œäº†ã€‚æ²¡æƒ³åˆ°ä»–ä»¬è™½ç„¶ä¸å¤ªäº†è§£ Linux è¾“å…¥æ³•ï¼ŒQt ç‰ˆæœ¬è·Ÿçš„å€’æ˜¯è¿˜æŒºæ–°çš„ã€‚\n\nå¯¹äºŽ Fcitx5 ç”¨æˆ·çš„è¯ï¼Œé¦–å…ˆè¦æ³¨æ„ Qt 5 çš„ Fcitx5 æ”¯æŒå¹¶ä¸åœ¨ Qt çš„ä»£ç åº“é‡Œï¼Œæ‰€ä»¥ä½ éœ€è¦å®‰è£… fcitx5-qtã€‚ä¸è¿‡æ–‡ä»¶è·¯å¾„çš„è¯éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªè¦æŠŠæ–‡ä»¶åé‡Œçš„ ibus æ”¹æˆ fcitx5 å°±å¯ä»¥äº†ã€‚å¦‚æžœç›´æŽ¥é“¾æŽ¥ä¸èƒ½ç”¨ï¼Œéœ€è¦æŒ‰ç…§è€ K åšå®¢é‡Œçš„åŠžæ³•è‡ªå·±ç¼–è¯‘çš„è¯ï¼Œéœ€è¦ä¸‹è½½å•ç‹¬çš„ fcitx5-qt ä»£ç åº“ã€‚å½“ç„¶ä»Žæ ¹æºä¸Šè§£å†³é—®é¢˜çš„è¯è¿˜æ˜¯å¸Œæœ›å¤§å®¶åŽ»è®ºå›å›žå¤æˆ‘çš„å¸–å­ï¼Œè®© BlackMagic Design å¼€å¯æž„å»ºå¼€å…³ï¼Œå°±ä¸éœ€è¦ç”¨å¥‡æ€ªçš„åŠžæ³• hack äº†ã€‚\n"},{"title":"GTK å’Œ libhandy å’Œ Arc-Dark ä¸»é¢˜","url":"/posts/GTK-libhandy-Arc-Dark/","content":"é»‘å¤œè®©æˆ‘é€‰äº†é»‘è‰²çš„ä¸»é¢˜ï¼Œä½†æ˜¯æœ‰äº›ç¨‹åºéžè¦å¯»æ‰¾å…‰æ˜Žï¼Ÿ\n\næˆ‘è‡ªè®¤ä¸ºä¸æ˜¯ä¸ªå¯¹åº”ç”¨ç¨‹åºå¤–è§‚æœ‰ç€ç—…æ€ä¸€è‡´æ€§è¦æ±‚çš„äººï¼Œæˆ‘ä¹Ÿä»Žä¸ä»‹æ„ä¸€äº›ä¸ªæ€§åŒ–çš„ç¨‹åºé€‰æ‹©è‡ªå·±çš„ç‰¹æ®Šæ ·å¼ã€‚æ‰€ä»¥å½“ GTK 4 æŽ¨èçš„ libadwaita ä¸å†æ”¯æŒä¼ ç»Ÿçš„ GTK ä¸»é¢˜çš„æ—¶å€™æˆ‘ä¹Ÿæ²¡ä»€ä¹ˆååº”ï¼šæ¯•ç«Ÿè¿™çŽ©æ„é»˜è®¤çš„æ ·å¼çœ‹èµ·æ¥è¿˜æŒºå¥½çœ‹çš„ã€‚ä½†å³ä½¿æ˜¯æˆ‘è¿™æ ·å®½å®¹çš„äººï¼Œå¯¹äºŽ GTK 3 é‚£ä¸ªç†Ÿçš„ä¸èƒ½å†ç†Ÿçš„ Adwaita ä¸»é¢˜ä¹Ÿå®¡ç¾Žç–²åŠ³äº†ï¼Œé‚£ä¸ªé“¶è‰²å’Œæ£•è‰²ä¼šè®©æ‰€æœ‰æ‰‹æœºåŽ‚ç¬‘è¯çš„ï¼Œå³ä½¿æœ‰äº›æ‰‹æœºåŽ‚çš„å®¡ç¾Žè¿˜ä¸å¦‚è¿™çŽ©æ„ã€‚\næˆ‘ä¸ªäººæœ€å–œæ¬¢çš„é…è‰²å…¶å®žæ˜¯ Atom çš„ One Dark å’Œ One Lightï¼Œä½†æˆ‘æ²¡é‚£ä¸ªç²¾åŠ›åˆ©ç”¨è°ƒè‰²ç›˜è‡ªå·±ç»´æŠ¤ä¸€ä»½ä¸»é¢˜ï¼Œæ‰€ä»¥æˆ‘é€€è€Œæ±‚å…¶æ¬¡é€‰æ‹©äº†åœ¨è§‚æ„Ÿä¸Šæ¯”è¾ƒæŽ¥è¿‘çš„ Arc ä¸»é¢˜ï¼Œè¿™ä¸ªä¸»é¢˜å…¶å®žæ˜¯ä¸€ä¸ªç³»åˆ—ï¼Œæˆ‘è‡ªå·±åªåœ¨ä¹Žé‡Œé¢çš„ä¸¤ä¸ªå˜ä½“ï¼šå…¨äº®è‰²çš„ Arc å’Œå…¨æš—è‰²çš„ Arc-Darkï¼ˆä¼¼ä¹Žå®ƒè‡ªå·± README é‡Œé¢ç»™çš„æˆªå›¾ä¹Ÿæœ‰ç‚¹é—®é¢˜ï¼‰ã€‚\næˆ‘è‡ªå·±æ˜¯ä¸€ä¸ªæš—è‰²æ¨¡å¼çˆ±å¥½è€…ï¼Œæ¯•ç«Ÿé•¿æ—¶é—´é¢å¯¹å±å¹•ï¼Œç™½åº•é»‘å­—å®žåœ¨æ˜¯å¤ªåˆºçœ¼äº†ï¼Œç›¸å¯¹è€Œè¨€ï¼Œæ·±è“è‰²åšèƒŒæ™¯è‰²æµ…ç°è‰²åšå‰æ™¯è‰²è¦å¥½çœ‹å¾ˆå¤šã€‚åœ¨å¾ˆä¹…å¾ˆä¹…ä»¥å‰æ··æ²Œåˆå¼€ï¼ŒLinux æ¡Œé¢ç¨‹åºå‘˜è¿˜æ²¡æœ‰æ„è¯†åˆ°éœ€è¦æœ‰ä¸ªå…¨å±€çš„æš—è‰²/äº®è‰²å¼€å…³çš„æ—¶å€™ï¼Œè®¾ç½®ä¸»é¢˜éžå¸¸ç®€å•ç²—æš´ï¼Œæ‰“å¼€ GNOME Tweaks æŠŠ GTK Theme è®¾ç½®ä¸º Arc-Darkï¼Œæˆ‘å°±å¿ƒæ»¡æ„è¶³äº†ã€‚\nå¯èƒ½æ˜¯ libadwaita ä¸èƒ½æ›´æ¢ä¸»é¢˜å¯¼è‡´å¾ˆå¤šåå¯¹çš„å£°éŸ³ï¼Œå¹¶æ²¡æœ‰å¤ªå¤šäººè°ˆè®ºéšä¹‹è€Œæ¥çš„å…¨å±€æš—è‰²æ¨¡å¼å¼€å…³ï¼Œä½†æ˜¯æŸå¤©æˆ‘æ›´æ–°äº†ç³»ç»Ÿä¹‹åŽå‘çŽ°è®¾ç½®é‡Œå¤šäº†ä¸€ä¸ªäº®è‰²/æš—è‰²é€‰æ‹©ï¼Œæˆ‘è§‰å¾—æŒºå¥½ï¼Œé‚£æˆ‘è¿™é‡Œé€‰æš—è‰²å°±è¡Œäº†å˜›ï¼Œæžœç„¶æ‰€æœ‰ç”¨äº† libadwaita çš„ç¨‹åºéƒ½è·Ÿç€å˜äº†äº®æš—ï¼Œä¸è¿‡æˆ‘ç”¨ç€ç”¨ç€å°±æ„Ÿè§‰ä¸å¯¹åŠ²äº†â€”â€”æ€Žä¹ˆä»¥å‰é‚£äº› GTK 3 çš„ç¨‹åºä¸ç”¨ Arc-Dark è€Œæ˜¯ç”¨ Adwaita-dark äº†ï¼Œè¿™å’Œæˆ‘æƒ³çš„ä¸ä¸€æ ·å•Šï¼Ÿç„¶åŽæˆ‘ç ”ç©¶äº†ä¸€ä¸‹ï¼Œè§‰å¾—æ›´å¥‡æ€ªäº†ï¼ŒGTK 4 + libadwaita çš„ GNOME Settings ç”¨çš„æ˜¯ libadwaita çš„æš—è‰²ç‰ˆæœ¬ï¼ˆé¢„æœŸè¡Œä¸ºï¼‰ï¼ŒGTK 3 çš„ GNOME Tweaks ç”¨çš„æ˜¯ GTK 3 çš„ Adwaita-darkï¼ˆä¸å¯¹åŠ²ï¼‰ï¼Œä½†æ˜¯åŒæ ·æ˜¯ GTK 3 çš„ GNOME Terminal ç”¨çš„æ˜¯æˆ‘è®¾ç½®çš„ Arc-Darkï¼ˆé¢„æœŸè¡Œä¸ºï¼‰ã€‚å¥½å®¶ä¼™å¥½å®¶ä¼™ï¼Œæˆ‘è¿™ä¸€ä¸ªæ¡Œé¢ä¸Šä¸‰èŠ±èšé¡¶äº†ã€‚\n\næ€»è¿™ä¹ˆå¾…ç€æˆ‘è§‰å¾—æ€ªæ€ªçš„ï¼ŒäºŽæ˜¯æˆ‘ç ”ç©¶äº†ä¸€ä¸‹ï¼Œå¦‚æžœæˆ‘è¦æ˜¯é€‰äº®è‰²æ¨¡å¼å‘¢ï¼ŸçŽ°åœ¨ GNOME Settings æ˜¯ libadwaita çš„äº®è‰²ç‰ˆæœ¬äº†ï¼Œç„¶åŽ GNOME Tweaks å’Œ GNOME Terminal éƒ½æ˜¯ Arc-Darkï¼Œè™½ç„¶å¥½åƒä¸€è‡´äº†ï¼Œåˆå¥½åƒæœ‰ç‚¹ä¸ä¸€è‡´ï¼Œè¿™å›žä»Žä¸‰èŠ±èšé¡¶å˜æˆé»‘ç™½é€šåƒã€‚æ€»ä¹‹æˆ‘å¿å—äº†å¾ˆä¹… GTK 4 ç¨‹åº å¤§éƒ¨åˆ† æ˜¯ç™½çš„è€Œ GTK 3 ç¨‹åºæ˜¯é»‘çš„ï¼Œç›´åˆ°æˆ‘å†ä¹Ÿå—ä¸äº†å†³å®šç¿»å¼€ä»£ç çœ‹çœ‹è¿™äº›äººæ˜¯æ€Žä¹ˆå†™çš„ã€‚\n\nä¸ºäº†èƒ½è¯´æ˜Žç™½ï¼Œä¸‹é¢æˆ‘å°±ä¸ä»Žç»“æžœåæŽ¨åŽŸå› äº†ï¼Œæ¯•ç«Ÿå¤§å®¶çœ‹åˆ°è¿™é‡Œå¯èƒ½å·²ç»äº‘é‡Œé›¾é‡Œï¼Œæ²¡å¿…è¦å’Œæˆ‘å†é‡å¤ä¸€éç ´æ¡ˆè¿‡ç¨‹äº†ã€‚\nå¯èƒ½å¤§éƒ¨åˆ†äººä¸æ˜¯ GTK å¼€å‘è€…ä¹Ÿä¸ä½¿ç”¨ GTKï¼Œå¯¹è¿™çŽ©æ„æ€Žä¹ˆè°ƒç”¨ä¸»é¢˜å­˜åœ¨ä¸€å®šçš„è¯¯åŒºã€‚å®žé™…ä¸Šå¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š\n\nä¸ä½¿ç”¨ libhandy çš„ GTK 3 ç¨‹åºï¼ˆæ¯”å¦‚ GNOME Terminalï¼‰å’Œä¸ä½¿ç”¨ libadwaita çš„ GTK 4 ç¨‹åºï¼ˆæ¯”å¦‚ Show Me The Keyï¼‰ï¼Œè¿™ä¸€ç±»ç¨‹åºä¸è€ƒè™‘ GNOME Settings é‡Œé¢çš„äº®è‰²/æš—è‰²å¼€å…³ï¼ˆæŒ‡çš„æ˜¯ GSettings é‡Œé¢ org.gnome.desktop.interface çš„ color-scheme é€‰é¡¹ï¼‰ï¼Œè€Œåªè€ƒè™‘ gtk-application-prefer-dark-themeï¼Œè¿™ä¸ªå€¼å±žäºŽ GtkSettingsï¼Œéœ€è¦ç¼–è¾‘ ~/.config/gtk-4.0/settings.ini å’Œ ~/.config/gtk-3.0/settings.iniã€‚ä»¥åŠæ˜¯çš„ä½ æ²¡çœ‹é”™ï¼ŒGTK 4 ä¸ä¸€å®šéžè¦ç”¨ libadwaitaï¼Œå®žé™…ä¸Šè™½ç„¶è¿™ä¸ªåº“å« libadwaitaï¼Œä½†å®ƒå’Œ GTK 3 é‚£ä¸ªå«åš Adwaita çš„é»˜è®¤ä¸»é¢˜å‡ ä¹Žæ²¡æœ‰å…³ç³»ï¼Œå®ƒæ˜¯ GTK 3 çš„ç»„ä»¶åº“ libhandy çš„è¿›åŒ–ç‰ˆæœ¬ã€‚GNOME æŽ¨èä½¿ç”¨è¿™ä¸ªä»¥ä¾¿è®©æ•´ä¸ªæ¡Œé¢æœ‰ç»Ÿä¸€çš„é£Žæ ¼ï¼Œä½†æ˜¯ GTK 4 ä»ç„¶æ˜¯ä¸ªå®Œæ•´çš„ UI åº“ï¼Œç¨‹åºå¼€å‘è€…å®Œå…¨å¯ä»¥ä¸ä½¿ç”¨ libadwaitaã€‚\nä½¿ç”¨ libadwaita çš„ GTK 4 ç¨‹åºï¼ˆæ¯”å¦‚ GNOME Settingsï¼‰ï¼Œè¿™ä¸€ç±»ç¨‹åºä¸è€ƒè™‘ GNOME Tweaks é‡Œé¢çš„ GTK Theme é€‰é¡¹ï¼ˆå®žé™…ä¸Šæ˜¯ GSettings é‡Œé¢ org.gnome.desktop.interface çš„ gtk-theme é€‰é¡¹ï¼‰ï¼Œåªä½¿ç”¨ libadwaita å†…ç½®çš„é…è‰²ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå®Œå…¨ä¸éœ€è¦å…³å¿ƒå®ƒï¼Œå®ƒæ°¸è¿œæŒ‰ç…§è®¾ç½®é‡Œçš„å¼€å…³å·¥ä½œã€‚\nä½¿ç”¨ libhandy çš„ GTK 3 ç¨‹åºï¼ˆæ¯”å¦‚ GNOME Tweaksï¼‰ï¼Œè¿™ä¸ªå°±ç›¸å½“å¤æ‚äº†ï¼Œlibhandy è€ƒè™‘äº†æ¡Œé¢çŽ¯å¢ƒçš„äº®è‰²/æš—è‰²ä¸»é¢˜åˆ‡æ¢ï¼Œä½†ä¹Ÿè€ƒè™‘äº†ç”¨æˆ·è‡ªå®šä¹‰çš„ GTK Themeï¼ŒäºŽæ˜¯åœ¨è¿™é‡Œå®ƒåŽä¸½çš„ä¹±å¥—äº†ã€‚\nè¿˜æœ‰æœ€åŽä¸€ç±»ç¨‹åºï¼Œå®ƒä»¬å‡ºäºŽç‰¹å®šéœ€è¦è‡ªå·±ç»™è‡ªå·±å¥—äº†è‡ªå®šä¹‰çš„ CSSï¼Œæ‰€ä»¥ä½ æ‹¿å®ƒä¸€ç‚¹åŠžæ³•ä¹Ÿæ²¡æœ‰ï¼Œç›´æŽ¥å¿½ç•¥ï¼ˆæ¯”å¦‚ Show Me The Key çš„æ‚¬æµ®çª—å£ï¼‰ã€‚\n\nçœ‹åˆ°è¿™é‡Œä¸€å®šæœ‰å°é»‘å­è¦æ€’å¼äº†ï¼šâ€œçœ‹çœ‹ä½ ä»¬æžçš„ä¹±ä¸ƒå…«ç³Ÿçš„çŽ©æ„ï¼GNOME çœŸåžƒåœ¾ï¼è€å­å°±è¦åˆ€è€•ç«ç§å°±è¦å½“åŽŸå§‹äººï¼Œlibadwaita æ»šå•Šï¼â€ä½†æ˜¯æˆ‘å»ºè®®ç”¨ä½ é‚£å¯æ€œçš„å°è„‘è¢‹ç“œæƒ³ä¸€æƒ³ï¼Œä¸Šé¢ä¸‰æ¡é‡Œé¢åè€Œ libadwaita æ˜¯æœ€ç¬¦åˆé¢„æœŸçš„ä¸€ä¸ªï¼ˆäº®è‰²æ¨¡å¼ç”¨äº®è‰²ï¼Œæš—è‰²æ¨¡å¼ç”¨æš—è‰²ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä¸ä¼šè§£å†³ç¬¬äºŒä¸ªï¼Œè€Œæ˜¯è§£å†³å¦å¤–çš„ä¸¤ä¸ªã€‚\né¦–å…ˆä»Ž libhandy ä¸‹æ‰‹ï¼Œç›¸å…³çš„ä»£ç ä½äºŽ https://gitlab.gnome.org/GNOME/libhandy/-/blob/main/src/hdy-style-manager.c#L286-L348ï¼Œå¦‚æžœä½ å¯æ€œçš„å°è„‘è¢‹ç“œä¹Ÿæ²¡è€å¿ƒçœ‹çœ‹ä»£ç çš„è¯ï¼Œé‚£ä¹ˆæˆ‘å¤§å‘æ…ˆæ‚²æ›¿ä½ è¯»äº†ä¸€éã€‚ç›¸å…³çš„é€»è¾‘å¤§æ¦‚æ˜¯è¯´é¦–å…ˆè¦†ç›–æŽ‰å½“å‰ç¨‹åºçš„ gtk-application-prefer-dark-themeï¼ˆåˆ«å¿˜äº† libhandy ç¨‹åºä¹Ÿæ˜¯ GTK 3 ç¨‹åºï¼‰ï¼Œè¿™ä¸ªå€¼ä¼šè¢«è®¾ç½®æˆ color-scheme çš„å€¼ã€‚ç„¶åŽèŽ·å–å½“å‰ç³»ç»Ÿçš„ GTK Themeï¼Œå› ä¸ºæˆ‘ä»¬è€ƒè™‘åˆ°æµ…è‰²å’Œæ·±è‰²ä¸»é¢˜åˆ‡æ¢ï¼Œæ‰€ä»¥ä¸»é¢˜åè¢«åˆ†æˆåŸºç¡€åå’Œç§ç±»åä¸¤éƒ¨åˆ†ï¼Œå¦‚æžœç³»ç»Ÿçš„ä¸»é¢˜ä»¥ -dark ç»“å°¾ï¼Œé‚£å°±åŽ»æŽ‰è¿™ä¸ªåŽç¼€ï¼Œå¾—åˆ°åŸºç¡€åï¼Œå¹¶è®¾ç½®ä¸ºå½“å‰ç¨‹åºçš„ä¸»é¢˜ã€‚é‚£é—®é¢˜éš¾é“å‡ºåœ¨ Arc-Dark çš„ç»“å°¾æ˜¯ -Dark è€Œä¸æ˜¯ -dark å—ï¼Ÿä¹Ÿä¸æ˜¯ï¼ŒGTK ä¸»é¢˜å¯¹äºŽæš—è‰²å’Œäº®è‰²çš„åŒºåˆ†ä¸åœ¨ä¸»é¢˜åä¸Šï¼Œè€Œæ˜¯åœ¨ä¸»é¢˜ç›®å½•ä¸‹é¢çš„ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªå«åš gtk.cssï¼Œå¦ä¸€ä¸ªå«åš gtk-dark.cssï¼Œå¦‚æžœ color-scheme æ˜¯ prefer-darkï¼Œlibhandy å°±ä¼šåŠ è½½åŽè€…è€Œéžå‰è€…ï¼Œè¿™éƒ¨åˆ†çš„ä»£ç åœ¨ https://gitlab.gnome.org/GNOME/libhandy/-/blob/main/src/hdy-style-manager.c#L106-L141ã€‚äºŽæ˜¯åœ¨ç³»ç»Ÿè®¾ç½®ä¸ºæš—è‰²æ¨¡å¼çš„æ—¶å€™ï¼Œlibhandy ä¼šåŽ»åŠ è½½ Arc-Dark çš„ gtk-dark.cssï¼Œä½† Arc-Dark ä½œä¸ºä¸€ä¸ªæš—è‰²å˜ä½“ï¼Œåªæœ‰ gtk.cssï¼Œæ‰€ä»¥åŠ è½½å¤±è´¥ï¼Œlibhandy å›žé€€åˆ° Adwaita çš„ gtk-dark.cssã€‚è€Œç³»ç»Ÿè®¾ç½®ä¸ºäº®è‰²çš„æ—¶å€™ï¼Œlibhandy ä¼šåŽ»åŠ è½½ Arc-Dark çš„ gtk.cssï¼Œè€Œä½œä¸ºä¸€ä¸ªæš—è‰²å˜ä½“ï¼Œè¿™ä¸ªæ–‡ä»¶å®žé™…å†™çš„æ˜¯æš—è‰²é…è‰²ï¼ŒäºŽæ˜¯çœ‹èµ·æ¥æ­£å¸¸äº†ã€‚ï¼ˆä»¥åŠå¦‚æžœä½  GTK Theme è®¾ç½®ä¸º Adwaita-dark ä»Žè¿™é‡Œä½ å°±ä¼šå‘çŽ°å®žé™…ä¸ŠåŠ è½½çš„æ˜¯ Adwaita çš„ gtk-dark.cssï¼Œè€Œä¸æ˜¯ Adwaita-dark çš„ gtk.cssï¼Œå³ä½¿å®ƒä»¬çš„é…è‰²æ˜¯ä¸€æ ·çš„ã€‚ï¼‰\né‚£ä¹ˆæ˜¾ç„¶åˆæœ‰å¦ä¸€ä¸ªé—®é¢˜ï¼Œæ—¢ç„¶ä¸»é¢˜æ˜¯é å†…éƒ¨çš„ä¸¤ä¸ªæ–‡ä»¶åŒºåˆ†äº®è‰²å’Œæš—è‰²çš„ï¼Œä¸ºä»€ä¹ˆåˆä¼šæœ‰ Adwaita-dark å’Œ Arc-Dark è¿™ç§åå­—é‡Œå¸¦æš—è‰²åŽç¼€çš„å˜ä½“å‘¢ï¼Ÿå¹¶ä¸”è¿˜è¦åœ¨ libhandy é‡Œé¢å¤„ç†è¿™ä¸ªåŽç¼€ï¼Œæ˜¯ä¸æ˜¯å¤šæ­¤ä¸€ä¸¾ï¼Ÿæˆ‘ä»¬å¯ä»¥æš‚æ—¶å…ˆä¸è€ƒè™‘è¿™ä¸ªé—®é¢˜ï¼Œè€Œå…ˆç®€å•è§£å†³ç¬¬ä¸‰æ¡ã€‚ä»Žä¸Šé¢çš„åˆ†æžå¯ä»¥å¾—çŸ¥ä¸ºäº†èƒ½æ­£å¸¸æ”¯æŒç³»ç»Ÿçš„äº®è‰²æš—è‰²åˆ‡æ¢ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸€ä¸ªåŒæ—¶åŒ…å«äº®è‰²æš—è‰²çš„ä¸»é¢˜ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªåªæœ‰æš—è‰²å˜ä½“çš„ä¸»é¢˜ï¼ŒäºŽæ˜¯æˆ‘ä»¬ä¸èƒ½æŠŠ GTK Theme è®¾ç½®ä¸º Arc-Darkï¼Œè€Œåº”è¯¥ä½¿ç”¨ Arcï¼Œä½†å‡å¦‚ä½ åœ¨ GNOME Tweaks é‡Œé¢è®¾ç½®å¥½ä¹‹åŽï¼Œä½ ä¼šå‘çŽ°ä»ç„¶æ˜¯é»‘ç™½é€šåƒï¼šGNOME Settings æ˜¯ libadwaita çš„æš—è‰²ç‰ˆæœ¬ï¼ŒGNOME Tweaks æ˜¯ Arc çš„æš—è‰²ç‰ˆæœ¬ï¼Œè€Œ GNOME Terminal å’Œ Show Me The Key å´å˜æˆäº†äº®çš„ Arcï¼\n\næˆ‘çŸ¥é“æœ‰çš„å°é»‘å­è¦è¿«ä¸åŠå¾…å¼€å§‹ç‚®è½° GNOME äº†ï¼šâ€œä»€ä¹ˆçŽ©æ„ï¼Œæ•´æ¥æ•´åŽ»ä¸è¿˜æ˜¯æ•´ä¸å¥½å—ï¼Œä¸å¦‚æ¥å½“åŽŸå§‹äººã€‚â€ä½†é—®é¢˜å…¶å®žå°±æ˜¯åŽŸå§‹äººç•™ä¸‹çš„ã€‚çŽ°åœ¨æˆ‘ä»¬å›žå¤´çœ‹ç¬¬ä¸€æ¡ï¼šä¸ä½¿ç”¨ libhandy çš„ GTK 3 ç¨‹åºå’Œä¸ä½¿ç”¨ libadwaita çš„ GTK 4 ç¨‹åºï¼Œè¿™ä¸€ç±»ç¨‹åºä¸è€ƒè™‘ GNOME Settings é‡Œé¢çš„äº®è‰²/æš—è‰²å¼€å…³ï¼Œè€Œåªè€ƒè™‘ gtk-application-prefer-dark-themeã€‚æ‰€ä»¥è¿™ä¸ªå¥‡æ€ªçš„è¡¨çŽ°æ°å¥½éªŒè¯äº†è¿™ä¸€æ¡ï¼ŒåŒæ—¶ä¹Ÿè§£é‡Šäº†â€œæ—¢ç„¶ä¸»é¢˜æ˜¯é å†…éƒ¨çš„ä¸¤ä¸ªæ–‡ä»¶åŒºåˆ†äº®è‰²å’Œæš—è‰²çš„ï¼Œä¸ºä»€ä¹ˆåˆä¼šæœ‰ Adwaita-dark å’Œ Arc-Dark è¿™ç§åå­—é‡Œå¸¦æš—è‰²åŽç¼€çš„å˜ä½“â€è¿™ä¸ªé—®é¢˜ï¼šå› ä¸ºåœ¨ä¸€å¼€å§‹çš„è®¾è®¡é‡Œå¹¶æ²¡æœ‰ä»€ä¹ˆå…¨å±€äº®è‰²/æš—è‰²å¼€å…³ï¼Œä¹Ÿå°±æ²¡æœ‰è¦æ±‚ä¸»é¢˜åŒæ—¶æä¾› gtk.css å’Œ gtk-dark.cssï¼Œé‚£ä¹ˆä¸ºäº†è®©ç”¨æˆ·å¯ä»¥è‡ªé€‰äº®è‰²æš—è‰²ï¼Œåªæœ‰æä¾›ä¸¤ä¸ªä¸åŒçš„ä¸»é¢˜æ¥è§£å†³é—®é¢˜ã€‚è¿™ä¹Ÿå°±æ˜¯åœ¨ Adwaita å’Œ Arc éƒ½æä¾›äº† gtk-dark.css çš„æƒ…å†µä¸‹ä»ç„¶å­˜åœ¨ Adwaita-dark å’Œ Arc-Dark çš„åŽŸå› ã€‚ç„¶åŽåœ¨ä¸»é¢˜æ·»åŠ äº† gtk-dark.css ä¹‹åŽï¼Œä¸ºäº†è®© libhandy çš„ç¨‹åºèƒ½å¤Ÿè·Ÿéšç³»ç»Ÿå¼€å…³åˆ‡æ¢äº®è‰²å’Œæš—è‰²ï¼Œå°±ä¸èƒ½ä¸ºäº†é‚£äº›ä¼ ç»Ÿç¨‹åºæŠŠ GTK Theme è®¾ç½®ä¸ºæš—è‰²å˜ä½“çš„ä¸»é¢˜äº†ï¼Œæ­¤æ—¶å¦‚æžœè®¾ç½®ä¸ºåŒæ—¶åŒ…å«ä¸¤ä¸ªæ–‡ä»¶çš„ä¸»é¢˜ï¼Œé»˜è®¤è¿™äº›ç¨‹åºä¼šé€‰æ‹© gtk.cssï¼Œä¹Ÿå°±ä¼šå‡ºçŽ°ä¸Šé¢æˆªå›¾é‡Œçš„æƒ…å†µã€‚è§£å†³è¿™ä¸ªçš„æ–¹æ¡ˆä¹Ÿä¸æ˜¯å¾ˆå›°éš¾ï¼Œgtk-application-prefer-dark-theme å°±æ˜¯ä¸ºæ­¤æ·»åŠ çš„ï¼Œæ”¯æŒå®ƒçš„ GTK ç¨‹åºä¼šæŒ‰ç…§è¿™ä¸ªé€‰é¡¹æ¥åŠ è½½ gtk.css æˆ– gtk-dark.cssã€‚å¦‚æžœä½ åƒæˆ‘ä¸€æ ·å¹³æ—¶ä¸»è¦ç”¨æš—è‰²æ¨¡å¼ï¼Œé‚£å°±æ‰‹åŠ¨ç¼–è¾‘ ~/.config/gtk-4.0/settings.ini å†™å…¥ä»¥ä¸‹å†…å®¹ï¼ˆGTK 3 çš„è¯å°±æ˜¯ ~/.config/gtk-3.0/settings.iniï¼‰ï¼š\n[Settings]\ngtk-application-prefer-dark-theme=1\n\nä½ è¦æ˜¯äº®è‰²çˆ±å¥½è€…ï¼Œé‚£å°±æ”¹æˆ 0ã€‚è¿™ä¸‹å€’æ˜¯æ»¡è¶³åŽŸå§‹äººçš„åˆ€è€•ç«ç§éœ€æ±‚äº†å“ˆï¼Œæ¯•ç«Ÿä»–ä»¬çœ‹èµ·æ¥ä¹Ÿä¸æƒ³è¦ç³»ç»Ÿçš„äº®è‰²/æš—è‰²å¼€å…³çš„æ ·å­ï¼Œä¸è¿‡è¯´ä¸å®šä»¥åŽå“ªå¤©ç³»ç»Ÿçš„äº®è‰²/æš—è‰²å¼€å…³ä¹Ÿä¼šåŒæ—¶ä¿®æ”¹è¿™ä¸ªé€‰é¡¹å‘¢ï¼Ÿåªæ˜¯è¯»å–è¿™ä¸ªé€‰é¡¹çš„ GTK ç¨‹åºä¸ä¼šåƒ libhandy/libadwaita çš„ç¨‹åºé‚£æ ·ä¼šåŠ¨æ€åˆ‡æ¢ï¼Œå¿…é¡»è¦å…³äº†é‡å¼€æ‰è¡Œã€‚\nè¿˜æœ‰ä¸€ä¸ªå¥‡æ€ªçš„é—®é¢˜è¦æ³¨æ„ï¼Œé€šå¸¸æˆ‘ä»¬æ˜¯åœ¨ GNOME Tweaks é‡Œé¢è®¾ç½® GTK Themeï¼Œä¸è¿‡æ ¹æ® https://gitlab.gnome.org/GNOME/gnome-tweaks/-/blob/master/gtweak/tweaks/tweak_group_appearance.py#L75-L88ï¼Œå®ƒä¼šæŠŠä¸Šé¢é‚£ä¸ª gtk-application-prefer-dark-theme è®¾ç½®æˆ 0ï¼Œçœ‹æ³¨é‡Šé‡Œé¢çš„ BUG æè¿°ï¼Œåº”è¯¥ä¹Ÿæ˜¯ä¸ºäº†æŸç§åˆ€è€•ç«ç§çš„æƒ…å†µè§£å†³çš„ï¼ˆç”šè‡³é‚£æ—¶å€™è¿˜æŽ¨èæžä¸ªå•ç‹¬çš„æš—è‰²ä¸»é¢˜ï¼Œå¹¶ä¸”åˆ é™¤äº†å…¨å±€çš„å€¾å‘æš—è‰²çš„å¼€å…³ï¼‰ï¼Œå¤§æ¦‚é‚£æ—¶å€™è¿˜æ²¡æŽ¨èç”¨ libhandyï¼Œä¹Ÿæ²¡æœ‰ libadwaitaï¼Œä¹Ÿæ²¡æœ‰è®¾ç½®é‡Œè¿™ç§å…¨å±€æš—è‰²/äº®è‰²çš„å¼€å…³ã€‚æ€»ä¹‹æˆ‘ä¸å»ºè®®ç»å¸¸ä¿®æ”¹ GTK ä¸»é¢˜ï¼Œå¹¶ä¸”æ¯æ¬¡ä¿®æ”¹ä¹‹åŽè®°å¾—æ‰‹åŠ¨ä¿®æ”¹è¿™ä¸ªé€‰é¡¹ã€‚å¦‚æžœä½ è§‰å¾—è¿™ç§åå¤æ¨ªè·³åˆè¦ä¿è¯å…¼å®¹ä»¥å‰çš„å†³ç­–çš„è¡Œä¸ºå¾ˆè ¢ï¼Œé‚£æˆ‘åªèƒ½è¯´æ¯•ç«Ÿä½ ä¸èƒ½è¦æ±‚ä»¥å‰çš„å¼€å‘è€…é¢„è§åˆ°æœªæ¥çš„äººä»¬æ€Žä¹ˆå®šä¹‰æ¡Œé¢çš„åŠŸèƒ½ã€‚\nå½“ç„¶å¦‚æžœä½ æ¯«ä¸åœ¨ä¹Žäº®è‰²æš—è‰²åˆ‡æ¢ï¼ˆæˆ‘å°±æ˜¯è¦ä¸€ç›´ç”¨æš—è‰²ï¼Œæ‰€ä»¥ä½ æš—è‰²æ¨¡å¼ç»™æˆ‘é€‰å¯¹äº†æš—è‰²ä¸»é¢˜å°±è¡Œäº†ï¼ï¼‰ï¼Œé‚£è¿˜æœ‰ä¸ªæ¯”è¾ƒæŠ•æœºå–å·§çš„è§£å†³æ–¹æ¡ˆï¼šæŠŠ Arc-Dark çš„ gtk.css å¤åˆ¶å¹¶æ”¹å gtk-dark.css å°±å¯ä»¥äº†ï¼ŒåŽŸç†ä¸éš¾ç†è§£ã€‚å¹¶ä¸” Arc ä¸»é¢˜å·²ç»åšäº†è¿™æ ·çš„ä¿®æ”¹ï¼Œåªæ˜¯è¿˜æ²¡æœ‰ Releaseï¼ˆå‚è§ https://github.com/jnsh/arc-theme/commit/73ada8563591fa48ae365686a358e874ca12edadï¼‰ã€‚\n"},{"title":"è°åŠ¨äº†æˆ‘çš„ DNS è§£æžï¼Ÿ","url":"/posts/Who-Moved-My-DNS-Resolving/","content":"æˆ‘å‘çŽ°è¿™ç¯‡æ‚ç³…äº†å…³äºŽè®¾ç½® Zeroconf çš„ mDNS çš„éœ€æ±‚å’Œå…³äºŽ Linux ä¸‹é¢ DNS è§£æžåˆ°åº•æ˜¯æ€Žä¹ˆå·¥ä½œçš„æè¿°ï¼Œå¦‚æžœä½ åªå¯¹åŽè€…æ„Ÿå…´è¶£ï¼Œè¯·é˜…è¯»æœ€æ–°çš„ è°åŠ¨äº†æˆ‘çš„ DNS è§£æžï¼Ÿï¼ˆé‡åˆ¶ç‰ˆï¼‰ã€‚\nå¦‚æžœæœ‰äººçœ‹åˆ°è¿™ä¸ªæ ‡é¢˜ä»¥ä¸ºæ˜¯ä»€ä¹ˆç§‘å­¦ä¸Šç½‘ç›¸å…³ç„¶åŽé«˜å…´åœ°ç‚¹è¿›æ¥çš„è¯ä¸è¦æ€ªæˆ‘ï¼Œæˆ‘å…¶å®žæƒ³è¯´çš„æ˜¯ Linux ä¸Šæœ‰å…³ DNS è§£æžçš„æµç¨‹ï¼Œè¿™ä¸ªæ ‡é¢˜æ˜¾ç„¶æ˜¯åŒ–ç”¨è‡ªã€Šè°åŠ¨äº†æˆ‘çš„å¥¶é…ªï¼Ÿã€‹ï¼Œå³ä½¿æˆ‘å¹¶æ²¡æœ‰è¯»è¿‡è¿™æœ¬ä¹¦ã€‚æˆ‘è®¡ç½‘çœŸçš„æ²¡è®¤çœŸå¬è¯¾ï¼Œå†™çš„å†…å®¹éƒ½æ˜¯æˆ‘çŽ°å­¦çŽ°å–çš„ï¼Œæœ‰ä¸å¯¹çš„å¸Œæœ›è¯»è€…æŒ‡æ­£ã€‚\n\n\n\néœ€æ±‚\næˆ‘æœ‰ä¸€å° NASï¼Œä¸€å° PC å’Œä¸€å°è·¯ç”±å™¨ï¼Œä¸ºäº†èƒ½ä¸Šç½‘ä¹Ÿä¸ºäº†å®¶é‡Œçš„æ— çº¿è®¾å¤‡å¯ä»¥è¿žæŽ¥ NASï¼Œæˆ‘ç»™ PC å’Œ NAS åˆ†åˆ«æŽ¥ä¸Šè·¯ç”±å™¨ï¼Œä½†æ˜¯è·¯ç”±å™¨åªæœ‰åƒå…†ç½‘å£ï¼Œè€Œ PC å’Œ NAS å„è‡ªå¤šä¸€ä¸ª 2500 Mbps çš„ç½‘å¡ï¼Œä¸ºäº†å®žçŽ°æœ€é«˜çš„è¿žæŽ¥é€Ÿåº¦ï¼Œæˆ‘åˆä¹°äº†ä¸€æ ¹ç½‘çº¿æŠŠ PC å’Œ NAS ç›´æŽ¥è¿žæŽ¥èµ·æ¥ï¼ŒäºŽæ˜¯çŽ°åœ¨ä¸‰å°è®¾å¤‡ä¸¤ä¸¤ç›¸è¿žã€‚\nç›´è¿žä¸¤å°è®¾å¤‡å…¶å®žéžå¸¸ç®€å•ï¼ŒNetwork Manager é‡Œé¢ IPv4 è®¾ç½®æˆæ‰‹åŠ¨ï¼Œç„¶åŽåˆ†åˆ«é…ç½® IP åœ°å€å’Œå­ç½‘æŽ©ç ï¼Œå†å…³æŽ‰ IPv6 å°±å¯ä»¥äº†ï¼Œæ¯”å¦‚æˆ‘åˆ†åˆ«è®¾ç½® IP ä¸º 10.10.10.1 å’Œ 10.10.10.2ï¼Œç„¶åŽå­ç½‘æŽ©ç å°±æ˜¯ 255.255.255.0ã€‚ç„¶åŽåœ¨è¿›è¡Œå„ç§ç½‘ç»œè®¿é—®çš„æ—¶å€™åªè¦ä½¿ç”¨è¿™ä¸ª IP å°±å¯ä»¥é€šè¿‡ç›´è¿žè®¿é—®äº†ã€‚\nä½†æ˜¯æˆ‘è¿˜æ˜¯ä¸å¤ªæ»¡æ„ï¼Œæˆ‘è®¾ç½®äº†å¸…æ°”çš„ä¸»æœºåï¼Œä¸ºä»€ä¹ˆè¿˜å¾—ç”¨ IP è®¿é—®å‘¢ï¼Ÿä½†å¦‚æžœæˆ‘æŸ¥è¯¢ä¸»æœºåå¯¹åº”çš„ IPï¼Œå‘çŽ°å¾—åˆ°çš„å¹¶ä¸æ˜¯ç›´è¿žçš„ IPï¼Œè€Œæ˜¯æ¯”å¦‚ 192.168.1.80 è¿™æ ·çš„é€šè¿‡è·¯ç”±å™¨çš„ IPã€‚äºŽæ˜¯æˆ‘å¼€å§‹ç ”ç©¶å¦‚ä½•é…ç½®è®© DNS è§£æžç»™æˆ‘è¿”å›žç›´è¿žçš„ IPã€‚\nlong long ago\nä¸€èˆ¬è¦è®²æ•…äº‹ï¼Œå¼€å¤´éƒ½æ˜¯â€œå¾ˆä¹…å¾ˆä¹…ä»¥å‰â€¦â€¦â€ï¼Œä¸è¿‡è®¡ç®—æœºé¢†åŸŸä¹Ÿæ²¡ä»€ä¹ˆå¤ªå¤è€çš„æ•…äº‹å¯è®²ï¼Œæ¯•ç«Ÿå…¬è®¤çš„äº’è”ç½‘å‰èº« ARPANET ä¹Ÿå°±æ˜¯äºŒåä¸–çºªçš„äº‹æƒ…ã€‚é‚£ä¸ªæ—¶å€™èƒ½äº’è”çš„æœºå™¨ä¸€å…±ä¹Ÿå°±é‚£ä¹ˆå‡ ä¸ªï¼Œæ‰€ä»¥è§£å†³çš„åŠžæ³•ç®€å•ç²—æš´ï¼šæˆ‘ä»¬æ¯ä¸ªæœºå™¨éƒ½ä¿å­˜ä¸€ä¸ªæ–‡ä»¶ï¼Œé‡Œé¢è®°å½•æ‰€æœ‰äººå¯¹åº”çš„åŸŸåå’Œ IP ä¸å°±è¡Œäº†ï¼Ÿè¿™ä¸ªä¼˜è‰¯ä¼ ç»Ÿä¸€ç›´ç•™äº†ä¸‹æ¥ï¼Œä¹Ÿå°±æ˜¯çŽ°åœ¨æ‰€æœ‰ç³»ç»Ÿé‡Œéƒ½æœ‰çš„ hosts æ–‡ä»¶ï¼Œä¸ç®¡ä½ å†™çš„å¯¹ä¸å¯¹ï¼Œå®ƒçš„ä¼˜å…ˆçº§éƒ½æ¯” DNS æŸ¥è¯¢è¦é«˜ã€‚å¯¹äºŽæˆ‘è¿™ä¸ªæžå…¶ç®€å•çš„ç½‘ç»œçŽ¯å¢ƒï¼Œè¿™è‚¯å®šæ˜¯ä¸é”™çš„è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯ç¨‹åºå‘˜æ€»ä¼šè§‰å¾—è¿™ç§éžè‡ªåŠ¨åŒ–çš„æ‰‹æ®µå¤ª low äº†ï¼ŒäºŽæ˜¯å°±è¢«æˆ‘ pass æŽ‰äº†ã€‚\nç„¶åŽéšç€åŠ å…¥ç½‘ç»œçš„æœºå™¨è¶Šæ¥è¶Šå¤šï¼Œè¿™ä¸ªåŠžæ³•ä¸å¥½ç”¨äº†ï¼Œæ¯•ç«Ÿæ¯æ¥ä¸€ä¸ªæ–°äººå°±è¦æ‰€æœ‰äººæ›´æ–°è‡ªå·±çš„æ–‡ä»¶ï¼Œè¿™å¤æ‚åº¦ä¹Ÿå¤ªé«˜äº†ã€‚æ‰€ä»¥å¹²è„†æˆ‘ä»¬æžä¸€ä¸ªé›†ä¸­çš„æœåŠ¡å™¨ä¸“é—¨æ”¾è¿™ä¸ªåˆ—è¡¨ï¼Œå…¶å®ƒæœºå™¨éƒ½å‘å®ƒæŸ¥è¯¢å°±å¥½äº†ã€‚è¿™å°±æ˜¯ DNS æœåŠ¡å™¨çš„åŽŸç†äº†ï¼Œç„¶åŽåœ¨å±€åŸŸç½‘é‡Œï¼Œä¸€èˆ¬è·¯ç”±å™¨å’Œ DNS æœåŠ¡å™¨ä»¥åŠ DHCP æœåŠ¡å™¨éƒ½æ˜¯åŒä¸€å°æœºå™¨ï¼Œå› ä¸ºå¾ˆè‡ªç„¶çš„æ‰€æœ‰è®¾å¤‡éƒ½ä¼šè¿žåˆ°è·¯ç”±å™¨ä¸Šï¼Œè€Œ DHCP æœåŠ¡å™¨æ°å¥½çŸ¥é“å®ƒåˆ†é…å‡ºåŽ»çš„ IP åœ°å€ï¼Œæ‰€ä»¥å¦‚æžœä½ è¾“å…¥ä¸»æœºåæ°å¥½èƒ½è§£æžï¼Œé‚£é€šå¸¸æ˜¯ä½ çš„è·¯ç”±å™¨åšäº†è¿™äº›å·¥ä½œã€‚ä½†å¯¹äºŽæˆ‘è¿™ä¸ªå­ç½‘æ¥è¯´ï¼Œä¸ºäº†è¿™ä¸¤å°ç”µè„‘å†é…ç½® DHCP å’Œ DNS æ˜¾ç„¶å¤ªéº»çƒ¦äº†ï¼Œpassã€‚\nå†åŽæ¥å„ç§å­ç½‘è¶Šæ¥è¶Šå¤šï¼Œå­ç½‘é‡Œçš„è®¾å¤‡ä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œæ¯”å¦‚æ‰“å°æœºè¿™ç§ï¼Œä»¥è‡³äºŽçŽ°åœ¨å„ç§æ™ºèƒ½å®¶å±…ï¼Œä¸å¯èƒ½å†æžä¸€ä¸ªæœåŠ¡å™¨ç”¨æ¥æ³¨å†Œâ€œå–‚ï¼Œæˆ‘æ˜¯èŒ¶å£¶â€è¿™ç§ä¸œè¥¿ï¼ŒäºŽæ˜¯è‹¹æžœæžå‡ºäº†ä¸€ä¸ªå« Zeroconf çš„åè®®ï¼Œå¤§æ¦‚æ˜¯åœ¨ DNS çš„åŸºç¡€ä¸Šå¯ä»¥è®©å­ç½‘é‡Œæ”¯æŒè¿™ä¸ªåè®®çš„è®¾å¤‡äº’ç›¸å‘çŽ°äº’ç›¸é€šçŸ¥è‡ªå·±æ˜¯ä»€ä¹ˆã€‚å› ä¸ºå’Œ DNS ç›¸å…³ï¼Œæ‰€ä»¥æœ‰ä¸€ä¸ªéƒ¨åˆ†æ˜¯ MulticastDNS (mDNS)ï¼Œç®€å•æ¥è¯´å°±æ˜¯ä¸é€šè¿‡ DNS æœåŠ¡å™¨ï¼Œè€Œæ˜¯é€šè¿‡è¿™ä¸ªåè®®å‘çŽ°çš„è®¾å¤‡åˆ—è¡¨å®žçŽ° DNS è§£æžã€‚æ‰€ä»¥è¿™æ˜¯ç¬¬ä¸‰ç§æ–¹å¼ã€‚\nä»¥ä¸Šä¸‰ç§æ–¹å¼å…¶å®žéƒ½æ˜¯æˆ‘ä»Ž Arch Wiki æŠ„æ¥çš„ï¼šhttps://wiki.archlinux.org/title/Network_configuration#Local_network_hostname_resolution\næ‰€ä»¥æˆ‘å†³å®šæžä¸€ä¸ªç¬¬ä¸‰ç§ï¼Œè¿™ä¸ªå¥½è¯´ï¼Œwiki å†™äº†å¯ä»¥ç”¨ Avahi åšè¿™ä¸ªï¼Œä¸è¿‡æ€Žä¹ˆ systemd-resolved ä¹Ÿèƒ½åš mDNSï¼Ÿè¿™çŽ©æ„ä¸æ˜¯ç®¡ /etc/resolv.conf çš„å—ï¼ŸNetwork Manager ä¸æ˜¯ä¹Ÿç®¡è¿™ä¸ªå—ï¼Ÿ\nchattr +i /etc/resolv.conf\nå¾ˆå¤š Linux ç”¨æˆ·éƒ½çŸ¥é“ä¿®æ”¹ DNS æœåŠ¡å™¨å¯ä»¥é€šè¿‡ç¼–è¾‘ /etc/resolv.conf å®žçŽ°ï¼Œå¾ˆå¤š Linux ç”¨æˆ·ä¹Ÿè¢« /etc/resolv.conf å›°æ‰°ï¼Œä¸€äº›äººå‘çŽ°è‡ªå·±çš„è¿™ä¸ªæ–‡ä»¶æ˜¯ä¸ªè½¯é“¾æŽ¥ï¼Œè€Œå¦ä¸€äº›äººå‘çŽ°è¿™ä¸ªæ–‡ä»¶æ€»è¢« Network Manager è¦†ç›–ï¼Œè¿˜æœ‰äº›äººçš„å‘è¡Œç‰ˆè®©ä»–ä»¬ç”¨ä¸€ä¸ªå« resolvconf çš„å·¥å…·å¤„ç†ï¼Œç„¶åŽçŽ°åœ¨ systemd åˆæžäº†ä¸ªå« resolved çš„ä¸œè¥¿æ¥æ’ä¸€è„šâ€¦â€¦æˆ‘è¯´çš„è¿™äº›å·²ç»è¶³å¤Ÿè®©ä¸€äº›ä¸æƒ³å­¦æ–°ä¸œè¥¿åŒæ—¶åˆç¥žç»ç´§å¼ çš„äººå¼€å§‹å¤§å–Šâ€œfuck systemd, fuck network manager, fuck desktop environment and fuck the whole modern worldâ€ç„¶åŽæ‰§è¡Œ chattr +i /etc/resolv.conf äº†ã€‚ä¸è¿‡åˆ«ç€æ€¥å°ç‚¸è¯åŒ…ä»¬ï¼Œä¹Ÿè®¸è¿™ä¸ªä¸–ç•Œä¸Šæ–°å‡ºçŽ°çš„å„ç§ä¸œè¥¿ç›®çš„å¹¶ä¸åªæ˜¯æƒ¹æ¼ä½ ä»¬è¿™ç¾¤å¤§ç¬¨è›‹ï¼Œå“¦æ˜¯çš„ï¼Œæ²¡é”™ï¼Œæˆ‘è¯´ï¼Œå¤§ç¬¨è›‹ï¼Œæé¾™å‹‡å£«ï¼ˆåœåœåœä¸è¦ç¿»è¯‘è…”äº†ï¼‰ï¼Œè€Œæ˜¯çœŸçš„æœ‰åœºæ™¯éœ€è¦ä»–ä»¬ã€‚ä¹Ÿè®¸å¯¹äºŽæŸä¸ª VPN è¿žæŽ¥éœ€è¦ä½¿ç”¨è‡ªå·±çš„ DNS æœåŠ¡å™¨ï¼Œæ€»ä¹‹ï¼Œä¸è¦è§‰å¾—ä¸–ç•Œéƒ½å›´ç€ä½ è½¬ï¼Œè‡³å°‘è¯»ä¸€ä¸‹è¿™äº›ä¸œè¥¿çš„æ–‡æ¡£ï¼Œä¼šå‘Šè¯‰ä½ æ€Žä¹ˆé˜»æ­¢å®ƒä»¬ä¿®æ”¹ä½ çš„ /etc/resolv.conf çš„ã€‚\nä½†å…¶å®žä¹Ÿä¸æ˜¯ä¸€ä¸ª /etc/resolv.conf æžå®šæ‰€æœ‰ï¼Œæœ‰å…³è¿™ä¸ªçš„æ•…äº‹ä¹Ÿæ˜¯ long long agoï¼Œä½†æ¯•ç«Ÿæ˜¯ UNIX çºªå…ƒä¹‹åŽçš„äº‹æƒ…ï¼Œæ²¡æœ‰å¤ªä¹…ï¼Œå¤§æ¦‚ç¡®å®žä¸Šå¤æ—¶ä»£çš„ç¨‹åºéƒ½æ˜¯ç›´æŽ¥è¯»è¿™ä¸ªèŽ·å– DNS æœåŠ¡å™¨ç„¶åŽå†åš DNS è§£æžçš„ï¼Œä½†å®žé™…ä¸Šè¿™ä¹Ÿä¸ä¸€å®š OKï¼Œæ¯”å¦‚åƒä¹‹å‰è¯´çš„æ‰“å°æœºè¿™ç§æ€Žä¹ˆè§£å†³ï¼Ÿä»¥åŠ hosts å‘¢ï¼Ÿæ‰€ä»¥å°±æœ‰äº†æ›´å¤æ‚çš„è§£å†³æ–¹æ¡ˆï¼Œå¤§éƒ¨åˆ†ç¨‹åºåš DNS è§£æžå®žé™…ä¸Šæ˜¯è°ƒç”¨ glibc é‡Œé¢ getaddrinfo è¿™ä¸ª APIï¼Œæ‰€ä»¥åœ¨å®ƒåŽé¢æˆ‘ä»¬å°±å¯ä»¥åšä¸€äº›å·¥ä½œã€‚ä¸€ä¸ªå«åš Name Service Switch çš„ä¸œè¥¿å‘æ˜Žå‡ºæ¥å°±æ˜¯å¹²è¿™ä¸ªçš„ï¼Œå®ƒå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªåŸºäºŽæ’ä»¶çš„ç»“æž„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é˜…è¯» /etc/nsswitch.conf é‡Œé¢çš„ hosts è¿™ä¸€è¡Œæ¥ç†è§£ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œé»˜è®¤æ˜¯è¿™æ ·çš„ï¼š\nhosts: mymachines resolve [!UNAVAIL=return] files myhostname dns\n\nç®€å•ç¿»è¯‘ä¸€ä¸‹çš„è¯æ„æ€å°±æ˜¯æŸ¥è¯¢ä¸€ä¸ªåŸŸåçš„æ—¶å€™é¦–å…ˆçœ‹çœ‹æ˜¯ä¸æ˜¯ systemd-machined çš„å®¹å™¨ï¼ˆmymachines æ¨¡å—ï¼‰ï¼Œä¸æ˜¯çš„è¯å†é—®é—® systemd-resolved èƒ½ä¸èƒ½è§£æžï¼ˆresolve æ¨¡å—ï¼‰ï¼Œå¦‚æžœ systemd-resolved å¯ç”¨ï¼Œé‚£åˆ°è¿™ä¹Ÿå°±å®Œäº‹äº†ï¼ŒåŽé¢çš„å°±ä¸ç®¡äº†ï¼ˆ[!UNAVAIL=return]ï¼‰ï¼Œè‡³äºŽä¸ºä»€ä¹ˆæˆ‘ä¸€ä¼šè§£é‡Šï¼Œç„¶åŽ files æ¨¡å—ä¼šè¯» hosts æ–‡ä»¶ï¼Œæ‰€ä»¥å®ƒä¼˜å…ˆçº§æ€»æ˜¯é«˜äºŽ DNS æœåŠ¡å™¨ï¼Œç„¶åŽçœ‹çœ‹æ˜¯ä¸æ˜¯æœ¬æœºï¼ˆmyhostname æ¨¡å—ï¼‰ï¼Œç„¶åŽå†è¯» /etc/resolv.conf é‡Œé¢çš„ DNS æœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ã€‚\nå¯¹äºŽä¸€ä¸ªæ™®é€šçš„æ¡Œé¢ç”¨æˆ·ï¼Œåº”è¯¥ä½¿ç”¨çš„åªæ˜¯ Network Managerï¼Œé»˜è®¤ Network Manager ä¸ä¼šç”¨ systemd-resolvedï¼ŒäºŽæ˜¯å¤§éƒ¨åˆ†æƒ…å†µä¸€ä¸ªå¤–éƒ¨åŸŸåæœ€åŽè¿˜æ˜¯æŸ¥è¯¢ DNS æœåŠ¡å™¨ï¼Œå’Œä»¥å‰æ²¡ä»€ä¹ˆæœ¬è´¨åŒºåˆ«ã€‚é‚£ Network Manager ä½ ä¸ºä»€ä¹ˆè¦ä¿®æ”¹ /etc/resolv.confï¼ŸåŽŸå› ä¹‹ä¸€å°±æ˜¯ä¹‹å‰æåˆ°ä¸åŒçš„ VPN æœåŠ¡å¯èƒ½æœ‰ä¸åŒçš„ DNS æœåŠ¡å™¨ï¼Œå› æ­¤å»ºè®®è¿™äº›ç”¨æˆ·ä¸è¦æ‰‹åŠ¨ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥ç›´æŽ¥åœ¨ Network Manager çš„è¿žæŽ¥é…ç½®é‡Œè®¾ç½®æŸä¸ªè¿žæŽ¥çš„ DNS æœåŠ¡å™¨ã€‚\né‚£ systemd-resolved åˆæ˜¯ä»€ä¹ˆçŽ©æ„ï¼Ÿæ˜¯ä¸æ˜¯ systemd ä½œè€…åˆè¦æžå‡ºä»€ä¹ˆèŠ±æ ·æ›¿æ¢æˆ‘ä¹ æƒ¯çš„ä¸œè¥¿ï¼Ÿä½†è¿™ä¸œè¥¿å¥½åƒè¿˜çœŸæ˜¯æœ‰äº›å®žé™…çš„éœ€æ±‚ï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªç®€å•çš„ /etc/resolv.conf çš„ç®¡ç†å·¥å…·ï¼Œè€Œå¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªè‡ªå¸¦ç¼“å­˜çš„ DNS æœåŠ¡å™¨ã€‚glibc é€šè¿‡ /etc/resolv.conf é‡Œé¢çš„ DNS æœåŠ¡å™¨æŸ¥è¯¢ DNS å…¶å®žæ˜¯ä¸åšç¼“å­˜çš„ï¼Œæœ‰äº›åœºæ™¯ç”¨æˆ·å¯èƒ½å¸Œæœ›èƒ½è‡ªå·±ç¼“å­˜ç»“æžœåŠ å¿«é€Ÿåº¦ï¼Œè¿™æ—¶å€™å°±éœ€è¦æžè¿™ä¸ªä¸œè¥¿äº†ï¼Œå®ƒè‡ªå·±æ˜¯ä¸€ä¸ª DNS æœåŠ¡å™¨ï¼Œå› æ­¤ä¹Ÿå°±ä¸å†æ‰§è¡Œ nsswitch é‡Œé¢åŽç»­çš„ç»„ä»¶ï¼ˆç”¨ä½ çš„ dns æ¨¡å—æŸ¥è¯¢äº†æˆ‘æ€Žä¹ˆç¼“å­˜ï¼Ÿï¼‰ã€‚é™¤æ­¤ä¹‹å¤–å®ƒè¿˜å£°ç§°è‡ªå·±æä¾›äº†ä¸€ä¸ªæ›´å¥½çš„ D-Bus æŽ¥å£ç”¨æ¥è§£æžï¼Œè€Œä¸æ˜¯ç”¨ getaddrinfoï¼Œä¸è¿‡è¯åˆè¯´å›žæ¥ï¼Œè°é—²å¾—æ²¡äº‹åŽ»æ”¯æŒä½ è¿™æ–°æžçš„ D-Bus APIï¼Œç‰¹åˆ«æ˜¯ä½ è‡ªå·±è¿˜æžäº†ä¸ª getaddrinfo çš„æ¨¡å—ã€‚ä¸»è§‚æ¥è¯´æˆ‘å…¶å®žä¸æŽ¨èä¸€èˆ¬çš„æ¡Œé¢ç”¨æˆ·é…ç½®è¿™ä¸ªï¼Œå› ä¸ºå¤§æ¦‚çŽ‡ä½ æ˜¯åœ¨ä¸€ä¸ªè·¯ç”±å™¨åŽé¢ï¼Œä½ çš„ DNS æœåŠ¡å™¨ä¸€èˆ¬è®¾ç½®çš„éƒ½æ˜¯è·¯ç”±å™¨ï¼Œè€Œè·¯ç”±å™¨ä¸Šçš„ DNS æœåŠ¡å™¨ä¸€èˆ¬ä¼šåšç¼“å­˜ï¼Œæ‰€ä»¥å…¶å®žå®Œå…¨æ²¡å¿…è¦åœ¨è‡ªå·±ç”µè„‘ä¸Šå¯ç”¨è¿™ä¸ªâ€¦â€¦æˆ‘ä¹Ÿæ²¡é‡åˆ°ä»»ä½•ä¸€å®šè¦ä½¿ç”¨å®ƒè¿™ä¸ª D-Bus API çš„ç¨‹åºã€‚é‚£ systemd-resolved ä½ ä¸ºä»€ä¹ˆè¦ä¿®æ”¹ /etc/resolv.confï¼ŸåŽŸå› æ˜¯ä¸ºäº†å…¼å®¹é‚£äº›ç›´æŽ¥è¯»è¿™ä¸ªçš„ä¸Šå¤ç¨‹åºï¼Œå®žé™…ä¸Šäººå®¶å°±åœ¨è¿™é‡Œå†™ä¸€è¡Œï¼Œå°±æ˜¯è®©è¿™äº›ç¨‹åºåŽ»æŸ¥ systemd-resolved å†…ç½®çš„ DNS æœåŠ¡å™¨ã€‚\né‚£è‡³äºŽ resolvconf åˆæ˜¯å•¥ï¼Ÿè¿™æ˜¯ä¸€ä¸ªå« openresolv çš„é¡¹ç›®æžå‡ºæ¥çš„ä¸œè¥¿ï¼Œéœ€æ±‚å°±æ˜¯æœ‰å„ç§ç¨‹åºéƒ½æ‰“ç®—è‡ªå·±ä¿®æ”¹ /etc/resolv.confï¼Œä¸å•å•æ˜¯ä¸Šé¢é‚£ä¸¤ä¸ªï¼Œè¿˜æœ‰ä¸€äº› VPN æœåŠ¡ä¹‹ç±»çš„ï¼Œé‚£ä½ ä»¬å¹²è„†éƒ½åˆ«ç®¡äº†ï¼Œæˆ‘æ¥ç®¡ï¼Œå¬æˆ‘çš„ï¼ˆçŽ°åœ¨æœ‰ N + 1 ç§è§£å†³æ–¹æ¡ˆäº†ï¼‰ã€‚ä½†å®žé™…ä¸Šæˆ‘ä¹Ÿä¸æŽ¨èä½ ä½¿ç”¨è¿™ä¸ªï¼Œå› ä¸ºæ¡Œé¢ç”¨æˆ·æ ¹æœ¬æ²¡æœ‰ä½¿ç”¨åœºæ™¯ï¼Œä½ ç”¨ Network Manager çš„è¯ï¼Œå°±ä¸è¦å†å•ç‹¬ä½¿ç”¨ä»€ä¹ˆ VPN å·¥å…·ï¼Œå› ä¸º Network Manager æœ¬èº«æ”¯æŒå¾ˆå¤šç§ VPN è¿žæŽ¥ï¼Œä½ ç›´æŽ¥ç”¨å®ƒç®¡ç†å°±å¥½äº†ã€‚å°±ç®—ä½ éœ€è¦ç”¨ systemd-resolvedï¼Œå…¶å®žè¿™ä¸ªä¹Ÿæ›¿ä½ è€ƒè™‘å¥½äº†ï¼ŒNetwork Manager æ”¯æŒ systemd-resolvedï¼Œæ£€æµ‹åˆ°ä½ ç”¨å®ƒçš„è¯ï¼Œå°±ä¸ä¼šåŽ»æ”¹ /etc/resolv.confï¼Œè€Œæ˜¯ç›´æŽ¥åŽ»ä¿®æ”¹ systemd-resolved çš„é…ç½®äº†ã€‚\næ›´æ–°ï¼ˆ2023-09-07ï¼‰ï¼šæ„Ÿè§‰å…‰é å˜´è¯´è¿˜æ˜¯ä¸å¤ªæ¸…æ¥šï¼Œæˆ‘ç”»äº†ä¸€å¼ å›¾â€¦â€¦\n\næ‰€ä»¥ä½ å¯ä»¥çœ‹åˆ° Network Manager é»˜è®¤å…¶å®žå¹¶ä¸å‚ä¸Ž DNS è§£æžï¼Œå®ƒåªæ˜¯æ–¹ä¾¿åˆ°å¤„è·‘çš„ç¬”è®°æœ¬ç”¨æˆ·èƒ½ç”¨ä¸Šå„ä¸ªå±€åŸŸç½‘å†…çš„ DNS æœåŠ¡å™¨è€Œå·²ã€‚\nè®¡ç®—æœºç§‘å­¦æ˜¯é—¨è‰ºæœ¯ï¼Œå½“ä¸”ä»…å½“ä½ ä¸éœ€è¦è€ƒè™‘å…¼å®¹æ€§çš„æ—¶å€™â€¦â€¦\né‚£è¯´å›žåˆ° mDNS è¿™ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆæˆ‘ä¸ç›´æŽ¥ç”¨ systemd-resolved è§£å†³å‘¢ï¼Ÿä¸€ä¸ªæ˜¯ä¸Šé¢æåˆ°çš„æˆ‘ä¸éœ€è¦å†åšä¸€æ¬¡ DNS ç¼“å­˜äº†ï¼Œå¦ä¸€ä¸ªæ˜¯å› ä¸º CUPS è¿™ä¸ªæ‰“å°æœåŠ¡ä¾èµ– Avahiï¼Œå®ƒå…¶å®žä¸åªç”¨åˆ° mDNSï¼Œè¿˜ç”¨åˆ°äº† Zeroconf é‡Œé¢å…¶å®ƒçš„åŠŸèƒ½æ¯”å¦‚å‘çŽ°è®¾å¤‡åŽ»è¿žæŽ¥æ‰“å°æœºï¼Œè™½ç„¶æˆ‘æš‚æ—¶ä¹Ÿç”¨ä¸åˆ° CUPSï¼Œä½†æˆ‘ç¡®å®žæ˜¯ä¸æƒ³æž systemd-resolved çš„ DNS æœåŠ¡å™¨äº†ï¼Œè¿˜æ˜¯é…ç½® Avahi å§ã€‚å½“ç„¶å‡å¦‚ä½ è¯´æˆ‘æ—¢æƒ³è¦ systemd-resolved çš„ DNS ç¼“å­˜å’Œ D-Bus API åˆæƒ³è¦ Avahi çš„ Zeroconf æ€Žä¹ˆåŠžå‘¢ï¼Ÿé¢ï¼Œå…¶å®žä¹Ÿæœ‰åŠžæ³•ï¼Œsystemd-resolved æä¾›äº†é€‰é¡¹è®©ä½ å…³æŽ‰å®ƒçš„ mDNS åŠŸèƒ½ï¼Œå…·ä½“æˆ‘æ²¡æœ‰å°è¯•ï¼Œä¸è¿‡è¿™æ ·åº”è¯¥å°±ä¸ä¼šå†²çªäº†ã€‚æ‰€ä»¥ä¸è¦è§åˆ°ç‚¹æ–°ä¸œè¥¿å°±ç”Ÿæ°”ï¼Œäººå®¶æŠŠå„ç§å…¼å®¹çš„ä¸œè¥¿éƒ½è€ƒè™‘åˆ°äº†ï¼Œçœ‹ä¸¤çœ¼æ–‡æ¡£è¿˜ä¸è¡Œå—â€¦â€¦\nç„¶åŽæžæ¸…æ¥šæ•´ä¸ªæµç¨‹ä¹‹åŽ Avahi çš„é…ç½®å…¶å®žä¸éš¾ï¼Œé¦–å…ˆå®‰è£… nss-mdns è¿™ä¸ªåŒ…ï¼Œé¡¾åæ€ä¹‰æ˜¯ç»™ nsswitch æä¾› mdns æ¨¡å—ï¼Œç„¶åŽå¯åŠ¨ avahi-daemon.serviceï¼Œç„¶åŽç¼–è¾‘ /etc/nsswitch.confï¼Œåœ¨ resolve æ¨¡å—ä¹‹å‰åŠ å…¥ mdns4_minimal [NOTFOUND=return]ï¼š\nhosts: mymachines mdns4 resolve [!UNAVAIL=return] files myhostname dns\n\nmdns4 æ¨¡å—ä¼šè¯•å›¾é€šè¿‡ mDNS ä¹Ÿå°±æ˜¯æ‰¾ç½‘ç»œä¸Šå…¶å®ƒçš„ Zeroconf åè®®è®¾å¤‡æ¥è§£æž IPv4 åœ°å€ï¼Œ4 è¡¨ç¤ºåªå°è¯• IPv4ï¼Œå› ä¸ºè¿™ç§å†…ç½‘è®¾å¤‡å¤šåŠä½ ä¸ä¼šç»™å®ƒåˆ†é… IPv6ï¼Œå½“ç„¶ä¹Ÿæœ‰ 6 å’Œæ²¡æœ‰æ•°å­—åŒæ—¶æ”¯æŒä¸¤ç§çš„ï¼Œä¸è¿‡ç”±äºŽçŽ°åœ¨çš„ç¨‹åºéƒ½ä¼˜å…ˆæŸ¥è¯¢ IPv6ï¼Œè€Œæˆ‘åªç»™ç›´è¿žé…ç½®äº† IPv4ï¼Œæ‰€ä»¥å¦‚æžœä¸ç”¨åªæ”¯æŒ 4 çš„ï¼Œå°±ä¼š fallback åˆ°åŽé¢çš„æ¨¡å—ï¼Œé‚£å°±è·‘åˆ°è·¯ç”±å™¨ä¸ŠæŸ¥åŽ»äº†ï¼Œæˆ‘å°±æ˜¯ä¸æƒ³èµ°è·¯ç”±å™¨çš„ã€‚\nè¯»è€…çœ‹çˆ½äº†ï¼Œä½†å¥½åƒç»“æžœä¸æ˜¯æˆ‘æƒ³è¦çš„â€¦â€¦\nç­‰åˆ°æˆ‘æŠŠæ‰€æœ‰çš„ä¸œè¥¿éƒ½æžå¥½ä»¥åŽæˆ‘å‘çŽ°ä¸€ä¸ªé—®é¢˜â€¦â€¦mDNS è™½ç„¶è¯´æ˜¯å­ç½‘ä¸Šçš„è®¾å¤‡äº’ç›¸å‘çŽ°ï¼Œä½†æ˜¯å®ƒæ²¡è§„å®šæ˜¯å“ªä¸ªå­ç½‘â€¦â€¦äºŽæ˜¯å–œé—»ä¹è§çš„æ¯æ¬¡ getent ahosts timbersaw.local æŸ¥è¯¢ç»™æˆ‘è¿”å›žä¸ä¸€æ ·çš„ IPï¼Œä¸€ä¼šæ˜¯ 10.10.10.2 ä¸€ä¼šæ˜¯ 192.168.1.80ï¼Œçœ‹èµ·æ¥è¿˜æ˜¯å†™ hosts æ¯”è¾ƒé è°±â€¦â€¦\næœ€åŽæˆ‘çš„é…ç½®æ˜¯ä¸ç”¨ mdns4ï¼Œè€Œæ˜¯ç”¨ mdns4_minimalï¼Œè¿™ä¸¤ä¸ªçš„åŒºåˆ«æ˜¯åŽè€…åªè€ƒè™‘ .local ç»“å°¾çš„åŸŸåï¼Œå¹¶ä¸”å¦‚æžœæŸ¥æ‰¾ä¸åˆ°çš„è¯ç›´æŽ¥è¿”å›ž NOTFOUNDï¼Œè€Œä¸æ˜¯ç»§ç»­ fallbackï¼š\nhosts: mymachines mdns4_minimal [NOTFOUND=return] resolve [!UNAVAIL=return] files myhostname dns\n\nç„¶åŽå†ä¿®æ”¹ /etc/hosts åˆ†åˆ«æ·»åŠ ä¸å¸¦ .local çš„ä¸»æœºåï¼ˆå› ä¸º .local ä¼šåœ¨ files ä¹‹å‰å…ˆè¢« mDNS å¤„ç†ï¼‰ã€‚\nå½“ä½ è§‰å¾—é€æ¸ç†è§£ä¸€åˆ‡ï¼Œå¹¶è¯•å›¾èµ°å‡ºæ–°æ‰‹æ‘â€¦â€¦\nè¿™ä¸€éƒ¨åˆ†æ›´æ–°äºŽ 2024-02-01 18:15:00ã€‚å› ä¸ºæˆ‘çš„ç½‘ç»œé…ç½®ç»ˆäºŽçªç ´äº†â€œåªè¦å…¨éƒ¨äº¤ç»™ NetworkManager å°±èƒ½è§£å†³â€çš„èŒƒå›´ã€‚\n\né¦–å…ˆæˆ‘è¿˜æ˜¯åº”è¯¥å¯¹ä¹‹å‰çš„é€»è¾‘åšä¸€ä¸‹æ€»ç»“ï¼Œå…¶å®žå…³é”®æ— éžæ˜¯ä¸€å¥è¯ï¼šéœ€è¦æ·»åŠ æ–°çš„ DNS æœåŠ¡å™¨çš„åœºæ™¯æœ‰å¾ˆå¤šï¼Œä½†ç®¡ç† /etc/resolv.conf çš„ç¨‹åºåªèƒ½æœ‰ä¸€ä¸ªã€‚æ¯”å¦‚è¯´ä½ è¿žæŽ¥åˆ°å®¶é‡Œçš„ç½‘ç»œï¼Œé‚£ä½ é¦–å…ˆä¼šå¸Œæœ›è‡ªå·±çš„ DNS æœåŠ¡å™¨æ˜¯è·¯ç”±å™¨ã€‚ç„¶åŽè¿™æ—¶ä½ éœ€è¦è¿žæŽ¥åˆ°å…¬å¸çš„ VPNï¼Œé‚£ä½ ä¼šå¤šå‡ºä¸€ä¸ª VPN çš„ DNS æœåŠ¡å™¨ç”¨æ¥æŸ¥è¯¢å†…ç½‘åŸŸåï¼Œå¹¶ä¸”åªåº”è¯¥å¯¹å†…ç½‘åŸŸåæŸ¥è¯¢è¿™ä¸ª DNS æœåŠ¡å™¨ã€‚å¦‚æžœä½ é€‰æ‹©ç”¨ NetworkManager ç®¡ç† /etc/resolv.confï¼Œé‚£ä½ ä¹Ÿåº”è¯¥ä½¿ç”¨ NetworkManager çš„ VPN æ’ä»¶ï¼Œé€šè¿‡ NetworkManager åŽ»ä¿®æ”¹ /etc/resolv.confã€‚äºŽæ˜¯å°±ä¸å†éœ€è¦é¢å¤–çš„è¿›ç¨‹ç®¡ç† DNS æŸ¥è¯¢ã€‚\nè€Œä½¿æˆ‘å†³å®šæœ€åŽæ”¹ç”¨ systemd-resolved ç®¡ç† DNS æŸ¥è¯¢çš„åŽŸå› æ˜¯æˆ‘å¼€å§‹ä½¿ç”¨ Tailscale/Headscale æž„å»ºä¸€ä¸ªæˆ‘è‡ªå·±çš„ VPN ç½‘ç»œã€‚Tailscale åŒ…å«ä¸€ä¸ªå«åš MagicDNS çš„ç»„ä»¶ï¼Œå¯ä»¥è®©ä½ åƒä½¿ç”¨è·¯ç”±å™¨çš„ DNS ä¸€æ ·é€šè¿‡ä¸»æœºåè®¿é—®è¿™ä¸ªè™šæ‹Ÿä¸“ç”¨ç½‘é‡Œçš„è®¾å¤‡ï¼Œæ­¤æ—¶å®ƒä¼šç›´æŽ¥è¦†ç›–æŽ‰ /etc/resolv.conf è®© DNS æŸ¥è¯¢èµ°å®ƒè‡ªå·±çš„ DNS æœåŠ¡å™¨ï¼Œè¿™å¯¼è‡´æˆ‘çš„ OpenVPN çš„ DNS æœåŠ¡å™¨è¢«æ¸…æŽ‰ï¼Œæ— æ³•åŒæ—¶è®¿é—®å…¬å¸çš„å†…ç½‘ã€‚\nå¦‚æžœä½ å·²ç»ç†è§£ä¸€åˆ‡ï¼Œè§£å†³æ–¹æ¡ˆåº”è¯¥ä¹Ÿå¾ˆæ¸…æ™°ï¼šè¦ä¹ˆæŠŠ Tailscale ä¹Ÿæ¢æˆ NetworkManager çš„æ’ä»¶ç‰ˆæœ¬ï¼ˆä¸å­˜åœ¨ï¼‰ï¼Œè¦ä¹ˆä½¿ç”¨å¦ä¸€ä¸ªä¸“é—¨ç®¡ç† /etc/resolv.conf çš„å·¥å…·ï¼ˆsystemd-resolvedï¼‰è®© Tailscale å’Œ NetworkManager éƒ½äº¤ç»™å®ƒç®¡ç†ä»Žè€Œä¸è¦äº’ç›¸è¦†ç›–ã€‚è€ƒè™‘åˆ° Avahi çš„ mDNS å¹¶æ²¡æœ‰åƒæˆ‘æƒ³è±¡çš„é‚£æ ·å·¥ä½œï¼Œæˆ‘æ¯«ä¸çŠ¹è±«çš„å¹²æŽ‰äº†å®ƒæ¢æˆäº† systemd-resolvedã€‚\nå¹²æŽ‰ Avahi çš„éƒ¨åˆ†æš‚ä¸”ä¸æï¼Œå¯ç”¨ systemd-resolved çš„è¿‡ç¨‹éœ€è¦é¢å¤–æ“ä½œï¼š\n# systemctl enable --now systemd-resolved\n# ln -sf ../run/systemd/resolve/stub-resolv.conf /etc/resolv.conf\n\næŒ‰ç…§ä¹‹å‰è®²çš„ï¼Œå»ºç«‹è½¯é“¾æŽ¥æ˜¯ä¸ºäº†è®©é‚£äº›è€æŽ‰ç‰™çš„ç¨‹åºä¹Ÿä½¿ç”¨ systemd-resolved å†…ç½®çš„ DNS æœåŠ¡å™¨ï¼ŒäºŽæ˜¯å¤§å®¶çŽ°åœ¨éƒ½èµ° systemd-resolved è¿›è¡ŒæŸ¥è¯¢ã€‚ç„¶åŽ Tailscale å’Œ NetworkManager éƒ½æ”¯æŒ systemd-resolvedï¼Œæ£€æµ‹åˆ°è¿™ä¸ªè½¯é“¾æŽ¥å°±ä¸ä¼šå°è¯•ç›´æŽ¥è¦†ç›– /etc/resolv.confï¼Œè€Œæ˜¯é€šçŸ¥ systemd-resolved æ·»åŠ è‡ªå·±çš„ DNS è§£æžã€‚\nç„¶åŽé‡å¯ NetworkManager å’Œ Tailscaleï¼š\n# systemctl restart NetworkManager\n# systemctl restart tailscaled\n\nä½†ä»¥ä¸Šæ­¥éª¤åªæ˜¯è®©å®ƒä»¬çš„ DNS æœåŠ¡å™¨è®¾ç½®å¯ä»¥å…±å­˜ï¼Œå…·ä½“å¯¹äºŽå“ªäº›åŸŸåé€šè¿‡å“ªä¸ª DNS æœåŠ¡å™¨æŸ¥è¯¢ï¼Œæ˜¯å„ä¸ªç¨‹åºè‡ªå·±è®¾ç½®çš„ï¼ŒTailscale å…¶å®žä¼šæ­£ç¡®çš„å‘Šè¯‰ systemd-resolved è‡ªå·±è¦å¤„ç†çš„åŸŸåï¼Œä½†å¯¹äºŽæˆ‘çš„ OpenVPN æˆ‘å‘çŽ°éœ€è¦æˆ‘æ‰‹åŠ¨è®¾ç½®ï¼Œç”±äºŽæˆ‘æ˜¯ä½¿ç”¨ NetworkManager ç®¡ç†æˆ‘çš„ OpenVPNï¼Œæ‰€ä»¥éœ€è¦æ‰§è¡Œ nmcli connection edit VPN-CONNECTIONï¼Œç„¶åŽ set ipv4.dns-search a.internal,b.internal è¿™æ ·ï¼ˆçœ‹èµ·æ¥ NetworkManager çš„ GUI é‡Œæ²¡æ³•ä¿®æ”¹è¿™ä¸ªï¼‰ï¼Œç„¶åŽå†é‡æ–°å¼€å¯ VPN æ—¶å€™ï¼Œä½ å°±å¯ä»¥é€šè¿‡ resolvectl çœ‹åˆ° OpenVPN çš„ DNS æ·»åŠ äº†æ­£ç¡®çš„æœç´¢èŒƒå›´ã€‚\n"},{"title":"ä¸åº”è¯¥åš EVAï¼Œè€Œåº”è¯¥åšçŽ¯å¤ªå¹³æ´‹","url":"/posts/Not-to-Be-EVA-but-to-Be-Pacific-Rim/","content":"æƒ³å¿…æŠŠ 2018 å¹´çš„ DARLING in the FRANXX ï¼ˆåå­—å¤ªé•¿äº†ï¼ŒåŽé¢ç®€ç§° DitF å§ï¼‰ç§°ä½œæœ‰äº‰è®®çš„ä½œå“åº”è¯¥ä¸ä¼šæœ‰äººåå¯¹ï¼Œä¸è¿‡æˆ‘æ°å¥½æ˜¯ä¸ªä¸å–œæ¬¢è¿½æ–°ç•ªçš„äººï¼Œä¸ç„¶ä¹Ÿè®¸æˆ‘åœ¨ 2018 å¹´å†™ç¯‡å…³äºŽè¿™ä¸ªçš„åšå®¢åº”è¯¥ä¼šèƒ½èŽ·å¾—ä¸å°‘ç‚¹å‡»é‡ã€‚æ€»ä¹‹æˆ‘åœ¨ 2022 å¹´ä¸‹è½½äº†å…¨é›†å¹¶ä¸”å‡ ä¹Žæ˜¯ä¸é—´æ–­çš„åœ¨ä¸‰å¤©ä¹‹å†…çœ‹å®Œäº†ï¼Œå¯èƒ½ä¸æ˜¯ç‰¹åˆ«å¥½è¯„ä»·ï¼Œä½†æ˜¯è§‰å¾—è¿˜æ˜¯å¾—å†™ç‚¹ä»€ä¹ˆã€‚å¦‚æžœè¯»è€…è§‰å¾—â€œæ€Žä¹ˆå¤è¯»äº†å¾ˆå¤šå·²æœ‰çš„è§‚ç‚¹â€æˆ–è€…â€œå’Œæˆ‘æƒ³çœ‹çš„å®Œå…¨ä¸ä¸€æ ·â€ï¼Œè¿˜éº»çƒ¦å¤šåŒ…æ¶µæˆ–è€…è‡ªè¡Œå…³é—­æ ‡ç­¾é¡µã€‚\n\n\næˆ‘è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªä¼˜ç‚¹å’Œç¼ºç‚¹åŒæ ·çªå‡ºçš„ä½œå“ï¼Œå€’ä¸åƒå¾ˆå¤šäººè§‰å¾—æ˜¯çƒ‚å°¾ï¼Œç»“å°¾è‡³å°‘æƒ…ç†ä¹‹ä¸­å¯ä»¥æŽ¥å—ã€‚ä¸»è¦é—®é¢˜æ˜¯åœ¨äºŽå¡‘é€ äººç‰©å½¢è±¡å’Œå®Œå–„èƒŒæ™¯è®¾å®šä¹‹é—´çš„å†²çªï¼Œä¹Ÿå°±æ˜¯æ ‡é¢˜é‡Œå†™çš„â€œä¸åº”è¯¥åš EVAï¼Œè€Œåº”è¯¥åšçŽ¯å¤ªå¹³æ´‹â€ã€‚çœ‹å®Œä¹‹åŽæˆ‘åŠå¼€çŽ©ç¬‘åœ°å’Œ @åžš è¯´ï¼šâ€œéƒ½æ€ªåºµé‡Žç§€æ˜Žï¼Œéžè¦åœ¨å·¨å¤§æœºå™¨äººåŠ¨ç”»é‡Œé¢åŠ ä¸Šä¸€å †åä¹Œæ‰˜é‚¦æœ«ä¸–çŽ„å­¦å®—æ•™çš„èƒŒæ™¯è®¾å®šï¼Œå¯¼è‡´åŽæ¥çš„å·¨å¤§æœºå™¨äººåŠ¨ç”»ä¸è¿™ä¹ˆåšå°±å¥½åƒç¼ºäº†ç‚¹ä»€ä¹ˆä¸€æ ·ã€‚â€æˆ‘å…¶å®žå¯¹å·¨å¤§æœºå™¨äººåŠ¨ç”»ä¸ç®—æ˜¯ä¸“å®¶ï¼ˆæ¯”å¦‚æˆ‘æ˜¾ç„¶æ²¡çœ‹è¿‡é«˜è¾¾ï¼‰ï¼Œä½†æˆ‘è§‰å¾—å¯¹ EVA è¿˜ç®—æ˜¯ç†Ÿæ‚‰ã€‚\nè™½ç„¶æˆ‘æƒ³è¯´çš„é—®é¢˜æ˜¯å‰§æƒ…æ–¹é¢çš„ï¼Œä¸è¿‡è¿˜æ˜¯è¦ç®€å•æä¸€ä¸‹ä½œç”»ã€‚@åžš å’Œæˆ‘è¡¨ç¤ºä»–ä¸€å¼€å§‹æ˜¯å¥”ç€ TRIGGER æ‰åŽ»çœ‹çš„ DitFï¼Œç»“æžœçœ‹è¿‡ä¹‹åŽå¯¹äºŽåŠ¨ä½œåœºé¢å¤§å¤±æ‰€æœ›ã€‚æˆ‘å…¶å®žä¹Ÿä¸æ˜¯ç‰¹åˆ«äº†è§£ TRIGGERï¼Œåªæ˜¯ä¹‹å‰è¢«ä»–æ‹‰åŽ»ç”µå½±é™¢çœ‹äº†æ™®ç½—ç±³äºšã€‚ä¸€å®šè¦æ¯”è¾ƒçš„è¯ç¡®å®žä¸ç®¡æ˜¯ç¾Žæœ¯é£Žæ ¼è¿˜æ˜¯åŠ¨ä½œåœºé¢éƒ½æ²¡æœ‰æ™®ç½—ç±³äºšé‚£ä¹ˆæœ‰ç‰¹è‰²ï¼Œä½†æˆ‘è¿˜æ˜¯è§‰å¾—è‡³å°‘åœ¨åŠæ ¼çº¿ä»¥ä¸Šäº†ã€‚æˆ‘è§‰å¾—ç‰¹åˆ«å‡ºè‰²çš„æ˜¯æœºä½“çš„è®¾è®¡ï¼Œä¸ç®¡æ˜¯ EVA è¿˜æ˜¯çŽ¯å¤ªå¹³æ´‹ï¼Œæœºä½“è®¾è®¡éƒ½æ˜¯åå‘æœºæ¢°åŒ–çš„ï¼ˆè™½ç„¶ EVA å†…åœ¨æ˜¯ç”Ÿç‰©ï¼Œä½†æ˜¯å¤–è¡¨ä»ç„¶æ˜¯æœºæ¢°ï¼‰ï¼ŒåŒæ—¶æ˜¯ç”·æ€§åŒ–çš„è®¾è®¡ã€‚æˆ‘è¿˜æ˜¯å¤´ä¸€æ¬¡åœ¨åŠ¨æ¼«é‡Œçœ‹åˆ°å¥³æ€§å½¢è±¡å’Œä¸æ˜¯ç‰¹åˆ«æœºæ¢°åŒ–è®¾è®¡çš„æœºä½“ï¼Œè€Œä¸”ç”šè‡³æœ‰ä¸°å¯Œçš„è¡¨æƒ…ï¼Œéžå¸¸æ–°é²œçš„åŒæ—¶ä¹Ÿå¾ˆç¬¦åˆè®¾å®šï¼ˆå®žé™…ä¸ŠåŠ¨ç”»é‡Œå¾ˆå¤šæ—¶å€™ä½¿ç”¨äº† FRANXX çš„å½¢è±¡ä»£æ›¿å¥³æ€§å¯„é©¶å‘˜ï¼‰ï¼Œå±žäºŽæ˜¯ä¸€ä¸ªå·¨å¤§çš„åŠ åˆ†é¡¹ã€‚å«é¾™çš„è®¾è®¡ä¹Ÿç®—æ–°é²œï¼Œè‡³å°‘å¯¹æˆ‘æ¥è¯´ï¼Œçœ‹ç¬¬ä¸€é›†çš„æ—¶å€™æˆ‘æ˜Žæ˜ŽæœŸå¾…çš„æ˜¯å‡ºæ¥ä¸€ä¸ªä¼ ç»Ÿçš„æ€ªå…½å½¢è±¡çš„ï¼Œç»“æžœå‡ºæ¥çš„æ˜¯è¿™ä¹ˆä¸€ç§å¯ä»¥ç®—æ˜¯æ”¾é£žè‡ªæˆ‘çš„ä¸œè¥¿ã€‚è™½ç„¶åœ¨é€»è¾‘ä¸Šå¯èƒ½æ¯”è¾ƒéš¾ä»¥è§£é‡Šå®ƒçš„å­˜åœ¨æ€§ï¼Œä¸è¿‡å¥½åœ¨æ˜¯åŠ¨æ¼«å˜›ï¼Œä¸éœ€è¦åœ¨é‡Œé¢æ‰¾çŽ°å®žã€‚ï¼ˆè¯è¯´å›žæ¥äº†è§£æˆ‘çš„æœ‹å‹åº”è¯¥çŸ¥é“æˆ‘æœ€å–œæ¬¢çš„æ•Œäººè®¾è®¡æ˜¯ NieR: Automata é‡Œé¢çš„æœºæ¢°ç”Ÿå‘½ä½“ã€‚ï¼‰\nç„¶åŽè¯´åˆ°æˆ‘æœ€å…³æ³¨çš„å‰§æƒ…äº†ï¼Œæˆ‘å§‹ç»ˆè®¤ä¸ºä½œå“çš„æ ¸å¿ƒæ˜¯å‰§æƒ…ã€‚è€Œä¸”å‰§æƒ…æ˜¯å¾ˆéš¾æŠŠæŽ§çš„ä¸œè¥¿ï¼Œç‰¹åˆ«æ˜¯å¯¹äºŽåŽŸåˆ›å‰§æƒ…çš„ä½œå“æ¥è¯´ï¼ŒæŠŠå‰§æƒ…å†™å¥½çœŸçš„æ˜¯ä¸€ç§ä¸å¤šè§çš„èƒ½åŠ›ã€‚åœ¨æˆ‘çœ‹æ¥ DitF åœ¨äººç‰©å½¢è±¡å’Œæ„Ÿæƒ…æˆä¸Šè¾¾åˆ°äº†ä¸€ä¸ªæžé«˜çš„é«˜åº¦ã€‚ä¸»è¦äººç‰©æœ‰å¾ˆå¤šï¼Œä½†æ˜¯æ¯ä¸ªäººçš„ä¸ªæ€§éƒ½å¾ˆæ¸…æ™°ï¼Œå¹¶ä¸”æˆ‘æ²¡æœ‰è§‰å¾—å“ªä¸ªäººçš„æ€§æ ¼ä»¤æˆ‘è®¨åŽŒã€‚åŒæ—¶æ•…äº‹æœ¬èº«ä¸æ˜¯ç®€å•ç›´ç™½ä¸€çœ¼çœ‹åˆ°å¤´çš„ç±»åž‹ã€‚æ¯”å¦‚ç¬¬ 13 é›†å°†æ•…äº‹æŽ¨å‘äº†é«˜æ½®ï¼Œä¸ä»…ä»…å› ä¸ºè¿™ä¸€é›†æœ¬èº«è®²è¿°çš„å†…å®¹éžå¸¸æ„Ÿäººï¼Œè€Œä¸”å°†æ•´ä¸ªå‰§æƒ…å‰åŠéƒ¨åˆ†åŸ‹ä¸‹çš„ä¼ç¬”å…¨éƒ¨éƒ½è¡”æŽ¥ä¸Šäº†ï¼ˆæˆ‘ç”šè‡³å·®ç‚¹ä»¥ä¸ºå‰§æƒ…è¦æŒ‰ç»˜æœ¬å‘å±•èµ°å‘ bad endï¼‰ã€‚è´¯ç©¿å…¨ç¯‡å‡ºçŽ°è¿‡ä¸æ­¢ä¸€æ¬¡çš„â€œæ¯”ç¿¼é¸Ÿâ€çš„æ¯”å–»ï¼Œä¹Ÿéžå¸¸çš„ç¬¦åˆä¸»é¢˜ã€‚ä½†æˆ‘åœ¨çœ‹ä¸€äº›äºŒåˆ›è§†é¢‘çš„æ—¶å€™è¿˜æ˜¯èƒ½çœ‹åˆ°ä¸€äº› 2018 å¹´çš„è¯„è®ºåœ¨è¯´ç¬¬ 14 é›†çš„å‰§æƒ…æ˜¯å–‚å±Žï¼Œæˆ‘ç¡®å®žå¯ä»¥ç†è§£è¿½æ›´çš„æœ‹å‹å½“åˆç­‰äº†ä¸€å‘¨ä¹‹åŽçœ‹åˆ°è¿™äº›é˜´å·®é˜³é”™ç„¶åŽè¿˜è¦æå¿ƒåŠèƒ†ç­‰ä¸Šä¸€å‘¨æ‰èƒ½çœ‹åˆ°ä¸‹ä¸€é›†çš„ç„¦èºå¿ƒæƒ…ï¼Œä½†è¿™ä¸€é›†çš„çŸ›ç›¾æ¿€åŒ–æˆåŠŸçš„åœ¨ä¸€ä¸ªé«˜æ½®ä¹‹åŽæŽ¨è¿›äº†å‰§æƒ…çš„èŠ‚å¥åŒæ—¶ä¸Žä¸‹ä¸€é›†çš„é«˜æ½®å½¢æˆå¯¹æ¯”ï¼Œè€Œä¸”è¿™ä¸€é›†çš„å†…å®¹éžå¸¸çš„åˆç†ï¼Œè™½ç„¶æ˜¯å„ç§å·§åˆï¼Œä½†åˆå¾ˆç¬¦åˆçŽ°å®žï¼Œç¬¦åˆäººç‰©çš„å¿ƒç†å’ŒåŠ¨æœºã€‚è‡³äºŽå…¶å®ƒä¸€äº›é£Žè¯„ä¸å¥½çš„éƒ¨åˆ†æ¯”å¦‚æ­æ¡£äº¤æ¢çš„å‰§æƒ…ï¼Œåªèƒ½è¯´æ˜¯è§ä»è§æ™ºï¼Œæœ‰äººä¸å–œæ¬¢æ— å¯åŽšéžï¼Œæˆ‘è¿˜æ˜¯è§‰å¾—è¿™éƒ¨åˆ†ä¹Ÿå¢žåŠ äº†æ•…äº‹çš„å¤æ‚æ€§ã€‚\nä½†æ˜¯ä¸Žå¡‘é€ äººç‰©å½¢è±¡å½¢æˆå¯¹æ¯”ï¼Œå®Œå–„èƒŒæ™¯è®¾å®šæ–¹é¢æˆ‘è®¤ä¸ºæœ‰æ¯”è¾ƒä¸¥é‡çš„ç¡¬ä¼¤ã€‚24 é›†é‡Œé¢åœ¨å‰åŠéƒ¨åˆ†ç®€å•ä»‹ç»äº†ä¸€ä¸ªå¯ä»¥è¯´æ˜¯åä¹Œæ‰˜é‚¦çš„è®¾å®šï¼Œç„¶åŽå¤§é‡çš„ç¯‡å¹…ç”¨æ¥åˆ»ç”»äººç‰©ä¹‹é—´çš„å…³ç³»å’Œäººç‰©ç»†è…»çš„å¿ƒç†æ´»åŠ¨ï¼Œç»“æžœåœ¨æ„Ÿæƒ…æˆè¾¾åˆ°é«˜æ½®ä¹‹åŽä»¿ä½›æ˜¯ç¼–å‰§çªç„¶æƒ³èµ·æ¥â€œå•Šï¼Œæˆ‘ä»¬æŒ–äº†å¥½å¤§çš„å‘è¿˜æ²¡å¡«å‘¢â€ä¸€æ ·ï¼Œå¼€å§‹åŒ†å¿™çš„å¡«ä¹‹å‰çš„å‘ã€‚æ¯”å¦‚æˆ‘åˆ°çŽ°åœ¨ä¹Ÿæ²¡æƒ³é€šåªåœ¨ç¬¬ 15 é›†é‡Œå‡ºçŽ°äº†ä¸€æ¬¡çš„é‚£ä¸ªå·¨å¤§çš„æ‰‹åˆ°åº•æ˜¯ä»€ä¹ˆå’Œæœ‰ä»€ä¹ˆå­˜åœ¨æ„ä¹‰ã€‚æ¯”å¦‚å«é¾™å…¬ä¸»åœ¨ç¬¬ 17 é›†å¼€å§‹æœ‰å¤§ç¯‡å¹…çš„å‰§æƒ…ä¹‹å‰å‡ ä¹Žæ²¡æœ‰ä»»ä½•é“ºåž«ï¼ˆä½ åˆ«å‘Šè¯‰æˆ‘ç¬¬ 15 é›†æ ¸å¿ƒé‡ŒæŽ‰å‡ºæ¥çš„å°äººå°±ç®—é“ºåž«äº†ï¼‰ï¼Œè¿™å’Œæ„Ÿæƒ…æˆéƒ¨åˆ†å„ç§ä¼ç¬”å…ˆæ”¾å¥½ç„¶åŽå†è¡”æŽ¥å®Œå…¨ä¸åƒæ˜¯ä¸€éƒ¨ä½œå“çš„é£Žæ ¼ï¼Œåæ­£ä½ è®©æˆ‘çœ‹åˆ°å‰åŠæ®µå„ç§å«é¾™å‡ºçŽ°ä¹‹åŽæ˜¯æƒ³ä¸åˆ°æœ‰è¿™ä¹ˆä¸€ä¸ªä¸ªä½“çš„å­˜åœ¨çš„ã€‚ç¬¬ 19 é›†é€šè¿‡ä»‹ç»åšå£«çš„è§’åº¦ä»‹ç»äº†äººç±»å‘ä¸æ­»æ–¹å‘çš„å‘å±•ï¼Œå¤šå°‘ç®—æ˜¯æˆåŠŸåœ°å¡«äº†ä¸€éƒ¨åˆ†å‘ã€‚ç„¶åŽæ•´ä¸ªä½œå“ä¼¼ä¹Žå°±é™·å…¥äº†â€œç¼–å‰§å‘çŽ°è¿˜å‰©äº”é›†äº†å¡«ä¸å®Œå‘äº†äºŽæ˜¯å¼€å§‹æ”¾é£žè‡ªæˆ‘â€çš„æ–¹å‘å‘å±•äº†ï¼Œæ˜Ÿå®žä½“æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿä¹‹å‰å®Œå…¨æ²¡é“ºåž«è¿‡ï¼ŒçŽ°åœ¨å¼ºè¡Œåœ¨ä¸€é›†å†…å¡žç»™è§‚ä¼—ã€‚é¹¤æœ›å…°Â·å¤©ç‡•åº§åˆæ˜¯æ€Žä¹ˆæ¥çš„ï¼Ÿå°±ç®—ä¸åœ¨åŠ¨æ¼«é‡Œæ‰¾çŽ°å®žï¼Œè¿™ä¹Ÿè¿‡äºŽä¸ç¬¦åˆé€»è¾‘äº†ï¼Œçœ‹çœ‹åˆ«çš„å«é¾™æ˜¯ä»€ä¹ˆæ ·å­ï¼Œå®ƒä»¬æ€Žä¹ˆæžå‡ºè¿™ä¹ˆä¸ªé€ åž‹çš„å•Šã€‚åˆ°åº•æ˜¯åšå£«å‘ç™«äº†è¿˜æ˜¯ç¼–å‰§å‘ç™«äº†ï¼Ÿç„¶åŽå¯èƒ½æ˜¯ç”±äºŽå®žåœ¨æ²¡åŠžæ³•äº†ï¼Œæœºæ¢°é™ç¥žä¸€ä¸ªæœ€å¤§åæ´¾å«åš VIRMï¼Œè¿™å·²ç»ä¸æ˜¯ç¡¬ä¼¤äº†ï¼Œè¿™æ˜¯ç›´æŽ¥ä¸€åˆ€æŠŠè„‘è¢‹ç æŽ‰ä»Žè„–å­å¾€ä¸‹æˆªè‚¢äº†ã€‚äºŽæ˜¯ä¸€ä¸ªå®Œå…¨æ²¡æœ‰é“ºåž«ï¼Œæ€ç»´åŠå…¶ç®€å•ï¼Œåšäº‹ä¸è®²é€»è¾‘çš„å·¥å…· boss å‡ºçŽ°äº†â€¦â€¦ä½ å¯ä»¥å‘Šè¯‰æˆ‘æ‰“äº†åŠå¹´çš„æ•Œäººå¹¶ä¸æ˜¯çœŸæ­£çš„æ•Œäººï¼Œä½†æˆ‘ä¸èƒ½å®¹å¿ä½ ç”¨è¿™ä¹ˆä¸€ç§ä¾®è¾±è§‚ä¼—æ™ºå•†çš„æ–¹å¼å‘Šè¯‰æˆ‘è¿™ä¸ªäº‹å®žã€‚ç„¶åŽå†ä¸€æ¬¡æ”¾é£žè‡ªæˆ‘æŠŠç§‘æŠ€æ°´å¹³æ‹‰åˆ°å¤ªç©ºæ—¶ä»£ï¼Œè¯´å®žåœ¨çš„ï¼Œè¿™ä¸ªå’Œåæ´¾ç™»åœºæ¯”èµ·æ¥ï¼Œå·²ç»åˆ°äº†æˆ‘çœ‹è§ä»€ä¹ˆéƒ½ä¸æƒŠè®¶çš„ç¨‹åº¦äº†ã€‚ç„¶åŽå†ç»è¿‡å‡ é›†æ¼«é•¿çš„æ¯«æ— å¿…è¦çš„äººç±»å«é¾™å’Œ VIRM çš„å¤ªç©ºæ··æˆ˜å‰§æƒ…ç»ˆäºŽç»“æŸäº†è¿™ç§ç…Žç†¬ï¼Œæˆ‘åªèƒ½è¯´è¿™éƒ¨åˆ†æ¯”èµ·ç§ç”°æ˜¯å®Œå…¨çš„ä¸è®²é“ç†äº†ã€‚\nè‡³äºŽæœ€åŽå¤§ç»“å±€çš„â€œç”Ÿå­©å­â€å‰§æƒ…ï¼Œæƒ³å¿…ä¹Ÿæœ‰å¾ˆå¤šäººä¸æ»¡æ„ï¼Œè™½ç„¶æˆ‘è‡ªå·±è®¨åŽŒå°å­©ï¼Œä½†æˆ‘è§‰å¾—è¿™éƒ¨åˆ†ä¸æ˜¯ä»€ä¹ˆé—®é¢˜ã€‚å¯èƒ½æ˜¯è€ƒè™‘åˆ°å½“ä¸‹çš„çŽ°å®žçŽ¯å¢ƒï¼Œå¹´è½»äººç¡®å®žå¯¹å‚¬ç”Ÿæ¯”è¾ƒåæ„Ÿå§ï¼Œä½†æ”¾åœ¨å‰§æƒ…é‡Œé¢ï¼Œä½œä¸ºä¸€ä¸ªæ–°ä¸–ç•Œå¼€å§‹çš„å¿…è¦çŽ¯èŠ‚å®žé™…ä¸Šæ˜¯æ²¡ä»€ä¹ˆé—®é¢˜çš„ã€‚æœ€åŽé»‘è‰²å¤´å‘çš„å°‘å¹´å’Œæ¨±èŠ±è‰²å¤´å‘çš„å°‘å¥³åœ¨æ ‘ä¸‹ç›¸é‡çš„ç»“å°¾ä¹Ÿæ˜¯æˆ‘æœ€æ»¡æ„çš„éƒ¨åˆ†ä¹‹ä¸€äº†ï¼Œæˆ–è€…å¯èƒ½æˆ‘æ°å¥½æ˜¯ä¸€ä¸ªå®¹æ˜“è¢«è¿™ç§å‰§æƒ…æ‰“åŠ¨çš„äººå§ã€‚\nå¦å¤– @åžš è¡¨ç¤ºåŒæ ·æ˜¯ TRIGGER çš„ä½œå“ï¼Œæ™®ç½—ç±³äºšçš„å‰§æƒ…è¦å¥½å¾ˆå¤šï¼Œä½†æˆ‘ä¸æ˜¯ç‰¹åˆ«åŒæ„ï¼Œæˆ‘ä¸ªäººè§‰å¾—æ™®ç½—ç±³äºšæœ€åŽ 1/4 çš„å‰§æƒ…å…¶å®žä¹Ÿå‘ç€å¼ºè¡Œæ”¶å°¾çš„æ–¹å‘èµ°äº†ï¼Œä¸è¿‡ä¸€éƒ¨å‰§åœºç‰ˆåŠ¨ç”»å’Œå­£ç•ªè¿˜æ˜¯ä¸ä¸€æ ·çš„ï¼Œå‰§åœºç‰ˆåŠ¨ç”»åªæœ‰ä¸¤ä¸ªå°æ—¶ï¼Œä¸ä¼šæœ‰å¤ªå¤æ‚çš„èƒŒæ™¯è®¾å®šï¼Œæ•…äº‹æœ¬èº«åˆæ˜¯å¿«èŠ‚å¥ï¼Œå°±ç®—å¼ºè¡ŒæŽ¨è¿›ä¸€ä¸‹å‰§æƒ…ï¼Œè§‚æ„Ÿä¹Ÿä¸ä¼šå¤ªå·®ï¼Œè€Œä¸”ç‹¬ç‰¹çš„ç¾Žæœ¯é£Žæ ¼å’Œé…ä¹ç›¸å½“å¤§ç¨‹åº¦çš„æŽ©ç›–äº†å‰§æƒ…çš„é—®é¢˜ã€‚\næ€»è€Œè¨€ä¹‹ï¼Œæˆ‘å…¶å®žæ˜¯ä¸å¤ªåœ¨æ„â€œç¬¦åˆé€»è¾‘ä½†æ˜¯å¤§éƒ¨åˆ†è§‚ä¼—éƒ½ä¸å–œæ¬¢â€çš„å‰§æƒ…çš„ï¼Œæ¯”èµ·è¿™ä¸ªï¼Œæˆ‘è§‰å¾—â€œä¸ç¬¦åˆé€»è¾‘â€çš„å‰§æƒ…é—®é¢˜è¦ä¸¥é‡å¾—å¤šï¼Œè¿™è¯´æ˜Žå‰§æƒ…èµ°å‘å·²ç»å˜æˆæ— æ³•æŠŠæŽ§çš„ä¸œè¥¿äº†ï¼Œä¸ºäº†å¼ºè¡Œåœ¨å‰©ä¸‹çš„é›†æ•°é‡Œé¢ç»“æŸæ•…äº‹ï¼Œä¸å¾—ä¸å¼ºè¡Œå¼•å…¥ä¸€äº›ä¸œè¥¿ã€‚å¦‚æžœä½ é—®æˆ‘æ€Žä¹ˆä¿®æ”¹å‰§æƒ…èƒ½è§£å†³æŽ‰ç¡¬ä¼¤ï¼Œæˆ‘å…¶å®žä¸€å¼€å§‹ä¹Ÿæ²¡ä»€ä¹ˆæ€è·¯ã€‚ä¸è¿‡å’Œ @åžš ç®€å•èŠäº†ä¸€ä¸‹ä¹‹åŽæˆ‘æ„è¯†åˆ°äº†é—®é¢˜æ‰€åœ¨ã€‚ä»Žæ„Ÿæƒ…æˆçš„ç¯‡å¹…å’Œæ°´å¹³æ¥çœ‹ï¼Œå¾ˆæ˜¾ç„¶å·¨å¤§æœºå™¨äººæˆ˜æ–—åªæ˜¯ä¸ªè½½ä½“ï¼Œè¿™åº”è¯¥æ˜¯ä¸ªæŠ«ç€æœºå™¨äººæˆ˜æ–—çš„çš®çš„çˆ±æƒ…æ•…äº‹ï¼Œå¹¶ä¸”çˆ±æƒ…æ•…äº‹éƒ¨åˆ†ç›¸å½“çš„æˆåŠŸã€‚åœ¨æˆ‘çœ‹æ¥ DitF çš„æ€ç»´å’Œ EVA å…¶å®žæ˜¯æœ‰ç›¸å½“å¤§çš„å·®åˆ«çš„ï¼Œè™½ç„¶å¯èƒ½å¤§å®¶æ€»æ˜¯æ´¥æ´¥ä¹é“ç¢‡çœŸå—£ã€ç»«æ³¢é›¶ã€æ˜Žæ—¥é¦™ã€æ¸šè–°ä¹‹é—´çš„æƒ…æ„Ÿå…³ç³»ï¼Œä½† EVA æ²¡æœ‰å¯¹è¿™éƒ¨åˆ†çš„ç›´æŽ¥æå†™ï¼Œæ›´å¤šæ˜¯é€šè¿‡ä¾§é¢ç»†èŠ‚æå†™ï¼Œä»¥åŠç²‰ä¸è¿›è¡Œçš„åˆ†æžæŽ¨ç†å¾—å‡ºçš„ã€‚æ‰€ä»¥ EVA å¯ä»¥åœ¨èƒŒæ™¯è®¾å®šä¸ŠæŒ–å¾ˆå¤§çš„å‘ç„¶åŽæœ‰å……è¶³çš„æ—¶é—´å¡«å‘ã€‚å› æ­¤æˆ‘çš„æƒ³æ³•æ˜¯è®©è¿™ä¸ªä½œå“å‘çŽ¯å¤ªå¹³æ´‹çš„æ–¹å‘é è¿‘ï¼ŒåŽ»æŽ‰åä¹Œæ‰˜é‚¦çš„è®¾å®šï¼Œæ¯”å¦‚ä»€ä¹ˆç§æ¤å›­å’Œ APE éƒ½å¯ä»¥ä¸è¦ï¼Œç›´æŽ¥å¿«è¿›åˆ°ä¸çŸ¥é“ä¸ºä»€ä¹ˆå‡ºçŽ°äº†åå«å«é¾™çš„æ€ªå…½è¿›æ”»äººç±»ï¼ŒäºŽæ˜¯äººç±»è®¾è®¡äº† FRANXX å¹¶è¦å°‘å¹´å°‘å¥³æ“ä½œæ¥é˜²å¾¡ã€‚ç„¶åŽäººç‰©çš„èƒŒæ™¯å…¨éƒ¨éƒ½ä¸éœ€è¦ä¿®æ”¹ï¼Œæœ€ç»ˆçš„ç»“å±€å°±åƒçŽ¯å¤ªå¹³æ´‹ä¸€æ ·ç›´æŽ¥æ‘§æ¯æŽ‰å«é¾™æ¥æºå°±å¯ä»¥äº†ã€‚è™½ç„¶å¯èƒ½ä¼šè¢« EVA è§‚ä¼—è®¤ä¸ºâ€œæ²¡æœ‰è¾¾åˆ° EVA çš„é«˜åº¦â€ï¼Œä½†æ—¢ç„¶æœ¬æ¥å°±ä¸åœ¨ä¸€ä¸ªèµ›é“ä¸Šï¼ˆæˆ‘è¿™å†™çš„æ˜¯çˆ±æƒ…æ•…äº‹å•Šï¼‰ï¼Œè¿™ä¹Ÿæ²¡ä»€ä¹ˆæ‰€è°“äº†ã€‚è€ƒè™‘åˆ°ç¬¬ 13 é›†å’Œ 15 é›†çš„å£ç¢‘ï¼Œè¿™æ ·æ”¹åº”è¯¥ä¸ä¼šæŠ˜æŸå®ƒçš„ä¼˜ç‚¹ã€‚\næœ€åŽè¿˜æ˜¯è¦è¯´ï¼Œè™½ç„¶æœ‰è¿™ä¹ˆæ˜Žæ˜¾çš„ç¡¬ä¼¤ï¼Œè¿™éƒ¨ä½œå“çªå‡ºçš„ä¼˜ç‚¹è¿˜æ˜¯è®©æˆ‘å—åˆ°äº†å¾ˆå¤§éœ‡æ’¼å¹¶ä¸”åœ¨æŽ¥ä¸‹æ¥çš„ä¸€å‘¨éƒ½æ²‰æµ¸åœ¨å‰§æƒ…é‡Œä¸èƒ½è‡ªæ‹”ã€‚æˆ‘ä¸ªäººä¹Ÿéžå¸¸å–œæ¬¢è¿™éƒ¨ä½œå“çš„ EDï¼Œæ— è®ºæ˜¯æ—‹å¾‹è¿˜æ˜¯æ­Œè¯ï¼Œä»¥åŠæ¼”å”±æ–¹é¢éƒ½å¯ä»¥è¯´æ˜¯ä¸€æµçš„ä½œå“ï¼Œç‰¹åˆ«æ˜¯ç¬¬ 13 é›†é«˜æ½®éƒ¨åˆ†çš„ã€Šã²ã¨ã‚Šã€‹ï¼Œå•ä»ŽéŸ³ä¹å’Œå‰§æƒ…ç»“åˆçš„è§’åº¦æ¥è¯´ï¼Œç¡®å®žè¾¾åˆ°äº† EVA çš„é«˜åº¦ï¼ˆè®©æˆ‘æƒ³èµ·æ¥ã€Šç¿¼ã‚’ãã ã•ã„ã€‹ã€‚ã€Šãƒˆãƒªã‚«ã‚´ã€‹ä¹Ÿæ˜¯ç»å¦™çš„ä½œå“ï¼Œç‰¹åˆ«æ˜¯ä¼´éš ED å‡ºçŽ°çš„ç”»é¢ï¼Œâ€œå¦‚æžœè¿™äº›äººç‰©æ‰€åœ¨çš„æ˜¯ä¸€ä¸ªæ²¡æœ‰å«é¾™å’Œ FRANXX å­˜åœ¨çš„ä¸–ç•Œä¼šæ˜¯ä»€ä¹ˆæ ·å­å‘¢ï¼Ÿâ€ï¼ˆå¾ˆé—æ†¾æˆ‘å¯¹ OP æ²¡ä»€ä¹ˆæ„Ÿè§‰ï¼‰æˆ‘åŒæ ·å¯¹å¹¿ã€02ã€äº”éƒŽå’ŒèŽ“çš„äººç‰©å½¢è±¡éžå¸¸çš„å–œçˆ±ï¼Œå¤æ‚çš„æƒ…æ„Ÿå…³ç³»ä½¿å¾—è¿™äº›äººç‰©å˜å¾—é¢‡ä¸ºç«‹ä½“ï¼Œè€Œä¸”ä»–ä»¬å®Œå…¨æ²¡æœ‰åŠ¨æ¼«é‡Œä¸€äº›ç»å¸¸å‡ºçŽ°çš„ä¼šè®©æˆ‘è®¨åŽŒçš„äººç‰©ç‰¹è´¨ã€‚\n"},{"title":"PHP æ•…é‡Š","url":"/posts/PHP-Story/","content":"// æ–°æ¥çš„ï¼å¦‚æžœä½ çœ‹åˆ°è¿™æ®µæ³¨é‡Šï¼Œè¯´æ˜Žä¸Šä¸€ä¸ªè´Ÿè´£é‡æž„è¿™ä¸ªé¡¹ç›®çš„ç¨‹åºå‘˜å·²ç»è¢«æ°”æ­»äº†ï¼\n// è¯·ä½ æŠŠä¸‹ä¸€è¡Œçš„æ•°å­—åŠ ä¸€ï¼Œç„¶åŽç¥ä½ å¥½è¿ï¼\n// 63\n\nèµ·å› æ˜¯æ˜¨å¤©æ™šä¸Šåƒå®Œé¥­å›žå®¶è·¯ä¸Šå’Œé“é“è¿·é—²èŠè¯´èµ·ä»–æ­£åœ¨é‡å†™çš„ PHP é¡¹ç›®ã€‚äºŽæ˜¯æˆ‘éšå£ç¼–äº†ä¸€ä¸ª ææ€– æ®µå­ã€‚\n\n\nä¸ºä»€ä¹ˆæ˜¯ 63ï¼š\n Math.floor(Math.random() * 100)\n63\n> \n\" class=\"code-block\">% node\nWelcome to Node.js v18.7.0.\nType \".help\" for more information.\n&gt; Math.floor(Math.random() * 100)\n63\n&gt; \n\n"},{"title":"å¯èƒ½åªé€‚åˆæˆ‘è‡ªå·±çš„ RIME é…ç½® 2","url":"/posts/My-RIME-2/","content":"ä¸Šä¸€ç¯‡ï¼šå¯èƒ½åªé€‚åˆæˆ‘è‡ªå·±çš„ RIME é…ç½®\nè¿™ä¸€ç¯‡çš„åŽŸå› æ˜¯æˆ‘æœ€è¿‘åœ¨å¶ç„¶é—´åˆ·åšå®¢åˆ·åˆ°ä¸€ç¯‡ è®² RIME ç®€ä½“è¾“å…¥æ–¹æ¡ˆçš„æ–‡ç« ï¼Œé‡Œé¢æåˆ°è¯´æœ™æœˆæ‹¼éŸ³å› ä¸ºæ˜¯ç¹ä½“è½¬ç®€ä½“æ‰€ä»¥ä¼šå‡ºçŽ°å„ç§é”™è¯¯ï¼ˆå…¶å®žæˆ‘ä¸ªäººå€’æ˜¯æ²¡æ€Žä¹ˆé‡åˆ°è¿‡ï¼‰ï¼Œç„¶åŽæŽ¨èäº†ä¸€ä¸ªå®Œå…¨é’ˆå¯¹ç®€ä½“å­—çš„è¾“å…¥æ–¹æ¡ˆ æžå…‰æ‹¼éŸ³ï¼Œæˆ‘è‡ªå·±å…¶å®žåªä¼šè¾“å…¥ç®€ä½“å­—ï¼Œä¸æ€Žä¹ˆéœ€è¦è¾“å…¥ç¹ä½“å­—çš„åŠŸèƒ½ï¼Œæ‰€ä»¥æ‰“ç®—è¯•è¯•ã€‚\n\n\nå·²ç»æœ‰äººåœ¨ AUR æ‰“åŒ…äº† rime-aurora-pinyinï¼Œæ‰€ä»¥æˆ‘ç›´æŽ¥æ‹¿æ¥ç”¨äº†ï¼Œç„¶åŽç±»ä¼¼äºŽæˆ‘ä¸Šä¸€ç¯‡æ–‡ç« å¤„ç†æœ™æœˆæ‹¼éŸ³çš„åŠžæ³•ï¼Œç»™è¿™ä¸ªä¹Ÿåšäº†ä¸€äº›è‡ªå®šä¹‰è®¾ç½®ï¼Œä¸»è¦æ˜¯æ·»åŠ  emojiï¼Œä¿®æ”¹é»˜è®¤çš„å…¨è§’æ ‡ç‚¹ä¸Šå±è¡Œä¸ºï¼Œä»¥åŠåŠ è½½æ‰©å±•è¿‡çš„å­—å…¸ï¼Œä¸è¿‡é‡åˆ°äº†å‡ ä¸ªé—®é¢˜ã€‚\né¦–å…ˆæ˜¯æˆ‘åƒä¸Šç¯‡æ–‡ç« è¯´çš„é‚£æ ·ç›´æŽ¥åœ¨ patch ä¸‹é¢æ·»åŠ  __include: emoji_suggestion:/patch å¹¶ä¸èƒ½è¾“å…¥ emojiï¼Œæˆ‘ç ”ç©¶äº†å¾ˆé•¿æ—¶é—´ï¼Œç”šè‡³ä»¥ä¸º emoji åŠŸèƒ½ä¾èµ–ç¹ä½“è½¬ç®€ä½“ã€‚ç»“æžœå…¶å®žå¹¶ä¸æ˜¯ï¼Œæ‰“å¼€ emoji_suggestion.yaml å¯ä»¥çœ‹åˆ°ä¸‹é¢å‡ å¥ï¼š\npatch:\n  switches/@next:\n    name: emoji_suggestion\n    reset: 1\n    states: [ \"ðŸˆšï¸ï¸\\uFE0E\", \"ðŸˆ¶ï¸ï¸\\uFE0F\" ]\n  'engine/filters/@before 0':\n    simplifier@emoji_suggestion\n  emoji_suggestion:\n    opencc_config: emoji.json\n    option_name: emoji_suggestion\n    tips: all\n\nswitches çš„éƒ¨åˆ†å¯ä»¥å…ˆå¿½ç•¥ï¼Œå…³é”®åœ¨äºŽ engineï¼Œè¿™ä¸ª emoji è¾“å…¥çš„åŽŸç†æ˜¯æ·»åŠ ä¸€ä¸ª filterï¼Œå®ƒæŽ¥æ”¶ä¸€ä¸ªè¾“å…¥ï¼Œç„¶åŽåŽ»é™„å¸¦çš„ opencc çš„è¯å…¸é‡ŒæŸ¥æ‰¾è¿™ä¸ªè¾“å…¥å¾—åˆ°å¯¹åº”çš„ç»“æžœï¼Œå†æŠŠè¿™ä¸ªè¾“å‡ºç»™ä¸‹ä¸€ä¸ª filterï¼ŒæŒ‰ç…§è¯å…¸ï¼Œè¾“å…¥åº”è¯¥æ˜¯ä¸­æ–‡å­—æˆ–è€…è¯ï¼Œå¹¶ä¸”æˆ‘çœ‹äº†ä¸€ä¸‹è¯å…¸ï¼Œç®€ä½“å’Œç¹ä½“æ˜¯éƒ½æœ‰çš„ï¼Œæ‰€ä»¥ä¹Ÿä¸å­˜åœ¨ç®€ç¹è½¬æ¢çš„é—®é¢˜ã€‚å…¶å®žé—®é¢˜åœ¨äºŽè¿™æ®µé…ç½®ä¼šæŠŠå®ƒä½œä¸ºç¬¬ä¸€ä¸ª filter åŠ å…¥åˆ—è¡¨ï¼Œè€Œæžå…‰æ‹¼éŸ³çš„é»˜è®¤ filter åˆ—è¡¨æ˜¯è¿™æ ·çš„ï¼š\n  filters:\n    - uniquifier\n    - charset_filter@gb2312\n    - charset_filter@gbk\n\nä¹Ÿå°±æ˜¯è¯´å¦‚æžœæŠŠ emoji çš„ filter åŠ åˆ°ç¬¬ä¸€ä¸ªï¼Œå®ƒçš„è¾“å‡ºå°±è¦ç»§ç»­ç»è¿‡ uniquifierï¼Œcharset_filter@gb2312ï¼Œcharset_filter@gbkï¼ŒåŽä¸¤ä¸ªæ˜¯æžå…‰æ‹¼éŸ³ä¸ºäº†æŽ’é™¤æŽ‰å‡ ä¹Žç”¨ä¸åˆ°çš„ç”Ÿåƒ»å­—è€Œæ·»åŠ çš„ã€‚è€Œ emoji æ˜¾ç„¶ä¸å±žäºŽ gb2312 ä¹Ÿä¸å±žäºŽ gbkï¼Œè‡ªç„¶å°±è¢«è¿‡æ»¤æŽ‰äº†ã€‚\næ‰€ä»¥æˆ‘çš„è§£å†³æ–¹æ¡ˆæ˜¯æŠŠ emoji çš„ filter åŠ åˆ°åˆ—è¡¨æœ€åŽï¼Œå…¶å®žåŠ åˆ°å“ªé‡Œæ— æ‰€è°“ï¼Œåªè¦ä½ ç¡®å®šå‰ä¸€ä¸ª filter çš„è¾“å‡ºæ˜¯ä¸­æ–‡ï¼Œèƒ½è§¦å‘ emoji çš„ opencc è¯å…¸å°±å¥½äº†ï¼Œæˆ‘å•ç‹¬å†™äº†ä¸€ä¸ª emoji_suggestion.patch.yaml æ–‡ä»¶ï¼š\nswitches/@next:\n  name: emoji_suggestion\n  reset: 1\n  states: [ \"ðŸˆšï¸ï¸\\uFE0E\", \"ðŸˆ¶ï¸ï¸\\uFE0F\" ]\nengine/filters/@next: simplifier@emoji_suggestion\nemoji_suggestion:\n  opencc_config: emoji.json\n  option_name: emoji_suggestion\n  tips: all\n\nå¯¼å…¥çš„æ—¶å€™å°±å†™ __include: emoji_suggestion.patch:/ã€‚ä¸è¿‡è™½ç„¶æˆ‘è¿™ä¸ªä¸å†éœ€è¦åŽŸæ¥çš„é‚£ä¸ª YAML äº†ï¼Œè¿˜æ˜¯éœ€è¦ rime-emoji è¿™ä¸ªé¡¹ç›®é‡Œå…¶ä½™çš„æ–‡ä»¶çš„ã€‚\né¡ºä¾¿è¿™ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆä½¿ç”¨æœ™æœˆæ‹¼éŸ³æ—¶å€™ emoji åŽé¢çš„æç¤ºæ¡†æ˜¾ç¤ºçš„æ˜¯ç¹ä½“è€Œéžç®€ä½“ï¼Œå› ä¸ºæœ™æœˆæ‹¼éŸ³ä»Žè¯åº“ç›´æŽ¥åå‡ºæ¥çš„æ˜¯ç¹ä½“ï¼Œç„¶åŽç›´æŽ¥ç»è¿‡ç¬¬ä¸€ä¸ª filter å°±æ˜¯ emojiï¼Œè‡ªç„¶ emoji æŸ¥æ‰¾æ—¶å€™ç”¨çš„å°±æ˜¯ç¹ä½“ï¼Œç„¶åŽæ‰ä¼šç»è¿‡ç®€ç¹è½¬æ¢çš„ filterï¼Œæ‰€ä»¥å¦‚æžœæŠŠ emoji çš„ filter æŒªåˆ°ç®€ç¹è½¬æ¢çš„ filter åŽé¢ï¼Œæç¤ºå°±ä¼šå˜æˆç®€ä½“ã€‚\nè§£å†³äº† emoji é—®é¢˜ä¹‹åŽè¿˜æœ‰å¦ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºè¿™ä¸ª emoji çš„ filter çš„è¾“å…¥æ˜¯ä¸­æ–‡è¯ç»„ï¼Œä¹Ÿå°±æ„å‘³ç€å¿…é¡»è¯åº“èƒ½åå‡ºå¯¹åº”çš„ä¸­æ–‡è¯æ‰èƒ½è¾“å…¥ emojiï¼Œæ¯”å¦‚è¯´åˆšé…ç½®å‡ºæ¥æžå…‰æ‹¼éŸ³çš„æ—¶å€™æ˜¯åä¸å‡ºæ¥â€œç¬‘å“­â€è¿™ä¸ªè¯çš„ï¼Œæ‰€ä»¥å°±ä¸ä¼šè§¦å‘ç¬‘å“­çš„ emojiã€‚æ®è¯´å…¶å®ƒå¹³å°çš„è¾“å…¥æ³•ä¹Ÿæœ‰è¿™ä¸ªé—®é¢˜ã€‚å…¶å®žæ²¡ä»€ä¹ˆå¤ªå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œä½ å¯ä»¥è¯´è‡ªå·±å…ˆæ‰‹åŠ¨æ‰“å‡ æ¬¡å¯¹åº”çš„è¯ç„¶åŽç­‰ RIME è®°ä½è¿™ä¸ªè¾“å…¥ï¼Œä¸è¿‡æˆ‘è§‰å¾—ä¹Ÿä¸å¤ªå¥½ã€‚æˆ‘æƒ³åˆ°çš„åŠžæ³•æ˜¯æ—¢ç„¶éœ€è¦è¯åº“é‡Œæœ‰ï¼Œä¸å¦‚å°±è®©æˆ‘ç”¨ emoji çš„ opencc è¯å…¸ç”Ÿæˆä¸€ä¸ª RIME è¯åº“ï¼Œç„¶åŽæ‰©å±•è¯åº“çš„æ—¶å€™åŠ è¿›åŽ»ï¼Œè¿™æ ·æ— è®ºå¦‚ä½•éƒ½èƒ½åå‡ºæ¥äº†ã€‚å…¶å®žä¹Ÿä¸æ˜¯å¾ˆéº»çƒ¦ï¼Œä½†æ˜¯éœ€è¦ä½ æŠŠæ–‡å­—è½¬æˆå¯¹åº”çš„æ‹¼éŸ³ï¼Œé‚£å½“ç„¶ä¸èƒ½äººå·¥åšè¿™ä¸ªæ“ä½œäº†ï¼Œæˆ‘åˆ©ç”¨ Node çš„ pinyin åº“å†™äº†ä¸ªè„šæœ¬æ¥åšè¿™ä»¶äº‹ï¼š\n {\n    return line.length !== 0;\n  }).map((line) => {\n    return line.split(&quot;\\t&quot;)[0];\n  });\n  for (const w of words) {\n    // rime-emoji çš„ opencc è¯å…¸åŒæ—¶åŒ…å«ç®€ä½“ä¸­æ–‡å’Œç¹ä½“ä¸­æ–‡ï¼Œä½†æ¯”å¦‚æžå…‰æ‹¼éŸ³\n    // è¿™ç§é»˜è®¤ä¸åŒ…å«ç®€ç¹è½¬æ¢çš„æ–¹æ¡ˆå¤šåŠåªæƒ³è¦å…¶ä¸­ä¸€ç§ï¼Œæ‰€ä»¥ä½¿ç”¨ opencc å¯¹å€™é€‰è¯\n    // è¿›è¡Œä¸€æ¬¡è½¬æ¢ã€‚\n    const word = converter.convertSync(w);\n    if (results[word] != null) {\n      continue;\n    }\n    const py = pinyin(word, {\n      &quot;heteronym&quot;: true,\n      &quot;segment&quot;: true,\n      &quot;style&quot;: &quot;normal&quot;\n    }).map((array) => {\n      // æœ‰äº›æ—¶å€™å°±ç®—åˆ©ç”¨ç»“å·´åˆ†è¯äº†ï¼Œè¿™ä¸ªåº“ä»ç„¶ä¼šæ²¡æ³•åˆ¤æ–­å¤šéŸ³å­—çš„è¯»éŸ³ç„¶åŽä¸¢å‡ºå¥½\n      // å‡ ä¸ªç»“æžœï¼Œåªå–ç¬¬ä¸€ä¸ªå¥½äº†ã€‚\n      return array[0];\n    }).join(&quot; &quot;);\n    // é‡åˆ°å¤„ç†ä¸äº†çš„ç”Ÿåƒ»å­—è¿™ä¸ªåº“ä¼šç›´æŽ¥ä¸¢å‡ºåŽŸæœ¬çš„å­—â€¦â€¦ä»€ä¹ˆå¥‡æ€ªé€»è¾‘ï¼Œåªèƒ½åˆ¤æ–­æ˜¯ä¸\n    // æ˜¯å­—æ¯æˆ–ç©ºæ ¼äº†ã€‚\n    if (/^[a-z ]*$/.test(py)) {\n      results[word] = py;\n    }\n  }\n}\n\nconst outputLines = [\n  &quot;# Rime dictionary for emoji&quot;,\n  &quot;# encoding: utf-8&quot;,\n  &quot;# Generated by `gen-emoji-dict.js` written by Alynx Zhou&quot;,\n  &quot;&quot;,\n  &quot;---&quot;,\n  &quot;name: emoji_suggestion&quot;,\n  &quot;version: \\&quot;0.1\\&quot;&quot;,\n  &quot;sort: by_weight&quot;,\n  &quot;...&quot;,\n  &quot;&quot;\n];\nfor (const k in results) {\n  outputLines.push(`${k}\\t${results[k]}`);\n}\n// console.log(outputLines.join(&quot;\\n&quot;));\nfs.writeFileSync(outputFileName, outputLines.join(&quot;\\n&quot;), &quot;utf8&quot;);\n\" data-info=\"language-javascript\" data-lang=\"javascript\" class=\"code-block\">#!/usr/bin/env node\n\nconst fs = require(\"fs\");\nconst OpenCC = require(\"opencc\");\nconst {pinyin} = require(\"pinyin\");\n\n// æˆ‘çš„è¯åº“åªéœ€è¦ç®€ä½“ä¸­æ–‡ï¼Œå¦‚æžœä½ éœ€è¦ç¹ä½“ä¸­æ–‡ï¼ŒæŠŠ `t2s` æ”¹æˆ `s2t` åº”è¯¥å°±å¥½äº†ã€‚\nconst converter = new OpenCC(\"t2s.json\");\n\nconst outputFileName = \"emoji_suggestion.dict.yaml\";\n\nconst inputFileNames = [];\n\nif (process.argv.length &lt;= 2) {\n  console.log(`Usage: ${process.argv[1]} file1 file2 ...`);\n  process.exit(0);\n}\n\nfor (let i = 2; i &lt; process.argv.length; ++i) {\n  inputFileNames.push(process.argv[i]);\n}\n\nconst results = {};\n\nfor (const inputFileName of inputFileNames) {\n  const words = fs.readFileSync(\n    inputFileName, \"utf8\"\n  ).split(\"\\n\").filter((line) =&gt; {\n    return line.length !== 0;\n  }).map((line) =&gt; {\n    return line.split(\"\\t\")[0];\n  });\n  for (const w of words) {\n    // rime-emoji çš„ opencc è¯å…¸åŒæ—¶åŒ…å«ç®€ä½“ä¸­æ–‡å’Œç¹ä½“ä¸­æ–‡ï¼Œä½†æ¯”å¦‚æžå…‰æ‹¼éŸ³\n    // è¿™ç§é»˜è®¤ä¸åŒ…å«ç®€ç¹è½¬æ¢çš„æ–¹æ¡ˆå¤šåŠåªæƒ³è¦å…¶ä¸­ä¸€ç§ï¼Œæ‰€ä»¥ä½¿ç”¨ opencc å¯¹å€™é€‰è¯\n    // è¿›è¡Œä¸€æ¬¡è½¬æ¢ã€‚\n    const word = converter.convertSync(w);\n    if (results[word] != null) {\n      continue;\n    }\n    const py = pinyin(word, {\n      \"heteronym\": true,\n      \"segment\": true,\n      \"style\": \"normal\"\n    }).map((array) =&gt; {\n      // æœ‰äº›æ—¶å€™å°±ç®—åˆ©ç”¨ç»“å·´åˆ†è¯äº†ï¼Œè¿™ä¸ªåº“ä»ç„¶ä¼šæ²¡æ³•åˆ¤æ–­å¤šéŸ³å­—çš„è¯»éŸ³ç„¶åŽä¸¢å‡ºå¥½\n      // å‡ ä¸ªç»“æžœï¼Œåªå–ç¬¬ä¸€ä¸ªå¥½äº†ã€‚\n      return array[0];\n    }).join(\" \");\n    // é‡åˆ°å¤„ç†ä¸äº†çš„ç”Ÿåƒ»å­—è¿™ä¸ªåº“ä¼šç›´æŽ¥ä¸¢å‡ºåŽŸæœ¬çš„å­—â€¦â€¦ä»€ä¹ˆå¥‡æ€ªé€»è¾‘ï¼Œåªèƒ½åˆ¤æ–­æ˜¯ä¸\n    // æ˜¯å­—æ¯æˆ–ç©ºæ ¼äº†ã€‚\n    if (/^[a-z ]*$/.test(py)) {\n      results[word] = py;\n    }\n  }\n}\n\nconst outputLines = [\n  \"# Rime dictionary for emoji\",\n  \"# encoding: utf-8\",\n  \"# Generated by `gen-emoji-dict.js` written by Alynx Zhou\",\n  \"\",\n  \"---\",\n  \"name: emoji_suggestion\",\n  \"version: \\\"0.1\\\"\",\n  \"sort: by_weight\",\n  \"...\",\n  \"\"\n];\nfor (const k in results) {\n  outputLines.push(`${k}\\t${results[k]}`);\n}\n// console.log(outputLines.join(\"\\n\"));\nfs.writeFileSync(outputFileName, outputLines.join(\"\\n\"), \"utf8\");\n\nå½“ç„¶è¿™ä¸ªè„šæœ¬ä¸æ˜¯å¾ˆå®Œç¾Žï¼Œæ¯”å¦‚ pinyin è¯†åˆ«ä¸äº†çš„ç”Ÿåƒ»å­—ç›´æŽ¥å¿½ç•¥äº†ï¼Œä¸è¿‡æˆ‘è§‰å¾—å®ƒéƒ½è¯†åˆ«ä¸äº†ï¼Œæˆ‘å¤šåŠä¹Ÿä¸ä¼šæ‰“å‡ºæ¥çš„ã€‚ç„¶åŽè™½ç„¶å¯ä»¥åˆ©ç”¨ jieba åˆ†è¯æé«˜å¤šéŸ³å­—çš„å‡†ç¡®æ€§ï¼Œè¿˜æ˜¯æœ‰äº›ä¸æ­£ç¡®çš„ï¼Œè¿™äº›é‡åˆ°äº†å†æ‰‹åŠ¨çº é”™å§ã€‚\næœ€åŽæŠŠè¿™ä¸ªè¯åº“æ·»åŠ è¿›æ‰©å……è¯åº“ï¼š\n# åŽŸæ¥è¦ç»“åˆé»˜è®¤è¯åº“å’Œç¬¬ä¸‰æ–¹è¯åº“ï¼Œ\n# éœ€è¦è‡ªå·±ç¼–å†™ä¸€ä¸ªè¯åº“è®©å®ƒ fallback åˆ°æžå…‰æ‹¼éŸ³å’Œç¬¬ä¸‰æ–¹è¯åº“ã€‚\n# æˆ‘è¯´ä½›è€å¸ˆå¯¹ä¸èµ·å¯¹ä¸èµ·ï¼Œæˆ‘ä¸æ‡‚è§„çŸ©ã€‚\n---\nname: aurora_pinyin.extended\nversion: \"0.1\"\n# `by_weight`ï¼ˆæŒ‰è¯é¢‘é«˜ä½ŽæŽ’åºï¼‰æˆ– `original`ï¼ˆä¿æŒåŽŸç è¡¨ä¸­çš„é¡ºåºï¼‰ã€‚\nsort: by_weight\n# å¬è¯´é»˜è®¤ç®€åŒ–å­—å…«è‚¡æ–‡æ•ˆæžœä¸å¥½ï¼Œè¿˜æ˜¯ç®—äº†ã€‚\n# https://blog.coelacanthus.moe/posts/tech/a-new-rime-simp-pinyin-schema/\n# å› ä¸ºå¯¼å…¥çš„æœ™æœˆæ‹¼éŸ³è¯åº“æ˜¯ç¹è½¬ç®€ï¼Œæ‰€ä»¥è¿™é‡Œä¸èƒ½å¯¼å…¥ç®€åŒ–å­—å…«è‚¡æ–‡ã€‚\n# å¯¼å…¥ç®€åŒ–å­—å…«è‚¡æ–‡ã€‚\n# vocabulary: essay-zh-hans\n# é€‰æ‹©æ˜¯å¦å¯¼å…¥é¢„è®¾è¯æ±‡è¡¨ã€å…«è‚¡æ–‡ã€‘ã€‚\n# use_preset_vocabulary: true\n\nimport_tables:\n  # ä¸»è¦æ˜¯ä¸ºäº†è‚¥çŒ« wiki è¯åº“ã€‚æžå…‰æ‹¼éŸ³å¥½åƒæ˜¯å†…ç½®å¸¸ç”¨ç®€åŒ–å­—è¡¨çš„ã€‚\n  - zhwiki\n  - aurora_pinyin\n  - emoji_suggestion\n\né¡ºä¾¿è¯´ä¸€ä¸‹æˆ‘å…¶å®žä¹Ÿä¸å¤ªäº†è§£è¿™ä¸ªæ‰©å±•è¯åº“çš„é¡ºåºæ€Žä¹ˆè®¾ç½®æ¯”è¾ƒå¥½ï¼Œä¸è¿‡æˆ‘å°è¯•çš„ç»“æžœæ˜¯åƒè¿™æ ·æŠŠ emoji æ”¾åœ¨æœ€åŽé¢ï¼Œå°±ä¸ä¼šæ¯æ¬¡è¾“å…¥åœ¨å‰é¢æç¤ºå¾ˆå¤šå¹¶ä¸å¸¸ç”¨çš„ emoji è¯ç»„çš„é—®é¢˜ã€‚\næˆ‘è¿™ä¸ªè„šæœ¬ç”Ÿæˆçš„è¯åº“åªæœ‰ç®€ä½“ï¼Œä¸è¿‡æˆ‘å‘çŽ°æœ™æœˆæ‹¼éŸ³çš„ç®€ç¹è½¬æ¢è¿˜æ˜¯å¯ä»¥æ­£å¸¸å¤„ç†ç®€ä½“è¯åº“çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šå˜æˆ è¯åº“å‡ºç®€ä½“ -&gt; ç®€ç¹è½¬æ¢ -&gt; ç¹ä½“å˜ emojiï¼Œæ‰€ä»¥ç›´æŽ¥åŠ ç»™æœ™æœˆæ‹¼éŸ³ä¹Ÿæ²¡é—®é¢˜ï¼Œå¦‚æžœæˆ‘éœ€è¦ç”¨ç¹ä½“ä¸­æ–‡ï¼Œå¯ä»¥ç›´æŽ¥åˆ‡æ¢æ–¹æ¡ˆåˆ°æœ™æœˆæ‹¼éŸ³ï¼ˆè™½ç„¶å®žé™…ä¸Šæˆ‘çš„é…ç½®æ˜¯ç®€åŒ–å­—ç‰ˆï¼Œä¸è¿‡çœ‹èµ·æ¥ä¸»è¦åŒºåˆ«åªæ˜¯é»˜è®¤æ˜¯å¦å¼€å¯ç¹ä½“è½¬ç®€ä½“ï¼‰ã€‚å¹³æ—¶è¾“å…¥ç®€ä½“åˆ™ç›´æŽ¥ç”¨æžå…‰æ‹¼éŸ³ã€‚\nå®Œæ•´é…ç½®åœ¨ GitHub Repo æ›´æ–°ã€‚\n"},{"title":"é˜»æ­¢ clangd æ±¡æŸ“é¡¹ç›®æ ¹ç›®å½•çš„ä¸€äº›æ–¹æ³•","url":"/posts/Prevent-clangd-from-Making-Projects-Root-Dirty/","content":"Emacs çš„ lsp-mode æŽ¨èä½¿ç”¨ clangd åˆ†æž C/C++ ä»£ç ï¼Œç”¨èµ·æ¥ä½“éªŒè¿˜ä¸é”™ï¼Œä½†æ˜¯è®©äººéžå¸¸æ¼ç«çš„æ˜¯ç”¨æˆ·è¦ä¸»åŠ¨æˆ–è€…è¢«è¿«åœ°åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹é¢æ·»åŠ ä¸€äº›æ–‡ä»¶ï¼Œæ¯”å¦‚ .clang_complete æˆ–è€… compile_commands.json æ¥è®© clangd çŸ¥é“é¡¹ç›®éœ€è¦åŒ…å«å“ªäº›åº“çš„å¤´æ–‡ä»¶ï¼Œä»¥åŠ clangd ä¼šç›´æŽ¥æŠŠå»ºç«‹çš„ç´¢å¼•ä¸¢åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹é¢çš„ .cache ç›®å½•é‡Œã€‚è™½ç„¶å¯ä»¥æŠŠè¿™äº›åŠ å…¥ .gitignoreï¼Œä½†ä¿ä¸é½å“ªä¸ªè„¾æ°”å¤æ€ªçš„ä¸Šæ¸¸ç»´æŠ¤è€…ä¼šå’Œä½ çº ç¼ åŠå¤©è®©ä½ è§£é‡Šä¸ºä»€ä¹ˆè¦åŠ è¿™äº›ï¼Œå®žåœ¨æ˜¯å¾ˆéº»çƒ¦ã€‚\n\n\ncompile_commands.json æ¯”è¾ƒå¥½è§£å†³ï¼Œclangd æä¾›äº†ä¸€ä¸ªå‚æ•° --compile-commands-dir=&lt;string&gt; å¯ä»¥æŒ‡å®šæŸ¥æ‰¾è¿™ä¸ªæ–‡ä»¶çš„ç›®å½•ï¼Œæˆ‘ç›´æŽ¥æŠŠå®ƒè®¾ç½®ä¸º ./build/ï¼Œå› ä¸ºå¤§éƒ¨åˆ†é¡¹ç›®çš„ .gitignore éƒ½ä¼šåŒ…å«æž„å»ºç›®å½•ï¼Œä¹Ÿå…å¾—è¿è¡Œ bear -- meson compile ä¹‹åŽå†æŠŠè¿™ä¸ªæ–‡ä»¶ä»Ž build ç›®å½•ç§»å‡ºæ¥ã€‚\n(use-package lsp-mode\n  :ensure t\n  :commands lsp\n  :hook ((c-mode . lsp-deferred)\n         (c++-mode . lsp-deferred)\n         (c-or-c++-mode . lsp-deferred)\n         (lsp-mode . lsp-enable-which-key-integration))\n  :bind (:map lsp-mode-map\n              (\"M-.\" . lsp-find-definition)\n              (\"M-,\" . lsp-find-references))\n  :custom\n  ;; Move lsp files into local dir.\n  (lsp-server-install-dir (locate-user-emacs-file \".local/lsp/\"))\n  (lsp-session-file (locate-user-emacs-file \".local/lsp-session\"))\n  (lsp-keymap-prefix \"C-c l\")\n  ;; Only enable log for debug.\n  ;; This controls `*lsp-log*` buffer.\n  (lsp-log-io nil)\n  ;; JavaScript (ts-ls) settings.\n  ;; OMG, the FUCKING EVIL SHITTY VSCode TypeScript language server generates\n  ;; log in project dir, can MicroSoft stop to let their software put shit in\n  ;; front of users?\n  (lsp-clients-typescript-server-args '(\"--stdio\" \"--tsserver-log-file\" \"/tmp/tsserver-log.txt\"))\n  (lsp-javascript-format-insert-space-after-opening-and-before-closing-nonempty-braces nil)\n  ;; Always let clangd look for compile_commands.json under build dir so it will\n  ;; not make project root dirty.\n  (lsp-clients-clangd-args (\"--header-insertion-decorators=0\" \"--compile-commands-dir=./build/\" \"--enable-config\")))\n\nå¯¹äºŽ .cache/ å°±ä¸æ˜¯é‚£ä¹ˆå¥½è§£å†³äº†ï¼Œæ ¹æ® https://github.com/clangd/clangd/issues/341#issuecomment-1003560792ï¼Œä¼¼ä¹Žä»–ä»¬å¹¶æ²¡æœ‰å…³é—­æˆ–è€…ä¿®æ”¹ç¼“å­˜ç›®å½•çš„æ”¯æŒã€‚ä¸è¿‡æˆ‘æƒ³åˆ°ä¸€ä¸ªå¼¯é“è¶…è½¦çš„æ–¹æ¡ˆï¼Œgit æœ¬èº«åº”è¯¥æ˜¯æœ‰ä»Žå…¶å®ƒä½ç½®åŠ è½½ç”¨æˆ·å®šä¹‰çš„ gitignore æ–‡ä»¶çš„åŠŸèƒ½çš„ï¼Œæˆ‘åˆ©ç”¨è¿™ä¸ªå†™ä¸€ä¸ªæœ¬åœ°çš„ gitignore ä¸å°±è¡Œäº†å—ï¼Œæœç´¢ä¹‹åŽå¾—åˆ° https://stackoverflow.com/questions/5724455/can-i-make-a-user-specific-gitignore-fileï¼Œæ“ä½œèµ·æ¥ä¹Ÿå¾ˆç®€å•ã€‚é¦–å…ˆæˆ‘æŠŠè¿™ä¸ªæ–‡ä»¶æ”¾åˆ° ~/.config/git/gitignoreï¼Œé‡Œé¢å†™ä¸Šè¦å¿½ç•¥çš„ globï¼Œç„¶åŽè¿è¡Œ git config --global core.excludesfile ~/.config/git/gitignore å°±å¤§åŠŸå‘Šæˆã€‚\nä¸è¿‡å°±åœ¨æˆ‘å†™è¿™ç¯‡æ–‡ç« æ—¶ï¼Œclangd çš„ issue ä¸Šæœ‰äººå›žå¤æˆ‘ï¼Œæ ¹æ® https://github.com/clangd/clangd/issues/184#issuecomment-998244415ï¼ŒçŽ°åœ¨ clangd åº”è¯¥æ˜¯ä¼šæŠŠç´¢å¼•æ”¾åœ¨ compile_commands.json æ‰€åœ¨çš„ç›®å½•ï¼Œæ‰€ä»¥å¤šå°‘ä¹Ÿç®—æ˜¯è§£å†³äº†é—®é¢˜å§ã€‚è™½ç„¶è¿™æ ·åˆ æŽ‰æž„å»ºç›®å½•ä¹‹åŽç´¢å¼•ç¼“å­˜ä¹Ÿæ²¡äº†ï¼Œä¸è¿‡æˆ‘è§‰å¾—æ¯”èµ·é‡å»ºç¼“å­˜ï¼Œè¿˜æ˜¯å¼„è„é¡¹ç›®ç›®å½•æ›´æ¶å¿ƒä¸€ç‚¹ã€‚\næ›´æ–°ï¼ˆ2022-08-17ï¼‰ï¼šè¿˜æœ‰ä¸€ä¸ªå¤´ç–¼çš„é—®é¢˜æ˜¯ GLib çš„ g_clear_pointer å®é‡Œé¢ä½¿ç”¨åˆ°äº†å¯¹æŒ‡é’ˆæœ¬ä½“å– sizeof çš„è¯­æ³•ï¼Œè€Œ clangd é»˜è®¤ä¼šè®¤ä¸ºè¿™æ˜¯ä¸ªé”™è¯¯ï¼ŒäºŽæ˜¯ lsp å°±ä¼šæ ‡å‡ºä¸€å¤§å †é—®é¢˜ã€‚å¯ä»¥å¯¹é¡¹ç›®è¿›è¡Œè®¾ç½®å…³æŽ‰è¿™ä¸€æ¡ï¼Œä¸è¿‡åˆä¼šå¼„è„é¡¹ç›®ç›®å½•ï¼ŒæŸ¥è¯¢æ–‡æ¡£å¾—çŸ¥ clangd ä¼šè¯»å– ~/.config/clangd/config.yaml è¿™ä¸ªç”¨æˆ·çº§åˆ«çš„é…ç½®æ–‡ä»¶ï¼ŒäºŽæ˜¯åœ¨é‡Œé¢å†™å…¥å†…å®¹å…³æŽ‰è¿™æ¡æ£€æŸ¥ï¼š\nDiagnostics:\n  ClangTidy:\n    Remove: bugprone-sizeof-expression\n\nç„¶åŽç»™ clangd ä¼ é€’ --enable-config è¿™ä¸ªå‚æ•°å³å¯ã€‚\n"},{"title":"ä»Ž PulseAudio åˆ° PipeWire","url":"/posts/From-PulseAudio-to-PipeWire/","content":"è¿™ç¯‡çš„æ“ä½œæ˜¯åœ¨ä¹‹å‰ è¿è¡Œåœ¨ JACK ä¸Šå±‚çš„ PulseAudio åŸºç¡€ä¸Šè¿›è¡Œçš„ã€‚\næˆ‘è‡ªå·±çš„éŸ³é¢‘é…ç½®æ¯”è¾ƒå¤æ‚ï¼Œè™½ç„¶ PipeWire å·ç§°èƒ½å…¼å®¹ PulseAudio å’Œ JACK çš„ client å¹¶ä¸”åœ¨æŸäº›å‘è¡Œç‰ˆæˆä¸ºäº†é»˜è®¤é€‰é¡¹ï¼Œæˆ‘è¿˜æ˜¯æ²¡å¾ˆå¿«æ¢æŽ‰ã€‚å› ä¸ºæˆ‘æƒ³åƒä¹‹å‰ç”¨ PulseAudio é‚£æ ·æŠŠ PipeWire åšæˆ JACK çš„ clientï¼Œè™½ç„¶å®ƒçš„æ–‡æ¡£ä¸€ç›´è¯´æ”¯æŒè¿™æ ·ï¼Œä½†æ˜¯çœ‹èµ·æ¥ä¸¤ä¸ªæœˆå‰ä»£ç æ‰å†™å¥½ã€‚äºŽæ˜¯æˆ‘æœ€è¿‘å°è¯•äº†ä¸€ä¸‹ã€‚\n\n\né¦–å…ˆéœ€è¦å®‰è£… pipewireï¼Œpipewire-alsaï¼Œpipewire-pulse å’Œä¸€ä¸ª PipeWire Media Session Managerï¼Œæˆ‘ç”¨çš„æ˜¯æ–°çš„ WirePlumber ä½†æ˜¯ä¸è¦è£… pipewire-jack å› ä¸ºè¿™ä¸ªæ˜¯æ¨¡æ‹Ÿ JACK server çš„ã€‚ç„¶åŽé…ç½®ä½ çš„ session manager å¼€å¯ alsa.jack-device = trueï¼Œç„¶åŽç†è®ºä¸Šå°±èƒ½åœ¨è®¾ç½®é‡Œçœ‹åˆ° JACK Sink/Source äº†â€¦â€¦ä½†æ˜¯â€¦â€¦\né¦–å…ˆè£… pipewire-pulse ä¼šæ›¿ä»£ pulseaudioï¼Œä½†æ˜¯æŒ‰ç…§ä¸Šç¯‡æ–‡ç« åº”è¯¥æ˜¯å®‰è£…äº† pulseaudio-jack è¿™ä¸ªä¾èµ– pulseaudio çš„åŒ…ï¼Œè§£å†³æ–¹æ³•æ˜¯å…ˆå¸è½½æŽ‰ pulseaudio-jackã€‚ç„¶åŽç»§ç»­å®‰è£…é‡æ–°ç™»å½•åº”è¯¥ PipeWire å·²ç»èµ·æ¥äº†ï¼ŒæŒ‰ç†è¯´è¿™æ—¶å€™å¯åŠ¨ JACK å°±å¯ä»¥ï¼Œä½†æ˜¯ä¸ç®¡æˆ‘æ€Žä¹ˆæžéƒ½çœ‹ä¸åˆ° JACK Sink/Sourceï¼Œæ‰€ä»¥å°±å¤‡ç”¨æ–¹æ¡ˆï¼Œç›´æŽ¥ç”¨ PipeWire æ›¿ä»£ JACK çœ‹çœ‹ï¼Œè™½ç„¶æ—©å°±å¯ä»¥è¿™ä¹ˆåšäº†ï¼Œä½†æ˜¯ä¹‹å‰ä¹‹å‰å°è¯• PipeWire æ„Ÿè§‰ä¸æ˜¯é‚£ä¹ˆç¨³å®šï¼Œæ‰€ä»¥å°±æ²¡ä¸€ç›´ç”¨ã€‚\nä½¿ç”¨ PipeWire å½“ JACK çš„è¯è¦å®‰è£… pipewire-jackï¼Œå’Œå‰é¢å·®ä¸å¤šçš„é—®é¢˜æ˜¯ pipewire-jack æ›¿ä»£ jack2 ä½†æ˜¯ jack2-dbus ä¾èµ– jack2ï¼Œé‚£å°±å…ˆåˆ æŽ‰ jack2-dbus å†è£…å°±å¥½äº†ï¼Œç„¶åŽé‡æ–°ç™»å½•ï¼Œä¸€åˆ‡æ­£å¸¸ï¼ŒQjackctl çš„ Graph ä¹Ÿèƒ½æ­£å¸¸æ“ä½œã€‚è€Œä¸”æ¯”è¾ƒæœ‰è¶£çš„æ˜¯è¿™æ ·åŽŸæœ¬ä½¿ç”¨ PulseAudio çš„ç¨‹åºä¹Ÿä¼šåœ¨ JACK Graph é‡Œé¢æ˜¾ç¤ºæˆèŠ‚ç‚¹ï¼ˆå› ä¸ºæœ€åŽéƒ½é€šè¿‡ PipeWireï¼‰ï¼Œä½¿ç”¨ Ardour å½•éŸ³ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ã€‚å…¶å®žæˆ‘çš„éœ€æ±‚è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä¹Ÿä¸éœ€è¦ä»€ä¹ˆå¤ªä½Žçš„å»¶è¿Ÿï¼Œåªæ˜¯å¾ˆå¤šå½•éŸ³çš„ç¨‹åºéƒ½ç”¨ JACK æ‰€ä»¥æ‰è¦ç”¨ã€‚\nç”¨äº†ä¸€æ®µæ—¶é—´ä¹‹åŽæ„Ÿè§‰æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œè®¾å¤‡ä¹‹é—´æ¥å›žåˆ‡æ¢ä¹Ÿæ²¡æœ‰å¡é¡¿äº†ï¼Œé©±åŠ¨æˆ‘çš„ 2i4 ä¹Ÿæ˜¯å®Œå…¨æ­£å¸¸ï¼Œä»¥åŽåº”è¯¥å°±å…ˆè¿™æ ·ç”¨äº†ã€‚\næ›´æ–°ï¼ˆ2022-07-21ï¼‰ï¼šæˆ‘å‘çŽ°åœ¨ Ardour é‡Œé¢å½•éŸ³è¿˜æ˜¯æœ‰é—®é¢˜ï¼Œå…·ä½“è¡¨çŽ°æ˜¯å½•è¶…è¿‡ 1 åˆ†é’Ÿå°±ä¼šæŠ¥ xrunï¼Œæ€€ç–‘æ˜¯è¿™ä¸ª bugï¼šhttps://gitlab.freedesktop.org/pipewire/pipewire/-/issues/2257ã€‚ä¸è¿‡å…¶å®ƒ DAW æ¯”å¦‚ REAPER æˆ–è€… Zrythm éƒ½æ²¡é—®é¢˜ï¼Œæˆ‘å€’æ˜¯æŒºæƒ³æ¢æˆ Zrythm çš„ï¼Œä½†æ˜¯å®ƒè¿˜åœ¨ Beta é˜¶æ®µã€‚ä»¥åŠå‰é¢æ¿æ’å…¥è€³æœºä¼¼ä¹Žè®¾ç½®é‡Œæ£€æµ‹ä¸åˆ°ï¼Œä½†æ˜¯å¼€å¯ä¸€ä¸‹ pauvcontrol åˆèƒ½æ£€æµ‹åˆ°äº†ï¼Œæ€»ä¹‹æ˜¯ä¸€äº›å¥‡æ€ªçš„å°é—®é¢˜ï¼Œä¹Ÿè®¸æˆ‘åº”è¯¥æ¢å›žåŽ»ã€‚\næ›´æ–°ï¼ˆ2022-07-21ï¼‰ï¼šæˆ‘æŠŠæˆ‘çš„ Sony Playstation Eye æ‹”æŽ‰ä¹‹åŽä¼¼ä¹Ž Ardour å°±æ­£å¸¸äº†â€¦â€¦æˆ‘è®°å¾—è¿™ä¸ªæ‘„åƒå¤´çš„éº¦å…‹é£Žé˜µåˆ—ä»¥å‰å¯ä»¥ç”¨çš„ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆçŽ°åœ¨ PulseAudio éƒ½ç”¨ä¸äº†äº†ï¼Œæ‰€ä»¥çœ‹èµ·æ¥ä¸æ˜¯ PipeWire çš„é—®é¢˜ã€‚è‡³äºŽä¸ºä»€ä¹ˆåªæœ‰ Ardour + PipeWire ä¼šå‡ºçŽ°è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘çŒœæ˜¯å› ä¸º Ardour ä¼šè¿žæŽ¥æ‰€æœ‰å¯ç”¨çš„è®¾å¤‡ç»™è‡ªå·±ç”¨ï¼ŒäºŽæ˜¯å°±è¢«è¿™ä¸ªä¸å·¥ä½œçš„è®¾å¤‡å½±å“å‡ºçŽ°å»¶è¿Ÿï¼Œè€ŒåŽŸç‰ˆçš„ JACK åªä¼šè¯·æ±‚ä¸€ä¸ªè®¾å¤‡ï¼ŒArdour æ ¹æœ¬å°±çœ‹ä¸åˆ° PS Eyeã€‚ä¹Ÿè®¸æˆ‘è¿˜æ˜¯å¾—ä¹°ä¸ªæ­£ç»çš„æ‘„åƒå¤´â€¦â€¦\n"},{"title":"è£…äº†å° NAS","url":"/posts/Build-My-NAS/","content":"æœ¬æ¥æˆ‘æ˜¯ä¸æ‰“ç®—è£… NAS çš„ï¼Œç”šè‡³éƒ½æŠŠæˆ‘çš„æ˜Ÿé™…èœ—ç‰›å…³äº†ï¼Œå› ä¸ºæˆ‘è§‰å¾—æˆ‘åˆæ²¡æœ‰ç½‘ç»œå¤šäººåä½œçš„éœ€æ±‚ï¼Œè€Œä¸”æˆ‘é†’ç€çš„æ—¶å€™æˆ‘çš„å°å¼æœºä¹Ÿé†’ç€ï¼Œæˆ‘ç¡ç€äº†åˆä¸ä¼šç”¨åˆ°ç½‘ç»œå­˜å‚¨ã€‚ä¸è¿‡è‡ªä»Žæˆ‘ä¹°äº†ç›¸æœºå¼€å§‹æ‹ç…§ç‰‡å½•è§†é¢‘ï¼Œå­˜å‚¨ç©ºé—´å°±è¶Šæ¥è¶Šç´§å¼ äº†ï¼Œå…ˆæ˜¯æŠŠæˆ‘æœºç®±é‡Œçš„ç¡¬ç›˜ä»Ž 2T ç›´æŽ¥å‡çº§åˆ° 8Tï¼Œåˆè§‰å¾—æ²¡æœ‰å†—ä½™å§‹ç»ˆå¿ƒæ…Œæ…Œã€‚ååæˆ‘çŽ°åœ¨è¿™ä¸ªæœºç®±å“ªé‡Œéƒ½ä¸é”™ï¼Œå°±æ˜¯æœºæ¢°ç¡¬ç›˜ä½ä¸å¤ªå……è£•ã€‚ä¸ºäº†æ‰©å±•å­˜å‚¨ç©ºé—´ï¼Œä¹Ÿåªèƒ½è£…ä¸€ä¸ª NAS äº†ã€‚\n\n\nå†³å®šå¥½è£… NAS ä¹‹åŽæ¯”è¾ƒéš¾çš„å°±æ˜¯é€‰ç¡¬ä»¶äº†ï¼Œæˆ‘è‚¯å®šä¸ä¼šä¹°é‚£äº›é—­æºæ‹–æ‹‰æœºçš„ï¼Œæˆ‘è¦è£… Linuxã€‚è‚¯å®šæŽ’é™¤æŽ‰æ˜Ÿé™…èœ—ç‰›ï¼Œå› ä¸ºæˆ‘å®žåœ¨ä¸æ”¾å¿ƒç”¨é‚£ä¸ªèƒŒæ¿å¸¦å››å—ç¡¬ç›˜ã€‚ç„¶åŽå¯¹è¿™ç§ä½ŽåŠŸè€—çš„è®¾å¤‡ç”¨é‚£ç§ä¸»æ¿å’Œ CPU é›†æˆçš„èµ›æ‰¬åº”è¯¥ä¸é”™ï¼Œè¿˜å…äº†ä¸»åŠ¨æ•£çƒ­ï¼Œé—®é¢˜æ˜¯æˆ‘ä¸çŸ¥é“åœ¨å“ªé‡Œèƒ½ä¹°åˆ°ã€‚æ‰€ä»¥è¿˜æ˜¯è€ƒè™‘æ™®é€šé›¶å”®çš„ç¡¬ä»¶ï¼Œä¸è¿‡å¤§éƒ¨åˆ†é›¶å”®çš„ç¡¬ä»¶éƒ½æœ‰ç‚¹æ€§èƒ½è¿‡å‰©äº†ï¼ŒæŒ‘æ¥æŒ‘åŽ»æŒ‘å‡ºä¸‹é¢çš„ä¸€å¥—é…ç½®ï¼Œæ¯”è¾ƒä¸ªäººå€¾å‘ï¼Œä¸å»ºè®®å¤§å®¶ç›´æŽ¥æ‹¿è¿‡æ¥ç”¨ã€‚\n\nCPUï¼ši3-10105T 645\nä¸»æ¿ï¼šä¸ƒå½©è™¹ B460I 579\næœºç®±ï¼šä¹”æ€ä¼¯ N1 669\nç”µæºï¼šé“¶æ¬£ SX500-LG 549\næ•£çƒ­ï¼šåˆ©æ°‘ AXP90-X47 139\nå†…å­˜ï¼šå…‰å¨ 8G DDR4 2666 169x2\nç½‘å¡ï¼šEDUP PCI-E 2.5Gbps ç½‘å¡ 89\nSSDï¼šé—ªè¿ª è‡³å°Šé«˜é€Ÿ NVMe 256G 259\nHDDï¼šè¥¿æ•° HC550 16T 1498x4\nHDDï¼šå¸Œæ· é…·é¹° 2T 375\næ‰©å±•ï¼šä¹æ‰© M.2 A+E Key è½¬ SATA 75\n\nä¸‹é¢ç®€å•ä»‹ç»ä¸€ä¸‹ä¸ºä»€ä¹ˆé€‰è¿™å¥—ã€‚\né¦–å…ˆè£… NAS ç¬¬ä¸€ä¸ªè¦å†³å®šçš„ä¸æ˜¯åˆ«çš„è€Œæ˜¯ç¡¬ç›˜ï¼Œæ¯•ç«Ÿä½ è¿™è®¾å¤‡å°±æ˜¯æ‹¿æ¥æ”¾ç¡¬ç›˜çš„ï¼Œå› ä¸ºå°å¼æœºé‡Œé¢å·²ç»æœ‰ 8T çš„ç¡¬ç›˜äº†ï¼Œæˆ‘ä¹Ÿä¸æƒ³å†ç»åŽ†æ¢ç¡¬ç›˜æ—¶å€™æ‹·è´æ•°æ®çš„ç—›è‹¦ï¼Œæ‰€ä»¥è¿˜æ˜¯ç›´æŽ¥ä¸Šäº† 16T çš„ã€‚è¿™ç§å®¹é‡å»ºè®®ç›´æŽ¥è´­ä¹°ä¼ä¸šç›˜ï¼Œä¸è¿‡ä¹Ÿå°±å’Œé™éŸ³è¯´æ‹œæ‹œäº†ã€‚æ²¡é€‰å¸Œæ·çš„é“¶æ²³ç³»åˆ—ä¸æ˜¯å› ä¸ºåˆ«çš„ï¼Œåªæ˜¯å› ä¸ºè¥¿æ•° HC ç³»åˆ—ä¾¿å®œç‚¹è€Œå·²ã€‚é€‰ 4 å—ç›˜è€Œä¸æ˜¯ 3 å—çš„åŽŸå› ä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä¸ä¼šç”¨ ZFSï¼Œè‚¯å®šè¦ç”¨ btrfsï¼Œä½†æ˜¯ btrfs çš„ RAID5 æœ‰ bugï¼ŒäºŽæ˜¯æ€§èƒ½å®¹é‡å†—ä½™çš„å¹³è¡¡ç‚¹å°±æ˜¯ RAID10 äº†ï¼Œé‚£å°±éœ€è¦ 4 å—ç¡¬ç›˜èµ·æ­¥ã€‚\nå†³å®šå¥½ç¡¬ç›˜ä¹‹åŽå°±å¾—é€‰åˆé€‚çš„æœºç®±ï¼Œæ¯•ç«Ÿä½ å¾—èƒ½æŠŠç¡¬ç›˜è£…è¿›åŽ»ï¼Œä¸è¿‡æˆ‘å¯¹å¤§éƒ¨åˆ†çš„ NAS æœºç®±éƒ½ä¸æ»¡æ„ï¼Œæœ‰äº›ç±»ä¼¼ä¸ªäººäº§å“æˆ–è€…ä¼—ç­¹çš„æœºç®±æ¯”å¦‚ä»€ä¹ˆå®è—ç›’TANKä¹‹ç±»çš„çœ‹èµ·æ¥å¾ˆèƒ½è£…ï¼Œä½†æ˜¯é€ åž‹ä¸ä¼¦ä¸ç±»ï¼Œåšå·¥ä¹Ÿä¸€èˆ¬èˆ¬ï¼Œç„¶åŽå¯èƒ½è¿Žå¹¿æˆ–è€…ä¸‡ç”±æœ‰ä¸€äº›æˆå“ NAS æœºç®±çœ‹èµ·æ¥ä¸é”™ï¼Œä½†æ˜¯åŸºæœ¬ä¸Šæ˜¯é«˜é…èœ—ç‰›ï¼Œè€Œä¸”æˆ‘å®žåœ¨ä¸æƒ³ç”¨ flex ç”µæºã€‚å…¶å®žæŸç§æ„ä¹‰ä¸Šæˆ‘æ˜¯å…ˆçœ‹ä¸­ä¹”æ€ä¼¯ N1 è¿™ä¸ªæœºç®±æ‰å†³å®šè£…çš„ NASï¼Œæˆ‘å¯¹è¿™ä¸ªç‰Œå­å…¶å®žæ²¡ä»€ä¹ˆå¥½æ„Ÿï¼Œä½†è¿™ä¸ªæœºç®±å®žåœ¨æ˜¯è¿‡äºŽå¥½çœ‹ï¼Œè€Œä¸”å¯ä»¥è£… SFX æˆ–è€… SFX-L ç”µæºï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤šé›¶å”®äº§å“å¯ä»¥é€‰çš„ã€‚\né€‰å¥½æœºç®±ä»¥åŽå°±æ˜¯æœºç®±é‡Œèƒ½å¡žè¿›ä»€ä¹ˆç¡¬ä»¶å°±å¡žä»€ä¹ˆç¡¬ä»¶äº†ï¼Œä¹”æ€ä¼¯ N1 å’Œå¤§éƒ¨åˆ† NAS æœºç®±ä¸€æ ·éƒ½åªèƒ½æ”¾ ITX ä¸»æ¿ï¼Œä½† ITX ä¸»æ¿å¯é€‰çš„å®žåœ¨ä¸å¤šã€‚é¦–å…ˆæˆ‘æƒ³è¦ä¸€ä¸ªå†…ç½®æ ¸æ˜¾çš„ CPUï¼Œå› ä¸ºæœ€ç®€å•çš„è°ƒè¯•åŠžæ³•è‚¯å®šæ˜¯ç»™æœºç®±æŽ¥ä¸Šé”®ç›˜é¼ æ ‡æ˜¾ç¤ºå™¨ï¼Œä¹Ÿæ¯”è¾ƒæ–¹ä¾¿è°ƒæ•´ BIOSï¼Œè€Œ ITX åªæœ‰ä¸€ä¸ªå®è´µçš„ PCIE æ’æ§½ï¼Œå†è¯´ NAS å¤šåŠä¹Ÿæ²¡å¿…è¦ä¸Šä¸ªäº®æœºå¡è€—ç”µã€‚è€Œ AMD é‚£è¾¹ 200GE å¤ªå¼±äº†ï¼ŒRyzen Pro ç³»åˆ—åˆå¤ªå¼ºäº†ï¼Œå®žåœ¨ä¸çŸ¥é“é€‰ä»€ä¹ˆæ¯”è¾ƒå¥½ï¼Œè€Œä¸”ä¹Ÿä¸å®¹æ˜“ä¹°åˆ°æœ€ä½Žé…çš„ Ryzen Pro CPUï¼Œæ‰€ä»¥å°±é€‰ Intel i3 äº†ï¼Œæ­£å¥½è¿˜æœ‰å¸¦ T çš„ä½ŽåŠŸè€—ç‰ˆæœ¬ã€‚åŒæ—¶ 10 ä»£çš„ä¸»æ¿è¿˜æ¯”è¾ƒå¥½ä¹°ï¼Œä¹Ÿå°±æ˜¯è¯´èƒ½ä¹°åˆ°æ–°çš„ã€‚è™½ç„¶è¿™å°æœºç®±å‰é¢æœ‰ USB-Cï¼Œä¸è¿‡å®žé™…ä¸Šæ˜¯å’Œ USB 3.0 å…±äº«ä¸€ä¸ªæ’åº§ï¼Œæ‰€ä»¥ä¹Ÿä¸éœ€è¦ä¸»æ¿æœ‰ USB-C çš„æ’åº§ã€‚ä¸ƒå½©è™¹è¿™å— B460 çš„ä¼˜ç‚¹åœ¨äºŽåŽé¢è¿˜æ˜¯æœ‰ä¸€ä¸ªæ ‡å‡†çš„ USB-C æŽ¥å£ï¼Œä»¥åŠèƒ½åœ¨äº¬ä¸œè‡ªè¥ä¹°åˆ°ã€‚\nSFX ç”µæºè™½ç„¶ä¸å¦‚ ATX ç”µæºå¥½é€‰ï¼Œä½†æ˜¯ä»ç„¶æ¯” flex ç”µæºå¥½é€‰å¤ªå¤šäº†ï¼Œè€Œä¸”è¿™å°æœºå™¨è¿˜å¯ä»¥æ”¾ä¸‹ SFX-L çš„ç”µæºï¼Œ12cm çš„é£Žæ‰‡è‚¯å®šæ¯” 4cm è¦å®‰é™å¾ˆå¤šã€‚äºŽæ˜¯æˆ‘å°±åœ¨äº¬ä¸œéšä¾¿æŒ‘äº†ä¸€ä¸ªè§‚æ„Ÿä¸åçš„ç‰Œå­çš„å…¨æ¨¡ç»„ SFX-L ç”µæºé‡ŒåŠŸçŽ‡æœ€ä½Žçš„ã€‚ä¸è¿‡è£…è¿™ä¸ªæœºç®±çš„æ—¶å€™æœ€å¥½æ³¨æ„ä¸€ç‚¹ï¼Œä¹°çš„ç”µæºçš„ 24pin çº¿æœ€å¥½ä¸è¦æ˜¯é‚£ç§æ†æˆåœ†æŸ±åž‹çš„ï¼Œå› ä¸ºéœ€è¦ä»Žä¸»æ¿è¾¹ä¸Šæžå°çš„ç¼éš™é‡Œæ‹‰è¿‡æ¥ï¼ŒæŽ’çº¿è‚¯å®šæ¯”åœ†æŸ±çº¿è¦å®¹æ˜“è¿‡ï¼Œé“¶æ¬£è¿™æ¬¾æ˜¯æŽ’çº¿ã€‚å½“ç„¶ä½ æ˜¯å®šåˆ¶æ¨¡ç»„çº¿çš„æœ‰é’±äººå½“æˆ‘æ²¡è¯´ã€‚\nè¿™æ¬¾æœºç®±æœ€é«˜å¯ä»¥æ”¯æŒ 70mm çš„ä¸‹åŽ‹æ•£çƒ­ï¼Œæ‰€ä»¥å…¶å®žå®Œå…¨å¯ä»¥ä¹°åˆ©æ°‘é‚£æ¬¾ 12cm çš„æ•£çƒ­å™¨ï¼Œä¸è¿‡æˆ‘è§‰å¾—ä¹Ÿæ— æ‰€è°“äº†ï¼Œæˆ‘æ¯”è¾ƒæ‹…å¿ƒ 12cm çš„ä¸‹åŽ‹æ•£çƒ­ä¼šå¯¼è‡´åœ¨ä¸»æ¿ä¸Šè£…å†…å­˜å’Œ SSD æ¯”è¾ƒå›°éš¾ï¼Œ9cm çš„ä¹Ÿå¤Ÿç”¨äº†ã€‚\nå†…å­˜å…¶å®žæ˜¯éšä¾¿é€‰çš„ï¼Œå› ä¸ºæˆ‘ä¸ç”¨ ZFSï¼Œå…¶å®ƒæ–‡ä»¶ç³»ç»Ÿå¯¹äºŽ ECC ä¹Ÿæ²¡é‚£ä¹ˆä¸¥æ ¼çš„ä¾èµ–ã€‚ç„¶åŽ i3 å’Œ B460 ä¹Ÿä¸ä¼šæ”¯æŒæ›´é«˜çš„é¢‘çŽ‡äº†ã€‚\nè€ƒè™‘åˆ°æˆ‘çš„å°å¼æœºä¸Šæœ‰ä¸¤ä¸ªç½‘å£ï¼Œåˆ†åˆ«æ˜¯ 1Gbps å’Œ 2.5Gbps çš„ï¼Œæˆ‘å°±åœ¨æƒ³å¯ä¸å¯ä»¥æŠŠ NAS å’Œå°å¼æœºé€šè¿‡ 2.5Gbps ç›´æŽ¥è¿žèµ·æ¥ï¼ˆè·¯ç”±å™¨ä»€ä¹ˆæ—¶å€™æ™®åŠ 2.5Gbps å•Šï¼‰ï¼Œè¿™æ ·é€Ÿåº¦åŸºæœ¬ä¸Šå’Œè®¿é—®æœ¬æœºçš„æœºæ¢°ç¡¬ç›˜æ²¡æœ‰å¤ªå¤§å·®è·ã€‚ä½†æ˜¯ä¸»æ¿åŽ‚å®¶å®žåœ¨æ˜¯å¤ªæŠ é—¨äº†ï¼Œæœ¬æ¥ ITX ä¸»æ¿åž‹å·å°±ä¸å¤šï¼Œå†…ç½® 2.5Gbps ç½‘å¡çš„å°±æ›´å°‘äº†ã€‚è™½ç„¶è®©ä¸€ä¸ª 2.5Gbps çš„ç½‘å¡å ç€ PCI-E x16 æ’æ§½å®žåœ¨æ˜¯æœ‰ç‚¹æµªè´¹ï¼Œä½†ä¹Ÿæ²¡åˆ«çš„é€‰æ‹©äº†ã€‚è‡³äºŽä¸‡å…†ï¼Œè€ƒè™‘åˆ°è¦ä½¿ç”¨ä¸“é—¨çš„çº¿å’Œä¸“é—¨çš„ç½‘å¡ï¼Œè¿˜å¾—ç»™å°å¼æœºä¹Ÿè£…ä¸€ä¸ªï¼Œç®—äº†å§ï¼Œåæ­£æœºæ¢°ç¡¬ç›˜çš„é˜µåˆ—ä¹Ÿè·‘ä¸æ»¡ä¸‡å…†ã€‚\nç„¶åŽç³»ç»Ÿç›˜åªè¦éšä¾¿æžä¸€ä¸ª NVMe å°±å¯ä»¥äº†ï¼Œåæ­£å®‰è£…ä¸€ä¸ª Arch Linux ä¸ä¼šå ç”¨å¤šå°‘ç©ºé—´ã€‚å®žé™…ä¸Šæ¯”è¾ƒå¤´ç—›çš„æ˜¯æ€Žä¹ˆæŽ¥ä¸Šæ‰€æœ‰çš„ç¡¬ç›˜ã€‚è¿™æ¬¾æœºç®±æœ‰ 5 ä¸ªåœ¨èƒŒæ¿ä¸Šçš„ 3.5 å¯¸ç¡¬ç›˜ä½å’Œä¸€ä¸ªå•ç‹¬çš„ 2.5 å¯¸ç¡¬ç›˜ä½ã€‚å¤§éƒ¨åˆ† ITX ä¸»æ¿éƒ½åªæœ‰ 4 ä¸ª SATA æŽ¥å£ï¼Œæœ¬æ¥æˆ‘è§‰å¾—æŽ¥ 4 ç›˜çš„é˜µåˆ—å¤Ÿäº†ï¼Œä½†æ˜¯åŽæ¥æˆ‘å‘çŽ°åŒ—é‚®äºº pt å¯ä»¥ä½¿ç”¨æˆ‘çš„äº¤å¤§å­¦æ ¡é‚®ç®±æ³¨å†Œâ€¦â€¦è¦æ˜¯æŒ‚ PTï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯å•ç‹¬æ”¾ä¸€å—ç¡¬ç›˜æ¯”è¾ƒå¥½ï¼Œé‚£æŽ¥å£å°±ä¸å¤Ÿç”¨äº†ã€‚æ¯”è¾ƒé è°±çš„åŠžæ³•æ˜¯ä¹° HBA å¡æŠŠ PCI-E è½¬æˆ SATAï¼Œä½†æ˜¯å·²ç»è¢« 2.5 Gbps ç½‘å¡ç”¨æŽ‰äº†ã€‚æˆ‘è¿˜æ²¡æœ‰å‘çŽ°åŒæ—¶æœ‰ç½‘å¡å’Œ SATA çš„ PCI-E æ‰©å±•å¡ã€‚è¿˜æœ‰ä¸€ä¸ªæ–¹æ¡ˆæ˜¯ M.2 è½¬ 5 ä¸ª SATA çš„è½¬æŽ¥å¡ï¼Œå…¶å®žå€’ä¹Ÿå¯ä»¥ç”¨ä¸€å— 2.5 å¯¸çš„ SSD å½“ä½œç³»ç»Ÿç›˜ï¼Œç„¶åŽè§£æ”¾å‡ºè¿™ä¸ª M.2 æŽ¥å£ï¼Œä¸è¿‡æˆ‘å®žåœ¨ä¸æ”¾å¿ƒæŠŠ 4 ç›˜é˜µåˆ—æ”¾åœ¨è¿™ç§è½¬æŽ¥å¡ä¸Šâ€¦â€¦è€Œä¸”æˆ‘ä¼°è®¡ç³»ç»Ÿç›˜ä¹Ÿæ˜¯ä¸èƒ½æŽ¥åœ¨è½¬æŽ¥å¡ä¸Šçš„ã€‚å½“ç„¶ä½ å¯ä»¥ä¹°ä¸€å—æœ‰ 2.5 Gbps ç½‘å¡çš„ ITX ä¸»æ¿ï¼Œä¸è¿‡é‚£åŸºæœ¬åªæœ‰ Z590 å¯é€‰äº†ï¼Œæœ€ä¾¿å®œçš„åŽæ“Ž Z590 ITX ä¹Ÿè¦ 1400ã€‚æ‰€ä»¥æˆ‘æœ€åŽé‡‡ç”¨çš„æ–¹æ¡ˆæ˜¯æ”¾å¼ƒæŽ‰æ— çº¿ç½‘å¡ï¼Œåæ­£ NAS æ‘†åœ¨è·¯ç”±å™¨é™„è¿‘å¯ä»¥æ‹‰ç½‘çº¿ï¼Œç„¶åŽæŠŠæ— çº¿ç½‘å¡ä¸‹é¢é‚£ä¸ª A+E Key çš„ M.2 æŽ¥å£åˆ©ç”¨ä¸Šã€‚æœ‰è¿™æ ·çš„è½¬æŽ¥å¡ï¼Œå¯ä»¥è½¬æŽ¥å‡ºä¸¤ä¸ª SATA å£ï¼Œè™½ç„¶æˆ‘åªè¦ä¸€ä¸ªå°±å¤Ÿäº†ã€‚\nä¸è¿‡å½“æˆ‘æ‹¿åˆ°è½¬æŽ¥å¡çš„å¿«é€’ä¹‹åŽå‘çŽ°å®‰è£…è¿˜æ˜¯æœ‰ç‚¹éº»çƒ¦ã€‚æœ€å¥½çš„åŠžæ³•æ˜¯æ‹§ä¸‹æ— çº¿ç½‘å¡ä¹‹åŽå‘çŽ°é‚£ä¸ªä¿æŠ¤ç½©å¯ä»¥æ‹†æŽ‰ä¸€ä¾§çš„é¢æ¿ï¼Œç„¶åŽå¯ä»¥æŠŠæ— çº¿ç½‘å¡ä»Žä¿æŠ¤ç½©ä¸Šæ‹¿ä¸‹æ¥å†æ¢æˆè½¬æŽ¥å¡ã€‚ä½†æ˜¯é‚£ä¸ªå›ºå®šæ— çº¿ç½‘å¡çš„èžºä¸å®žåœ¨å¤ªç´§äº†æˆ‘æ‹§ä¸ä¸‹æ¥ï¼Œåªèƒ½æ”¾å¼ƒè¿™ä¸ªä¿æŠ¤ç½©ï¼Œåæ­£è½¬æŽ¥å¡åº”è¯¥ä¹Ÿä¸ä¼šå—åˆ°ä»€ä¹ˆå¤–åŠ›ï¼Œå°±åœ¨æˆ‘æŠŠè½¬æŽ¥å¡æ’å¥½æ‰“ç®—å¼€æœºä¹‹å‰ï¼Œæˆ‘å‘çŽ°è¿˜æ˜¯æœ‰ç‚¹é—®é¢˜â€¦â€¦è™½ç„¶ SATA æŽ¥å£å·²ç»å¤ŸçŸ®äº†ï¼Œä½†æ˜¯é‡Œé¢é‚£ä¸ªç”¨ä¸ä¸Šçš„ SATA æŽ¥å£è¿˜æ˜¯é¡¶ä½äº†å‰é¢çš„éŸ³é¢‘æŽ¥å£ï¼Œå¯¼è‡´è½¬æŽ¥æ¿æ˜¯æ­ªçš„ã€‚å…¶å®žå¯ä»¥æ·˜å®å†ä¹°ä¸€ä¸ª M.2 A+E Key çš„å»¶é•¿çº¿ï¼Œä¸è¿‡é‚£æ ·æˆ‘çº ç»“çš„å°±æ˜¯æŠŠå»¶é•¿å‡ºæ¥çš„è½¬æŽ¥å¡å›ºå®šåœ¨å“ªé‡Œäº†ã€‚ä¸ç®¡äº†ï¼åæ­£æˆ‘å°±è¦ä¸€ä¸ª SATA å£ï¼Œç”¨åˆ€æŠŠé‡Œé¢çš„ SATA å£çš„é¡¶ç«¯å‰ŠæŽ‰å§ï¼è™½ç„¶å‰Šçš„å¾ˆç²—ç³™ä½†æ˜¯è¿˜æ˜¯è¾¾åˆ°äº†æ•ˆæžœï¼Œç„¶åŽç”¨ä¸€å—èƒ¶å¸¦æŠŠé‚£ä¸ªå£ç²˜ä½ï¼Œé˜²æ­¢ SATA æŽ¥å£é‡Œé¢çš„é‡‘å±žè§¦ç‚¹æŽ¥è§¦åˆ°éŸ³é¢‘å£ä¿æŠ¤å£³è€ŒçŸ­è·¯ï¼Œå†æŠŠä¸€å—æ³¡æ²«æ”¾åˆ°è½¬æŽ¥æ¿åŽé¢é¡¶ä½è½¬æŽ¥æ¿ï¼Œæˆ‘è§‰å¾—å°±å·®ä¸å¤šäº†ã€‚\nç›´æŽ¥è£…ä¸Šæ˜¯æ­ªçš„ï¼š\n\nâ€œé«˜ä¸ªçš„ SATA æŽ¥å£è¢«æˆ‘ç»™é”¯äº†ï¼Œæ¯”çŸ®ä¸ªçš„è¿˜çŸ®ï¼â€ï¼š\n\nâ€œç£¨â€æ”¹ä¹‹åŽçš„æ•ˆæžœï¼Œåº”è¯¥æ²¡é—®é¢˜å§ï¼š\n\næœ€åŽå°±æ˜¯ç»žå°½è„‘æ±æŠŠå„ç§çº¿å¡žåˆ° ITX æœºç®±é‡Œé¢ï¼Œå®žåœ¨æ˜¯å¤ªç—›è‹¦äº†ã€‚å¯¹äº†ï¼Œè¿™ä¸ªæœºç®±è‡ªå¸¦çš„é£Žæ‰‡æŽ¥çº¿ä¸æ˜¯å¾ˆé•¿ï¼Œè€Œå®ƒé‚£ä¸ªç¡¬ç›˜èƒŒæ¿ä¸Šçš„æ’é’ˆåˆæ˜¯æ»¡é€Ÿçš„ï¼Œå¦‚æžœä½ è¦æ˜¯æƒ³æ’åˆ°ä¸»æ¿ä¸Šè¿›è¡Œè°ƒé€Ÿï¼Œæœ€å¥½è‡ªå¤‡ä¸€æ ¹ 4pin é£Žæ‰‡å»¶é•¿çº¿ã€‚\nå‰©ä¸‹å°±æ²¡ä»€ä¹ˆå¥½è¯´çš„äº†ï¼Œæ¯•ç«Ÿæˆ‘ä¸æ‰“ç®—åœ¨è¿™é‡Œå¤è¿°ä¸€é Arch Wikiã€‚æˆ‘å¯¹ btrfs ä½¿ç”¨çš„å‚æ•°æ˜¯ -m raid1c3 -d raid10ï¼Œç„¶åŽåœ¨ç³»ç»Ÿé‡Œè®¾ç½®äº† samba å’Œ transmission çš„daemonã€‚æœ€åŽé™„ä¸Šä¸€äº›è£…å®Œçš„ç…§ç‰‡ã€‚\n\n\n\n"},{"title":"ç”¨ Telegram æœºå™¨äººåšåŽç«¯çš„ç…§ç‰‡å¢™","url":"/posts/Telegram-Bot-as-Gallery-Backend/","content":"æœæ´›å¤«å”å”æˆ‘å•Šï¼Œæœ€å–œæ¬¢ TON äº†ã€‚\n\nå…¶å®žå€’ä¹Ÿä¸ä¸€å®šæ˜¯ Telegram æœºå™¨äººï¼Œåªæ˜¯æˆ‘æ¯”è¾ƒç†Ÿæ‚‰è¿™ä¸ªçš„ APIï¼Œä¸è¿‡çœ‹æœæ´›å¤«å”å”è‡ªå·±æ‰“è‡ªå·±è„¸çš„æž¶åŠ¿ç”šè‡³æ¯”èµ·é™ˆå”å”æœ‰è¿‡ä¹‹è€Œæ— ä¸åŠï¼Œè¯´ä¸å®šå“ªå¤©æˆ‘çœŸçš„å¯èƒ½æŠŠè¿™ä¸ªæœåŠ¡è½¬ç§»åˆ°åˆ«çš„ä¸ŠåŽ»ï¼Œåæ­£åŽŸç†éƒ½æ˜¯ç±»ä¼¼çš„ã€‚è¿™ç¯‡æ–‡ç« åªæ˜¯è®°å½•ä¸€ä¸‹è¿™ä¸ªç‚¹å­çš„æ¥æºå’Œå½¢æˆè¿‡ç¨‹ï¼Œå…¶å®žå®žçŽ°èµ·æ¥æ²¡ä»€ä¹ˆæŠ€æœ¯éš¾åº¦ã€‚\n\n\næˆ‘å¹³æ—¶æ€»æ˜¯å¼ºè¿«è‡ªå·±å¤šæ‹ç‚¹ç…§ç‰‡ï¼Œå› ä¸ºæ‹ç…§è¿™ç§ä¸œè¥¿å¦‚æžœä¸å¼ºè¿«è‡ªå·±ï¼Œé‚£å°±è¶Šæ¥è¶Šæ‡’æœ€åŽå¹²è„†å°±ä¸æ‹äº†ã€‚è™½ç„¶æˆ‘æ²¡ä»€ä¹ˆå®¡ç¾Žä¹Ÿæ²¡ä»€ä¹ˆæŠ€æœ¯ï¼Œä¸è¿‡æ•°é‡åŠ è¿æ°”è¿˜æ˜¯èƒ½å¾—åˆ°ä¸€äº›ä¸é”™çš„ç…§ç‰‡ã€‚æˆ‘è¯•å›¾æŠŠè¿™äº›ç…§ç‰‡åˆ†äº«åˆ°å…¬å…±å¹³å°ï¼Œä¸è¿‡è€ƒè™‘åˆ°æˆ‘è‡ªå·±çš„å£å‘³é—®é¢˜ï¼Œæœ‰ç‚¹éš¾åŠžã€‚å¹³æ—¶æˆ‘ä¸€èˆ¬å‘å¾®ä¿¡æœ‹å‹åœˆç„¶åŽç‚¹å‡»åŒæ­¥åˆ° QQ ç©ºé—´ï¼Œè¿™æ ·ç†Ÿäººå°±å¯ä»¥çœ‹åˆ°äº†ï¼Œä¸è¿‡è¿™ä¸èƒ½ç®—æ˜¯å…¬å…±å¹³å°å§ã€‚è€Œå¾®åšè¿™ç§åžƒåœ¾å¹³å°ï¼Œå¦‚æžœä¸æ˜¯çŒ«æ—¥åœ¨ä¸Šé¢æ›´æ–°ï¼Œæˆ‘å¤§æ¦‚ä¹Ÿæ—©å°±ä¸ç”¨äº†ï¼Œæ‰€ä»¥æ˜¯æ–­ç„¶ä¸å¯èƒ½å‘çš„ã€‚å¾ˆå¤šå›½å†…æ‘„å½±ä¼šå‘å°çº¢ä¹¦ï¼Œä½†æ˜¯æˆ‘ä¹Ÿæ¯”è¾ƒè®¨åŽŒè¿™ä¸ªå¹³å°ï¼Œè€Œä¸”å®ƒä¼¼ä¹Žåªæœ‰æ‰‹æœº APP æ²¡æœ‰ç½‘é¡µç‰ˆã€‚æŠ–éŸ³æˆ‘ä¹Ÿæ²¡ä»€ä¹ˆå¥½æ„Ÿã€‚B ç«™åŠ¨æ€æˆ‘å€’æ˜¯æŒºæ„¿æ„å‘ä¸€å‘çš„ï¼Œä¸è¿‡å”å”çš„æŠ€æœ¯æ°´å¹³å®žåœ¨æ˜¯æ‹‰ä¸­æ‹‰ï¼ŒåŠ¨æ€è¿žä¸ªæŒ‡å®šé¡µç ç¿»é¡µåŠŸèƒ½éƒ½æ²¡æœ‰ã€‚ç„¶åŽè€ƒè™‘å›½å¤–çš„ç¤¾äº¤å¹³å°çš„è¯ï¼Œå…¶å®žä¹Ÿæ²¡ä»€ä¹ˆæ„æ€ï¼Œè¿™é‡Œæˆ‘è¦ç‰¹åˆ«æä¸€ä¸‹å¥½å¤šåäººæ˜Žæ˜Ÿå’Œæ‘„å½±å¸ˆå–œæ¬¢çš„ Instagramï¼Œæˆ‘çœŸçš„ä¸èƒ½ç†è§£è¿™ä¸œè¥¿æ˜¯æ€Žä¹ˆç«çš„ï¼Œæ‰‹æœºå®¢æˆ·ç«¯ä¸€ç‚¹ä¹Ÿä¸ Nativeï¼Œæ—¢ä¸æ˜¯ Android é£Žä¹Ÿä¸æ˜¯ iOS é£Žï¼Œè€Œä¸”æ„Ÿè§‰åŠŸèƒ½æ¯” Twitter å·®å¤šäº†ï¼Œè‡³äºŽç½‘é¡µç‰ˆï¼Œç‚¹å¼€å›¾ç‰‡æ˜¾ç¤ºçš„çª—å£æ¯”æ‰‹æœºå±å¹•è¿˜å°ï¼Œè€Œä¸” 2022 å¹´äº†ï¼ŒæŠ–éŸ³ç½‘é¡µç‰ˆéƒ½èƒ½ä¸ç™»å½•å°±è®¿é—®ï¼ŒInstagram ç½‘é¡µç‰ˆè¿˜ä¸€å®šè¦æˆ‘ç™»å½•ã€‚ç„¶åŽæˆ‘æƒ³é€€è€Œæ±‚å…¶æ¬¡æˆ‘èƒ½ä¸èƒ½åˆ©ç”¨çŽ°æœ‰çš„ APIï¼Œå†™ä¸ª Telegram æœºå™¨äººæ›¿æˆ‘å®šæœŸå‘å›¾ï¼Œæˆ‘åªè¦æŠŠå›¾å‘ç»™ Telegram æœºå™¨äººå°±å¥½äº†ã€‚æˆ‘è§è¿‡å¾ˆå¤šè¿™æ ·çš„ Twitter æœºå™¨äººã€‚ä¸è¿‡é—®é¢˜è¿˜æ˜¯ä¸€æ ·ï¼Œå›½å†…å¹³å°åªæƒ³ä»ŽçœŸäººç”¨æˆ·èº«ä¸Šè–…é’±ï¼Œæ ¹æœ¬ä¸åœ¨ä¹Žä»€ä¹ˆæŠ€æœ¯ç›¸å…³çš„ä¸œè¥¿ï¼Œä¹Ÿä¸ä¼šç»™ä½ åšå…¬å¼€ APIã€‚å›½å¤–å¹³å°çš„è¯ï¼Œæˆ‘è¿˜æ˜¯æ›´æƒ³ç»™ä¸­æ–‡çŽ¯å¢ƒçš„ç”¨æˆ·çœ‹å§ï¼Œæ‰€ä»¥ä¹Ÿä¸åˆé€‚ã€‚\nå…¶å®žæˆ‘ä¸æ˜¯æ²¡æƒ³è¿‡ç›´æŽ¥å‘åœ¨æˆ‘è‡ªå·±çš„åšå®¢ä¸Šï¼Œä½†æ˜¯é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œé¦–å…ˆåšå®¢æ˜¯ä»¥æ–‡ç« ä¸ºä¸­å¿ƒçš„ï¼Œä¸€ç¯‡æ–‡ç« è¦æœ‰æ ‡é¢˜ï¼Œä½†æ˜¯æˆ‘æƒ³çš„å°±æ˜¯å‘å›¾ç„¶åŽé…å‡ å¥è¯æˆ–è€…æ ¹æœ¬ä¸é…ï¼ˆæ‚¨ pay å—ï¼Ÿï¼‰ï¼Œè¦æ˜¯å•ç‹¬ä½œä¸ºä¸€ä¸ª pageï¼Œé‚£è¿™ä¸ª page å¯èƒ½ä¼šå¾ˆé•¿ã€‚æˆ‘ä¹Ÿè€ƒè™‘è¿‡æ–°å»ºä¸€ä¸ªç«™ç‚¹ç„¶åŽåšä¸€ä¸ªç‰¹åŒ–çš„ä¸»é¢˜ç”¨ç”Ÿæˆå™¨ç”Ÿæˆï¼Œä¸è¿‡è¿™æœ‰ç‚¹æ€é¸¡ç”¨ç‰›åˆ€çš„æ„æ€äº†ã€‚å†ä¹‹åŽçš„é—®é¢˜æ˜¯å†™åšå®¢æˆ‘ä¼šå†™å¾ˆé•¿çš„æ–‡ç« ï¼Œæ‰€ä»¥æˆ‘è‚¯å®šæ˜¯åœ¨ç”µè„‘ä¸Šç¼–å†™ï¼Œä½†æˆ‘å‘ç…§ç‰‡å¯èƒ½æ˜¯å¿ƒæƒ…åˆ°äº†å°±å‘ï¼Œæ˜¾ç„¶ç”¨æ‰‹æœºæ›´æ–¹ä¾¿ï¼Œè¦æ˜¯ä¸ºäº†è¿™ä¸ªå†å†™ä¸€ä¸ªç½‘é¡µçš„å‘å›¾åŽå°æœ‰ç‚¹éº»çƒ¦äº†ã€‚æ‰€ä»¥å¹²è„†ç»¼åˆä¸€ä¸‹æƒ³æ³•ï¼Œè·‘ä¸€ä¸ª Telegram æœºå™¨äººä½œä¸ºåŽå°ï¼Œæ¯æ¬¡æ”¶åˆ°æˆ‘å‘çš„å›¾å°±è‡ªåŠ¨å»ºç«‹ç›®å½•ç„¶åŽä¸‹è½½è¿›åŽ»ï¼Œå†ç”Ÿæˆé™æ€ç½‘é¡µå°±å¯ä»¥äº†ã€‚æ­£å¥½æˆ‘ä¹‹å‰ä»Žè“çŒ«é‚£ä¹°äº†ä¸€ä¸ªæ ‘èŽ“æ´¾ 4ï¼Œä½†æ˜¯ä¸çŸ¥é“æœ‰ä»€ä¹ˆç”¨ï¼Œå°±è®©å®ƒæ¥è·‘è¿™ä¸ªã€‚\næœºå™¨äººçš„éƒ¨åˆ†å…¶å®žä¸éš¾ï¼Œéœ€è¦æ³¨æ„çš„ä¹Ÿå°±æ˜¯é™åˆ¶èƒ½äº¤äº’çš„ç”¨æˆ·åï¼Œä»¥åŠåªå¤„ç†ç§èŠçš„æ–‡æœ¬å’Œå›¾ç‰‡æ¶ˆæ¯ã€‚å…¶å®žç†è®ºä¸Šå¯ä»¥åšåˆ°æ¯æ¬¡å‘å¸¦å­—çš„å›¾ç‰‡ç»„å°±å‘ä¸€æ¡ï¼Œä½†æ˜¯è€ƒè™‘åˆ°æ‰©å±•æ€§æˆ‘æ²¡è¿™æ ·åšï¼Œè€Œæ˜¯ä½¿ç”¨å‘½ä»¤å¤„ç†äº†ï¼ˆè€Œä¸”ä»Ž API ä¸Šå›¾ç‰‡ç»„ä¹Ÿä¸æ˜¯ä¸€æ¡æ¶ˆæ¯ï¼Œè€Œæ˜¯å¤šæ¡æ¶ˆæ¯å¸¦æœ‰åŒæ ·çš„ç»„æ ‡è¯†ï¼‰ã€‚æˆ‘çš„åšæ³•æ˜¯æžäº†ä¸€ä¸ªçŠ¶æ€æœºï¼Œè¿›å…¥ create çŠ¶æ€ï¼Œæ”¶åˆ°çš„å›¾ç‰‡æ¶ˆæ¯å°±ä¼šè¢«åŠ å…¥å›¾ç‰‡æ•°ç»„ï¼Œæ–‡æœ¬æ¶ˆæ¯åˆ™ä¼šè¢«è¿žæŽ¥èµ·æ¥ï¼Œç„¶åŽé€šè¿‡çŠ¶æ€è½¬ç§»å¯ä»¥è¿›å…¥ä¸åŒçš„çŠ¶æ€ï¼Œæ¯”å¦‚è¿›å…¥ authors çŠ¶æ€å°±ä¼šæŠŠæ”¶åˆ°çš„æ¯æ¡æ¶ˆæ¯ä½œä¸ºä¸€ä¸ªä½œè€…åå­—æ”¾è¿›ä½œè€…æ•°ç»„ï¼Œç„¶åŽæœ€åŽæ‰§è¡Œ commit å‘½ä»¤è®©æœºå™¨äººä»¥æ—¶é—´æˆ³ä½œä¸ºåå­—åˆ›å»ºç›®å½•ï¼Œç„¶åŽæŠŠå›¾ç‰‡ä¸‹è½½ä¸‹æ¥ï¼ŒæŠŠå›¾ç‰‡æ•°ç»„ä½œè€…æ•°ç»„æ–‡æœ¬éƒ½ä½œä¸ºé”®å€¼å¯¹å†™å…¥è¿™ä¸ªç›®å½•çš„ index.jsonï¼Œè¿™æ ·æˆ‘ä»¬å°±æ—¢æœ‰å›¾ç‰‡åˆæœ‰å…ƒæ•°æ®äº†ã€‚ç„¶åŽè®©æœºå™¨äººè°ƒç”¨ç”Ÿæˆç”¨çš„è„šæœ¬ã€‚åŒæ ·è¿˜æœ‰ cancel å‘½ä»¤å¯ä»¥å–æ¶ˆæœª commit çš„æ“ä½œï¼Œä»¥åŠè¶…æ—¶ä¹‹åŽè‡ªåŠ¨å–æ¶ˆã€‚åŒæ—¶ä¸ºäº†æ–¹ä¾¿è¿˜æœ‰ delete çŠ¶æ€ï¼Œæ¯æ¡æ¶ˆæ¯éƒ½ä¼šè¢«ä½œä¸ºè¦åˆ é™¤çš„ç›®å½•çš„åå­—ï¼Œcommit ä¹‹åŽä¸€èµ·åˆ é™¤ã€‚å½“ç„¶æ—¶é—´æˆ³æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œå°±æ˜¯ UNIX çºªå…ƒä¹‹å‰çš„æ—¶é—´æ˜¯è´Ÿæ•°ï¼Œå¦‚æžœç›´æŽ¥è½¬æˆå­—ç¬¦ä¸²åˆ›å»ºç›®å½•ï¼Œå°±æ˜¯ä»¥ - å¼€å¤´çš„ï¼Œåœ¨ shell é‡Œé¢ä¼šæ¯”è¾ƒéš¾å¤„ç†ï¼ˆå› ä¸ºå‘½ä»¤è¡Œç¨‹åºä¼šæŠŠ - ä½œä¸ºå‚æ•°å¼€å§‹çš„æ ‡è®°ï¼Œè¿™ä¸æ˜¯ shell è´Ÿè´£çš„ï¼Œæ‰€ä»¥å°±ç®—ä½ åæ–œæ è½¬ä¹‰æˆ–è€…åŠ å¼•å·ä¹Ÿæ²¡ç”¨ï¼Œä¸€ä¸ªé€šä¿—çº¦å®šæ˜¯åœ¨è¿™æ ·å¼€å¤´çš„å­—ç¬¦ä¸²å‰é¢åŠ ä¸€ä¸ª -- çš„å‚æ•°ï¼Œæ„æ€æ˜¯è®©ç¨‹åºä¸è¦æŠŠåŽé¢çš„å­—ç¬¦ä¸²å½“ä½œå‚æ•°åˆ—è¡¨å¤„ç†ï¼‰ï¼Œç®€å•åœ°åŠžæ³•æ˜¯æ›¿æ¢æŽ‰è¿™ä¸ªç¬¦å·å°±å¥½äº†ï¼Œæ¯”å¦‚æˆ‘æ¢æˆ nï¼ˆä½†æ˜¯çœŸçš„ä¼šæœ‰äººç©¿è¶Šåˆ° 1970 å¹´ä¹‹å‰ç”¨è¿™çŽ©æ„å—ï¼Ÿï¼‰ã€‚å¯¹äºŽ Telegram Bot API è¿˜æœ‰éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œå°±æ˜¯å›¾ç‰‡ä¸‹é¢å¸¦çš„æ–‡å­—å¹¶ä¸æ˜¯åœ¨ text é”®ä¸‹é¢ï¼Œè€Œæ˜¯åœ¨ caption ä¸‹é¢ï¼Œä¸è¿‡å¤„ç†çš„ä»£ç å€’æ˜¯å¯ä»¥å¤ç”¨ã€‚è°ƒç”¨ç”Ÿæˆçš„è„šæœ¬çš„æ—¶å€™ä¹Ÿè¦æ³¨æ„å·¥ä½œç›®å½•ï¼Œè¿™ä¸ªè¿‡ç¨‹å®Œå…¨æ˜¯å¤„ç†ç£ç›˜æ–‡ä»¶ï¼Œç›®å½•å¾ˆé‡è¦ã€‚\nåŽ‹ç¼©å›¾ç‰‡çš„è§£å†³æ–¹æ¡ˆå…¶å®žéžå¸¸ç®€å•ï¼šç”¨ Telegram å‘å›¾ç‰‡çš„æ—¶å€™ä¸å°±è‡ªåŠ¨åŽ‹ç¼©å›¾ç‰‡äº†å—ï¼è™½ç„¶ä½œä¸ºè®¿é—®è€…ï¼Œæˆ‘å¸¸å¸¸å¸Œæœ›å›¾ç‰‡ç½‘ç«™æä¾›åŽŸå›¾ä¸‹è½½ï¼Œä¸è¿‡å½“æˆ‘è‡ªå·± host ä¸€ä¸ªå›¾ç‰‡ç½‘ç«™çš„æ—¶å€™ï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯ä¸è¦ä¼ åŽŸå›¾å¥½äº†ï¼Œæ¯•ç«Ÿæˆ‘æ˜¯æ”¾åœ¨ GitHub ä¸Šï¼Œæœ‰å®¹é‡é™åˆ¶ï¼Œè€Œä¸”å°±ç®—æ²¡æœ‰å®¹é‡é™åˆ¶ï¼ŒåŽŸå›¾è®¿é—®èµ·æ¥å¤ªæ…¢äº†ï¼Œä½“éªŒä¹Ÿä¸ä¼šç‰¹åˆ«å¥½ï¼Œåæ­£å®žåœ¨ä¸è¡Œå¦‚æžœæœ‰è®¿é—®è€…çœŸå¿ƒå–œæ¬¢ï¼Œè®©ä»–å‘é‚®ä»¶è”ç³»æˆ‘å°±è¡Œäº†ã€‚\nä¸€å¼€å§‹å…¶å®žæˆ‘è§‰å¾—è¿™ä¸ªç½‘é¡µåº”è¯¥ä¼šæ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥å¹²è„†æŠŠæž„å»ºç½‘é¡µçš„ä»£ç ä¹Ÿå†™è¿›æœºå™¨äººå¥½äº†ï¼Œä¸è¿‡ç¾¤å‹å»ºè®®è¿˜æ˜¯åˆ†å¼€ï¼Œåªæ˜¯æŠŠ Telegram æœºå™¨äººä½œä¸ºæ•°æ®æ¥æºï¼Œè¿™æ ·ä»¥åŽä¹Ÿå¥½æ·»åŠ åˆ«çš„æ•°æ®æ¥æºï¼Œæˆ‘è§‰å¾—åˆç†ã€‚æž„å»ºç½‘é¡µå…¶å®žå¾ˆç®€å•äº†ï¼Œè¯»å–æ‰€æœ‰çš„å›¾ç‰‡ç›®å½•çš„æ•°æ®ï¼ŒæŽ’åºï¼Œæ¸²æŸ“è¿›ç½‘é¡µé‡Œï¼Œä½ å¯ä»¥ç”¨å„ç§æ–¹å¼è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ¯”å¦‚çŽ°ä»£çš„åŒå‘ç»‘å®šæ¡†æž¶ React æˆ–è€… Vueï¼Œæ¯”å¦‚ä¼ ç»Ÿçš„æ¨¡æ¿ç³»ç»Ÿ EJS æˆ–è€… Nunjucksï¼Œä½†æ˜¯æˆ‘ä¸æƒ³å¼•å…¥åˆ«çš„ä¾èµ–äº†ï¼Œæ‰€ä»¥åšäº†ä¸€ä¸ªæŠ•æœºå–å·§çš„åŠžæ³•ï¼Œæž„å»ºçš„æ—¶å€™è¯»å–å„ä¸ªç›®å½•çš„ jsonï¼Œç„¶åŽå¾—åˆ°ä¸€ä¸ªå¤§çš„æ•°ç»„ï¼Œç»™å®ƒåˆ†é¡µï¼Œå†™è¿›ä¸åŒçš„ json é‡Œé¢ï¼Œå‰ç«¯çš„ç½‘é¡µé€šè¿‡ JavaScrip fetch åŽ»èŽ·å–è¿™ä¸ªä½œä¸ºç´¢å¼•çš„ jsonï¼ŒæŠŠå®žé™…çš„å†…å®¹æ¸²æŸ“è¿›å…ƒç´ é‡Œé¢ï¼ˆå…¶å®žå°±æ˜¯ä¸ç”¨ React çš„å•é¡µåº”ç”¨äº†ï¼‰ã€‚ç„¶åŽé¡µç å…¶å®žå°±æ˜¯å¤„ç† QueryString é‡Œé¢çš„ p å‚æ•°ï¼Œè¿™ä¸ªä¹Ÿå¯ä»¥ç”¨ JS è§£å†³ã€‚äºŽæ˜¯æˆ‘åªè¦æž„å»ºå¥½ä¹‹åŽæŠŠè¿™ä¸ªé¡µé¢ push åˆ° GitHub å¼€å¯ Pages å°±è¡Œäº†ã€‚ï¼ˆå…¶å®žå¦‚æžœå®žåœ¨è®¨åŽŒå‰ç«¯è·‘ JS çš„è¯ï¼ŒåŽç«¯ä»£ç é‡Œç›´æŽ¥æ‹¼ HTML å­—ç¬¦ä¸²ä¹Ÿè¡Œå˜›ï¼Œä¸è¿‡æˆ‘æ˜¯æ‡’å¾—æ”¹äº†ã€‚ï¼‰\n\nå‰ç«¯çš„éƒ¨åˆ†æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œæ€Žä¹ˆæŽ’ç‰ˆç…§ç‰‡æ˜¯ä¸ªé—®é¢˜ï¼Œæˆ‘å‚è€ƒäº† https://css-tricks.com/adaptive-photo-layout-with-flexbox/ï¼Œè¿™ä¸ªæ•ˆæžœå¾ˆä¸é”™ï¼Œä¸è¿‡è¯„è®ºé‡ŒæŒ‡å‡ºå¯ä»¥ç”¨ CSS ä¼ªå…ƒç´ å æ®æœ€åŽçš„ç©ºç™½ç©ºé—´ï¼Œæˆ‘ä¹Ÿè¿™ä¹ˆå®žçŽ°çš„ã€‚\nåŽç«¯ï¼ˆæœºå™¨äººï¼‰çš„ä»£ç åœ¨ https://github.com/AlynxZhou/image-collector-bot/, å‰ç«¯çš„ä»£ç åœ¨ https://github.com/AlynxZhou/azgallery/ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹ä¹Ÿå¯ä»¥è‡ªå·±æžä¸€ä¸ªçŽ©çŽ©ï¼Œå¦‚æžœä½ æƒ³çœ‹æœ€åŽçš„æˆæžœï¼Œè¿™ä¸ªåšå®¢çš„èœå•æ é‡Œé¢å°±æœ‰ç…§ç‰‡å¢™çš„é“¾æŽ¥äº†ã€‚\n"},{"title":"æˆ‘å¦‚ä½•åœ¨ Emacs é‡Œé¢å¤„ç†ç¼©è¿›å®½åº¦å’Œ Tab å®½åº¦","url":"/posts/How-I-Handle-Indent-Offset-and-Tab-Width-in-Emacs/","content":"\nTabs are 8 characters, and thus indentations are also 8 characters. There are heretic movements that try to make indentations 4 (or even 2!) characters deep, and that is akin to trying to define the value of PI to be 3.\n-- Linux Kernel Coding Style\n\nå½“ç„¶ï¼Œæˆ‘ä¸æ˜¯åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½åŒæ„ä¸Šé¢é‚£å¥è¯ï¼Œè™½ç„¶åœ¨å†™ C çš„æ—¶å€™å®ƒæ˜¯ç»å¯¹çš„çœŸç†ã€‚æˆ‘ä¸ªäººå€¾å‘äºŽå–å…¶ä¸­ä¸€éƒ¨åˆ†â€”â€”ä»»ä½•è¯•å›¾æŠŠ Tab å®½åº¦å®šä¹‰ä¸º 8 ä»¥å¤–çš„è¡Œä¸ºéƒ½æ— å¼‚äºŽæŠŠ PI å®šä¹‰ä¸º 3ã€‚\n\n\nå†™è¿™ç¯‡æ–‡ç« æ˜¯å› ä¸ºæˆ‘æ„è¯†åˆ°ä¸€ä¸ªé—®é¢˜ï¼šTab å®½åº¦å’Œç¼©è¿›å®½åº¦æ˜¯ä¸¤ä¸ªæ— å…³çš„å˜é‡ã€‚å¾ˆå¤šäººç®€å•åœ°æŠŠç¼©è¿›å®½åº¦ç†è§£ä¸º Tab å®½åº¦ï¼Œä¸è¿‡è¿™ä¸èƒ½æ€ªä»–ä»¬ï¼Œå› ä¸ºå¤§éƒ¨åˆ†çš„ç¼–è¾‘å™¨éƒ½æŠŠè¿™ä¸¤è€…å½“ä½œç›¸åŒçš„ä¸œè¥¿ã€‚è€Œå½“æˆ‘é‡æ–°å¼€å§‹ç”¨ Emacsï¼Œæ‰å‘çŽ°è¿™ä¸¤ä¸ªæœ¬æ¥åº”è¯¥æ˜¯ä¸ä¸€æ ·çš„ã€‚\nä¸ºäº†é˜²æ­¢è¿·æƒ‘ï¼Œé¦–å…ˆè§£é‡Šå‡ ä¸ªæˆ‘è¯´çš„åè¯ï¼š\n\nTab å®½åº¦ï¼šå­—é¢æ„ä¹‰ä¸Šçš„ä¸€ä¸ª Tab å­—ç¬¦åº”è¯¥ç›¸å½“äºŽå‡ ä¸ªç©ºæ ¼çš„å®½åº¦ï¼Œåœ¨ Emacs é‡Œé¢æ˜¯ tab-width è¿™ä¸ªå˜é‡ï¼Œæˆ‘ä¸ªäººå»ºè®®å›ºå®šä¸º 8ã€‚\nç¼©è¿›å®½åº¦ï¼šå½“ä½ çš„ä»£ç åº”è¯¥å¢žåŠ ä¸€ä¸ªç¼©è¿›çº§åˆ«çš„æ—¶å€™ï¼Œåº”è¯¥å‘å³ç¼©è¿›å‡ ä¸ªç©ºæ ¼çš„å®½åº¦ï¼Œåœ¨ Emacs é‡Œé¢æ¯ä¸ªæ¨¡å¼éƒ½æœ‰ä¸åŒçš„å˜é‡æŽ§åˆ¶ï¼Œæ¯”å¦‚ c-indent-offsetã€‚\nç¼©è¿›çº§åˆ«ï¼šä»£ç é€»è¾‘å±‚æ¬¡ï¼ˆæˆ–è®¸å¯ä»¥ç®€å•ç†è§£ä¸ºä½œç”¨åŸŸï¼‰æ¯å¢žåŠ ä¸€å±‚ï¼Œä¸€èˆ¬å°±åº”è¯¥å¢žåŠ ä¸€ä¸ªç¼©è¿›å±‚çº§ã€‚\nä½¿ç”¨ Tab ç¼©è¿›ï¼šä¸æ˜¯è¯´åªä½¿ç”¨ Tab ç¼©è¿›çš„æ„æ€ã€‚äº‹å®žä¸Šå¦‚æžœä½ çš„ä»£ç å¯ä»¥åªä½¿ç”¨ Tab ç¼©è¿›ï¼Œé‚£ä¹ˆ Tab å®½åº¦ä¸ºå‡ éƒ½æ— æ‰€è°“ï¼Œå› ä¸ºä¸€ä¸ªç¼©è¿›å®½åº¦å°±æ˜¯ä¸€ä¸ª Tabï¼Œä½†å®žé™…ä¸Šä½ ä¸ä¸€å®šåªä½¿ç”¨ Tab ç¼©è¿›ï¼Œå› ä¸ºä½ å¯èƒ½è¿˜åŒ…å«å¯¹é½çš„æƒ…å†µï¼Œæ¯”æ–¹è¯´å‡½æ•°å¤´å‚æ•°å¤ªå¤šï¼Œè€Œä½ å¸Œæœ›æ¢è¡ŒåŽçš„å‚æ•°èƒ½å¤Ÿå’Œå·¦æ‹¬å·çš„ä¸‹ä¸€ä¸ªå­—ç¬¦å¯¹é½ï¼Œé‚£ä¹ˆè¿™ä¸ªè·ç¦»å¤§æ¦‚çŽ‡æ— æ³•è¢« Tab å®½åº¦æ•´é™¤ã€‚å› æ­¤ä½¿ç”¨ Tab ç¼©è¿›çš„å«ä¹‰æ˜¯â€œæ€»ç¼©è¿›å®½åº¦èƒ½å¤Ÿç”¨ Tab å®½åº¦æ•´é™¤çš„éƒ¨åˆ†ç”¨ Tabï¼Œä½™æ•°çš„éƒ¨åˆ†ç”¨ç©ºæ ¼â€ï¼Œä¹Ÿå°±æ˜¯ Emacs é‡Œé¢ (indent-tabs-mode 1) çš„æ•ˆæžœã€‚\nä½¿ç”¨ç©ºæ ¼ç¼©è¿›ï¼šå’Œä¸Šé¢ç›¸åï¼Œæ„å‘³ç€ç¼©è¿›éƒ¨åˆ†å®Œå…¨ä¸ä½¿ç”¨ Tab å­—ç¬¦ï¼Œé‚£ä¹ˆ Tab å®½åº¦ä¸ºå‡ ä¹Ÿæ— æ‰€è°“ã€‚ä¹Ÿå°±æ˜¯ Emacs é‡Œé¢ (indent-tabs-mode -1) çš„æ•ˆæžœã€‚\n\næˆ‘ä¸ªäººçš„å»ºè®®å’Œå€¾å‘ä¸»è¦æ˜¯ä¸¤ä¸ªï¼Œç¬¬ä¸€ä¸ªæ˜¯ Tab å®½åº¦å›ºå®šä¸º 8ï¼Œç¬¬äºŒä¸ªåˆ™æ˜¯å¦‚æžœä½ è®¤ä¸ºç¼©è¿›å®½åº¦ä¸º 8 ä¹Ÿå°±æ˜¯ä¸€ä¸ª Tab å¯¹ä½ æ¥è¯´å¤ªå®½ï¼Œé‚£ä¹ˆä½ å°±åº”è¯¥å®Œå…¨ä¸ç”¨ Tab ç¼©è¿›ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨ç©ºæ ¼ç¼©è¿›ï¼Œè€Œä¸æ˜¯ä¿®æ”¹ Tab å®½åº¦ã€‚\nè¿™æ ·åšçš„ç†ç”±å¾ˆç®€å•ï¼Œä¸»è¦æ˜¯æˆ‘æœ€è¿‘ä¿®æ”¹ GTK ä»£ç æ—¶å€™å‘çŽ°çš„ï¼ŒGTK ä»£ç æ˜¯å…¸åž‹çš„ GNU é£Žæ ¼ï¼Œæˆ‘ä¸€å¼€å§‹ä»¥ä¸ºå®ƒæ˜¯å®Œå…¨ä¸ä½¿ç”¨ Tab ç¼©è¿›ï¼Œå¹¶ä¸”ç¼©è¿›å®½åº¦æ˜¯ 2ï¼Œå¹¶ä¸”æˆ‘åœ¨ Atom é‡Œé¢ä¹Ÿæ˜¯æŠŠè¿™ä¸ªé¡¹ç›®çš„ Tab å®½åº¦è®¾ä¸º 2ï¼Œä½†æˆ‘å‰æ®µæ—¶é—´å‘çŽ° GTK å®žé™…ä¸Šæ˜¯ä½¿ç”¨ Tab çš„ï¼Œæ¯”å¦‚ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„æƒ…å†µï¼šæŸæ®µä»£ç çš„æ€»ç¼©è¿›çº§åˆ«æ˜¯ 5ï¼Œè€Œå®ƒå®žé™…ä¸Šä½¿ç”¨çš„æ˜¯ 1 ä¸ª Tab å’Œ 2 ä¸ªç©ºæ ¼ï¼Œå¦‚æžœä½ æŠŠ Tab å®½åº¦è®¾ç½®æˆ 2ï¼Œé‚£è¿™æ®µä»£ç åœ¨ä½ çš„ç¼–è¾‘å™¨é‡Œå°±ä¼šé”™è¯¯çš„æ˜¾ç¤ºæˆ 2 ä¸ªç¼©è¿›çº§åˆ«ï¼Œåªæœ‰ä½ çš„ Tab å®½åº¦æ˜¯ 8 çš„æ—¶å€™æ‰èƒ½æ­£ç¡®çš„æ˜¾ç¤ºã€‚\nè¿™äº›å¥‡æ€ªç¼©è¿›çš„é¡¹ç›®ç»™äº†æˆ‘ä¸¤ä¸ªæ•™è®­ï¼šTab å®½åº¦å’Œç¼©è¿›å®½åº¦å¹¶ä¸æ˜¯ä¸€ä¸ªä¸œè¥¿ï¼Œä»¥åŠæœ€å¥½å‡è®¾ Tab å®½åº¦ä¸º 8ã€‚å½“ç„¶ï¼Œä»¥ä¸Šçš„å»ºè®®éƒ½æ˜¯ä»¥éµç…§çŽ°æœ‰ä»£ç çš„é£Žæ ¼ä¸ºå‰æï¼Œåº”è¯¥ä¸ä¼šæœ‰äººä»»æ€§åˆ°æŠŠåˆ«äººçš„é¡¹ç›®éƒ½æ”¹æˆè‡ªå·±é£Žæ ¼å†æäº¤è´¡çŒ®å§ã€‚\næˆ‘å€’ä¸æ˜¯å®Œå…¨çš„ Tab ç¼©è¿›å…šï¼Œæ¯”å¦‚åœ¨ Python é‡Œæˆ‘è®¾ç½®ç¼©è¿›å®½åº¦æ˜¯ 4ï¼Œè€Œåœ¨ JavaScript é‡Œæˆ‘è®¾ç½®ç¼©è¿›å®½åº¦æ˜¯ 2ï¼Œä¸»è¦æ˜¯å› ä¸ºå¯¹äºŽ C è¿™ç§ä¸å…è®¸åµŒå¥—å‡½æ•°å¹¶ä¸”æ²¡æœ‰ç±»ä¼¼ class è¿™ç§å±‚æ¬¡çš„è¯­è¨€æ¥è¯´ï¼Œç¼©è¿›çº§åˆ«å®Œå…¨å°±æ˜¯å‡½æ•°å†…éƒ¨é€»è¾‘ï¼Œå½“ä½ æ€»ç¼©è¿›å®½åº¦è¾¾åˆ° 24 çš„æ—¶å€™ï¼Œä½ å·²ç»åœ¨å‡½æ•°é‡Œæœ‰ä¸‰å±‚é€»è¾‘äº†ã€‚è€Œå¯¹ Python æˆ–è€… JS è¿™ç±»å‡½æ•°ç»å¸¸æ˜¯ç±»çš„æ–¹æ³•çš„è¯­è¨€ï¼Œæœ¬èº«å‡½æ•°å°±å·²ç»å¸¦ç€ä¸€ä¸ªç¼©è¿›çº§åˆ«äº†ï¼Œä¸‰ä¸ªç¼©è¿›çº§åˆ«ä»…ä»…åªä»£è¡¨ä¸¤å±‚å‡½æ•°å†…éƒ¨é€»è¾‘ï¼Œæ›´åˆ«ææ¯”å¦‚å›žè°ƒå‡½æ•°æ˜¯åŒ¿åå‡½æ•°çš„æƒ…å†µäº†ã€‚\nè‡³äºŽå½“ç¼©è¿›å®½åº¦ä¸æ˜¯ 8 æ—¶ä½¿ç”¨ç©ºæ ¼ç¼©è¿›è€Œä¸æ˜¯ç”¨ Tab ç„¶åŽä¿®æ”¹ Tab å®½åº¦çš„ç†ç”±ä¹Ÿå¾ˆç®€å•ï¼Œå’Œä¸Šé¢è¯´çš„ä¸€æ ·ï¼Œå®Œå…¨ä½¿ç”¨ Tab ç¼©è¿›æ—¶è™½ç„¶ Tab å®½åº¦ä¸ä¼šå½±å“æ€»ç¼©è¿›çº§åˆ«ï¼Œä½†æ˜¯ä¸€æ—¦é‡åˆ°å¯¹é½çš„æƒ…å†µï¼ŒTab å®½åº¦ä¸ä¸€è‡´ï¼Œå¯¹é½çš„éƒ¨åˆ†å°±ä¸å†ä¸€æ ·äº†ã€‚\nè¯´äº†è¿™ä¹ˆå¤šç†è®ºï¼Œè¯¥åˆ°å…·ä½“çš„æˆ‘æ€Žä¹ˆåœ¨ Emacs é‡Œé¢å¤„ç†äº†ï¼Œé¦–å…ˆæ˜¯é»˜è®¤å€¼ï¼Œæˆ‘ä¸ªäººæ˜¯å®šä¹‰ Tab å®½åº¦ä¸º 8 å¹¶ä¸”è®¾ç½®å…è®¸ä½¿ç”¨ Tab ç¼©è¿›ã€‚\n(setq-default tab-width 8)\n(setq-default indent-tabs-mode t)\n\né»˜è®¤çš„ C ç¼–ç é£Žæ ¼æ˜¯ GNUï¼Œä½†æ˜¯ GNU çš„ç¼–ç é£Žæ ¼å®žåœ¨æ˜¯å¤ªææ€–äº†ï¼Œç‰¹åˆ«æ˜¯å¤§éƒ¨åˆ†äººçš„å…¥é—¨ä¹¦ä¸Šåº”è¯¥éƒ½æ˜¯ K&amp;R æˆ–è€…ç±»ä¼¼çš„é£Žæ ¼ã€‚æˆ‘æ¢æˆäº†æˆ‘å–œæ¬¢çš„ linux å†…æ ¸é£Žæ ¼ã€‚æœ‰çš„å˜é‡ä½ å¯ä»¥ç›´æŽ¥ä½¿ç”¨ setqï¼Œä½†å¦ä¸€äº›ä½¿ç”¨ setq ä¼šè¯´ä½ å£°æ˜Žäº†ä¸€ä¸ªæ–°çš„è‡ªç”±å˜é‡ï¼Œè¿™ä¸ªæ—¶å€™è¿˜æ˜¯éµç…§å»ºè®®ä½¿ç”¨ Emacs çš„ customize ç³»ç»Ÿå§ã€‚\n(customize-set-variable 'c-default-style '((java-mode . \"java\")\n                                           (awk-mode . \"awk\")\n                                           (other . \"linux\")))\n\nå‰é¢è¯´è¿‡ Emacs å¯¹äºŽä¸åŒçš„æ¨¡å¼ä½¿ç”¨ä¸åŒçš„å˜é‡ä½œä¸ºç¼©è¿›å®½åº¦ï¼Œè¿™æ ·å¯¹äºŽç¼–å†™é…ç½®å…¶å®žå¾ˆå›°éš¾ï¼Œå› ä¸ºè®©ä½ æ—¶åˆ»è®°ä½å“ªä¸ªæ¨¡å¼ç”¨å“ªä¸ªå˜é‡æ˜¾ç„¶ä¸å¤ªçŽ°å®žï¼Œè¿™é‡Œæˆ‘ç”¨äº†ä¸€ä¸ªæ¯”è¾ƒæŠ•æœºå–å·§çš„åŠžæ³•â€”â€”Emacs æœ‰æ‰€è°“ buffer-local å˜é‡çš„è®¾å®šï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªå˜é‡ä¼šæœ‰ä¸€ä¸ªé»˜è®¤å€¼ï¼Œç„¶åŽæ¯ä¸ª buffer éƒ½å¯ä»¥æœ‰ä¸€ä¸ªè¯¥å˜é‡çš„å‰¯æœ¬ï¼Œå¯ä»¥è®¾ç½®æˆä¸åŒçš„å€¼ï¼Œå¦‚æžœæ²¡æœ‰åˆ™ä½¿ç”¨é»˜è®¤å€¼ã€‚åˆ©ç”¨è¿™ä¸ªåŠŸèƒ½æˆ‘åˆ›å»ºäº†ä¸€ä¸ªå•ç‹¬çš„ buffer-local å˜é‡ indent-offsetï¼Œç„¶åŽæŠŠä»¥ä¸Šæ‰€æœ‰è¿™äº›éƒ½è®¾ç½®ä¸ºè¯¥å˜é‡çš„åˆ«åï¼ŒäºŽæ˜¯æˆ‘å¯¹æ¯ä¸ª buffer åªè¦ä¿®æ”¹ indent-offset çš„å‰¯æœ¬å°±å¯ä»¥äº†ã€‚æˆ‘è¿™é‡Œåªå†™äº†æˆ‘ä½¿ç”¨åˆ°çš„æ¨¡å¼çš„å˜é‡ï¼Œå¦‚æžœæœ‰å…¶ä»–çš„å°±åŠ åˆ°åˆ—è¡¨é‡Œï¼Œæˆ–è€…æˆ‘çœ‹ doom-modeline çš„ä»£ç é‡Œå‡ ä¹ŽåŒ…å«äº†æ‰€æœ‰å¸¸è§æ¨¡å¼çš„å˜é‡ï¼Œæˆ–è®¸å¯ä»¥æ‹¿æ¥ç”¨ã€‚\n(defconst mode-indent-offsets '(c-basic-offset\n                                js-indent-level\n                                css-indent-offset\n                                sgml-basic-offset\n                                python-indent-offset\n                                lua-indent-level\n                                web-mode-code-indent-offset\n                                web-mode-css-indent-offset\n                                web-mode-markup-indent-offset\n                                markdown-list-indent-width)\n  \"Different modes' indent variables to make alias to indent-offset.\")\n\n(dolist (mode-indent-offset mode-indent-offsets)\n  (defvaralias mode-indent-offset 'indent-offset))\n\n(defvar-local indent-offset tab-width)\n\né‚£ä¹ˆæŽ¥ä¸‹æ¥å°±æ˜¯æˆ‘ä»¬å¦‚ä½•é’ˆå¯¹ä¸åŒçš„ buffer è¿›è¡Œä¸åŒçš„è®¾å®šäº†ï¼Œè¿™é‡Œåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯è¿™ä¸ª buffer æ˜¯å¦ä½¿ç”¨ Tab ç¼©è¿›ï¼Œå¦ä¸€éƒ¨åˆ†åˆ™æ˜¯ç¼©è¿›å®½åº¦è®¾ç½®ä¸ºå¤šå°‘ã€‚Atom é‡Œé¢æœ‰ä¸€ä¸ªçŠ¶æ€æ æ’ä»¶ï¼Œç‚¹å‡»å°±å¯ä»¥å¿«é€Ÿè®¾ç½®ï¼ŒEmacs é‡Œé¢æˆ‘å†™äº†ä¸¤ä¸ªç®€å•çš„å‡½æ•°æ–¹ä¾¿è°ƒç”¨ï¼Œæ‰§è¡Œå¯¹åº”çš„å‡½æ•°è®¾ç½®æ˜¯å¦ä½¿ç”¨ Tabï¼Œå¹¶ä¸”å®ƒä»¬éƒ½ä¼šè¯¢é—®ä½ æƒ³æŠŠç¼©è¿›å®½åº¦è®¾ç½®ä¸ºå¤šå°‘ã€‚æˆ‘åˆ†åˆ«æŠŠè¿™ä¸¤ä¸ªå‡½æ•°ç»‘å®šåˆ° C-c i TAB å’Œ C-c i SPCã€‚å¯¹äºŽ GTKï¼Œæ“ä½œèµ·æ¥å¯ä»¥æ˜¯ M-x indent-tabs RET 2 RETã€‚\n(defun indent-tabs (num)\n  \"Mark this buffer to indent with tabs and set indent offset to NUM chars.\"\n  (interactive `(,(read-number \"Indent offset (chars): \" indent-offset)))\n  (indent-tabs-mode 1)\n  (when (/= indent-offset num)\n    (setq indent-offset num)))\n(global-set-key (kbd \"C-c i TAB\") 'indent-tabs)\n\n(defun indent-spaces (num)\n  \"Mark this buffer to indent with spaces and set indent offset to NUM chars.\"\n  (interactive `(,(read-number \"Indent offset (chars): \" indent-offset)))\n  (indent-tabs-mode -1)\n  (when (/= indent-offset num)\n    (setq indent-offset num)))\n(global-set-key (kbd \"C-c i SPC\") 'indent-spaces)\n\nå½“ç„¶ä»¥é˜²ä¸‡ä¸€ä½ çœŸçš„é‡åˆ°ä¸€ä¸ªè„¾æ°”å¤æ€ªçš„ä½œè€…ï¼Œä¸€å®šè¦ä½¿ç”¨ Tab ç¼©è¿›å¹¶ä¿®æ”¹ Tab å®½åº¦ï¼Œæˆ‘ä¹Ÿå†™äº†ä¸ªä¿®æ”¹ Tab å®½åº¦çš„å‡½æ•°ã€‚è¿™ä¸ªæˆ‘ç»‘å®šåˆ° C-c i w äº†ã€‚\n(defun set-tab-width (num)\n  \"Mark this buffer to set tab width to NUM chars.\"\n  (interactive `(,(read-number \"Tab width (chars): \" tab-width)))\n  (when (/= tab-width num)\n    (setq tab-width num)))\n(global-set-key (kbd \"C-c i w\") 'set-tab-width)\n\nçŽ°åœ¨æˆ‘ä»¬æœ‰äº†ç»™æ¯ä¸ª buffer ä¿®æ”¹è®¾å®šçš„åŠžæ³•äº†ï¼Œä½†æ˜¯é€šå¸¸ä½ å¯¹æŸç§è¯­è¨€æœ‰ä¸€ä¸ªè‡ªå·±åçˆ±çš„é£Žæ ¼ï¼Œè‚¯å®šå¸Œæœ›ä»¥è¿™ä¸ªä¸ºé»˜è®¤å€¼ï¼Œæ‰€ä»¥æˆ‘å†™äº†ä¸€äº›ä»£ç ï¼Œç»™æ¯ä¸ªæ¨¡å¼è®¾ç½®æˆæˆ‘å–œæ¬¢çš„é»˜è®¤é£Žæ ¼ã€‚åŒæ ·åœ°å¦‚æžœä½ è£…äº†æ›´å¤šçš„æ¨¡å¼ï¼Œæˆ–è€…å’Œæˆ‘æœ‰ä¸åŒçš„å–œå¥½ï¼Œå°±ä¿®æ”¹è¿™äº›åˆ—è¡¨å¥½äº†ã€‚\nè¿™é‡Œä½¿ç”¨ (set-tab-width 8) æ˜¯å› ä¸ºæœ‰äº›æ¨¡å¼æ¯”å¦‚ markdown-mode æŠŠ tab-width å®šä¹‰ä¸º 4ï¼ŒæŒ‰ç…§å‰é¢è¯´çš„ï¼Œæˆ‘è§‰å¾—è¿™æ˜¯é”™çš„ï¼ŒåŒæ—¶ä¸Šæ¸¸ä¸ºäº†ä¿æŒå‘å‰å…¼å®¹ä¸å¥½ä¿®æ”¹ï¼ŒäºŽæ˜¯è¿™é‡Œç®€å•åœ°è¦†ç›–æŽ‰ã€‚\n(defconst indent-tabs-modes '((prog-mode . 8)\n                              ;; `markdown-mode` is not a `prog-mode`.\n                              (markdown-mode . 8)\n                              (gfm-mode . 8))\n  \"Modes that will use tabs to indent.\")\n\n(defconst indent-spaces-modes '((lisp-mode . 2)\n                                (emacs-lisp-mode . 2)\n                                (js-mode . 2)\n                                (css-mode . 2)\n                                (html-mode . 2)\n                                (yaml-mode . 2)\n                                (lua-mode . 3)\n                                (python-mode . 4))\n  \"Modes that will use spaces to indent.\")\n\n(dolist (pair indent-tabs-modes)\n  (add-hook (intern (concat (symbol-name (car pair)) \"-hook\"))\n            `(lambda () (indent-tabs ,(cdr pair)) (set-tab-width 8))))\n\n(dolist (pair indent-spaces-modes)\n    (add-hook (intern (concat (symbol-name (car pair)) \"-hook\"))\n              `(lambda () (indent-spaces ,(cdr pair)) (set-tab-width 8))))\n\næœ‰äº› modeline åŒ…å«ä¸€ä¸ªæ˜¾ç¤ºç¼©è¿›ä¿¡æ¯çš„éƒ¨åˆ†ï¼Œæ¯”å¦‚ doom-modeline æ˜¾ç¤º TAB æˆ–è€… SPC è¡¨ç¤ºä½¿ç”¨ Tab ç¼©è¿›æˆ–ä½¿ç”¨ç©ºæ ¼ç¼©è¿›ï¼Œç„¶åŽå¦‚æžœè¯¥æ¨¡å¼æœ‰è‡ªå·±çš„ç¼©è¿›å®½åº¦å˜é‡å°±æ˜¾ç¤ºï¼Œæ²¡æœ‰å°±æ˜¾ç¤º Tab å®½åº¦ï¼ˆæˆ‘æ²¡ä»”ç»†è¯»ï¼Œæ€»ä¹‹å®ƒå¯¹è¿™ä¿©ä¸åšæ˜¾å¼åŒºåˆ†ï¼‰ã€‚è€ŒæŒ‰ç…§ä¸Šæ–‡ï¼Œæˆ‘è‚¯å®šæ˜¯å€¾å‘æ˜¾å¼åŒºåˆ†è¿™ä¸¤ä¸ªä¸œè¥¿çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ç”¨å®ƒçš„ï¼Œè€Œæ˜¯è‡ªå®šä¹‰ä¸€æ®µ modelineï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¾ç¤º TAB æˆ– SPCï¼Œç¬¬äºŒæ®µæ˜¾ç¤º indent-offsetï¼Œç¬¬ä¸‰æ®µæ˜¾ç¤º tab-widthã€‚æˆ‘æ²¡å¤ªæžæ‡‚ Emacs çš„ modeline constructor çš„è¯­æ³•ï¼Œæˆ‘è§‰å¾—æˆ‘å†™å¯¹äº†ä½†å´æ²¡æœ‰ï¼ŒäºŽæ˜¯æœ€åŽå˜æˆ :eval ä¸€ä¸ª format è°ƒç”¨äº†ã€‚\n(setq mode-line-misc-info '(:eval (format \"%s %d %d\"\n                                          (if indent-tabs-mode \"TAB\" \"SPC\")\n                                          indent-offset\n                                          tab-width)))\n\næœ€åŽæˆ‘åœ¨ç½‘ä¸ŠæŠ„äº†ä¸¤ä¸ªé…ç½®ï¼Œä¸€ä¸ªæ˜¯è®©å®ƒæŒ‰å›žè½¦æ—¶å€™ä¸è¦è‡ªåŠ¨ç¼©è¿›ã€‚å¦ä¸€ä¸ªæ˜¯ä¿®æ”¹é»˜è®¤çš„åˆ é™¤ç¼©è¿›çš„è¡Œä¸ºï¼Œé»˜è®¤å½“ä½ åœ¨å¯¹ç€ä¸€ä¸ª Tab æŒ‰ä¸‹é€€æ ¼é”®çš„æ—¶å€™ï¼ŒEmacs æŠŠè¿™ä¸ª Tab å˜æˆç¼©è¿›å®½åº¦æ•°é‡çš„ç©ºæ ¼ï¼Œç„¶åŽåˆ æŽ‰ä¸€ä¸ªç©ºæ ¼ï¼Œè¿™å¤ªè¯¡å¼‚äº†ï¼Œæˆ‘å°±è®©å®ƒåˆ æŽ‰ä¸€ä¸ªå­—ç¬¦å¥½äº†ã€‚\n(setq-default electric-indent-inhibit t)\n(setq backward-delete-char-untabify-method nil)\n\nè¿™æ ·å½“ä½ é‡åˆ°ä¸€ä¸ªå’Œè‡ªå·±ä¹ æƒ¯ä¸ä¸€æ ·çš„æ–‡ä»¶ï¼ŒåŸºæœ¬åªè¦çœ‹æƒ…å†µè°ƒç”¨ indent-tabs æˆ–è€… indent-spaces å³å¯ã€‚æˆ‘åœ¨ Atom ç”¨çš„æ’ä»¶è¿˜æœ‰ä¸€ä¸ªè‡ªåŠ¨çŒœæµ‹æ–‡ä»¶æ˜¯ä½¿ç”¨ Tab è¿˜æ˜¯å‡ ä¸ªç©ºæ ¼ä½œä¸ºç¼©è¿›çš„åŠŸèƒ½ï¼Œä¸è¿‡æˆ‘çœ‹äº†ä¸€ä¸‹ä»£ç ï¼Œå®ƒå¹¶ä¸èƒ½è§£å†³æˆ‘ä¹‹å‰è¯´åˆ°çš„ GTK çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¼šçŒœæˆ SPC 2 2 è€Œä¸æ˜¯ TAB 2 8ï¼Œæˆ‘æ‡’å¾—è‡ªå·±æƒ³ä¸€ä¸ªçŒœæµ‹ç®—æ³•ï¼ŒäºŽæ˜¯å°±è¿˜æ˜¯é è‡ªå·±åˆ¤æ–­äº†ã€‚\nä¸€ä¸ªæˆ‘æ¯”è¾ƒæƒ³å®žçŽ°çš„åŠŸèƒ½æ˜¯è®°å½•æ¯ä¸ªç›®å½•æˆ‘ç”¨äº†ä»€ä¹ˆè®¾å®šï¼Œå› ä¸ºåŸºæœ¬ä¸Šæ¯ä¸ªé¡¹ç›®éƒ½ç”¨ä¸€æ ·çš„é£Žæ ¼ï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡ç¼–è¾‘æ–‡ä»¶éƒ½æ‰‹åŠ¨è®¾ç½®ã€‚æˆ‘çŸ¥é“å¯ä»¥åœ¨æ¯ä¸ªç›®å½•åˆ›å»ºä¸€ä¸ªæ–‡ä»¶è®°å½• Emacs çš„ä¸€äº›ç›®å½•èŒƒå›´å˜é‡ï¼Œä½†æ˜¯é—®é¢˜æ˜¯ä¸æ˜¯æ‰€æœ‰é¡¹ç›®éƒ½æƒ³è®©ä½ æ·»åŠ ä¸€ä¸ªç¼–è¾‘å™¨ç›¸å…³çš„æ–‡ä»¶ï¼Œç”šè‡³ä½ éƒ½ä¸å¥½ä¿®æ”¹ .gitignore æŽ’é™¤ä½ çš„æ–‡ä»¶ã€‚æˆ‘æ¯”è¾ƒæƒ³æŠŠè¿™ä¸ªå­˜å‚¨è®°å½•ä¸¢åˆ° Emacs çš„ç›®å½•é‡Œï¼Œä¸è¿‡å¹¶ä¸çŸ¥é“æ€Žä¹ˆå®žçŽ°ï¼Œå¦‚æžœå“ªå¤©æˆ‘æžæ¸…æ¥šäº†ï¼Œå°±åŽ»å†™ä¸€ä¸ªã€‚\n"},{"title":"Emacs å’Œ Monaco å­—ä½“å’Œ Box-drawing Character","url":"/posts/Emacs-Monaco-Box-drawing-Character/","content":"2016 å¹´çš„æˆ‘å¼€å§‹ç”¨ Atom è¿™ç§â€œmodernâ€çš„ç¼–è¾‘å™¨ï¼Œ2022 å¹´çš„æˆ‘å´åˆå¼€å§‹ç”¨å›žå²æ•°æ¯”æˆ‘éƒ½å¤§çš„ GNU Emacsã€‚åˆ‡æ¢çš„ç†ç”±å…¶å®žå¾ˆç®€å•ï¼Œæˆ‘æ›¾ç»ä»¥ä¸ºä¸€ç›´èƒ½è¿½ä¸Šæœ€æ–°ç‰ˆ Electron çš„ VSCode ä¼šæˆä¸ºç¬¬ä¸€ä¸ªçº¯ Wayland çš„ä»£ç ç¼–è¾‘å™¨â€”â€”åªè¦ Chromium é‚£è¾¹æ”¯æŒçº¯ Wayland å°±å¥½äº†å˜›ï¼Œç„¶è€Œç›´åˆ° Emacs é‚£è¾¹çš„ pgtk åˆ†æ”¯åˆå¹¶è¿›ä¸»çº¿ï¼ˆä»¥é˜²æœ‰è¯»è€…ä¸å¤ªæ¸…æ¥šæ¥é¾™åŽ»è„‰æˆ‘è§£é‡Šä¸€ä¸‹ï¼ŒEmacs è™½ç„¶æœ‰å›¾å½¢ç•Œé¢ï¼Œä½†å®žé™…ä¸Šåªæ˜¯ç”¨ X å®žçŽ°äº†ä¸€ä¸ª Terminal å±‚ï¼Œè€Œä¼ ç»Ÿçš„ GTK3 ç•Œé¢åªæ˜¯ä½¿ç”¨ GTK3 åˆ›å»ºä¸€ä¸ª X çª—å£ï¼Œç„¶åŽå…¶å®ƒæ“ä½œéƒ½æ˜¯é€šè¿‡ X è¿›è¡Œï¼Œè¿™å®žé™…ä¸Šéžå¸¸ä¸é€‚åˆ GTK3ï¼Œå¯¼è‡´äº†å¾ˆå¤š bugï¼ŒåŒæ—¶ä¹Ÿä½¿ Emacs æ²¡æ³•åˆ©ç”¨ GTK çš„ Wayland åŽç«¯ã€‚è€Œ pgtk åˆ†æ”¯åˆ™æ˜¯åœ¨ X éƒ¨åˆ†ä¹‹å¤–å¦èµ·ç‚‰ç¶ï¼Œåˆ©ç”¨ GTK å®žçŽ°äº†ä¸€ä¸ªå’Œ X éƒ¨åˆ†å¹³è¡Œçš„ Terminal å±‚ï¼Œå…¨éƒ¨çš„ç»˜åˆ¶æ“ä½œéƒ½æ˜¯ä»¥ GTK/Cairo çš„çŽ°ä»£ç¨‹åºæ–¹å¼è¿›è¡Œï¼Œè‡ªç„¶ä¹Ÿå°±æ‘†è„±äº†å¯¹ X çš„ä¾èµ–ã€‚æ€»ä¹‹åœ¨ Emacs è¿™æ ·åˆè€åˆåºžå¤§çš„ä»£ç åº“ä¸Šåšå¦‚æ­¤å¤§èŒƒå›´çš„å·¥ç¨‹æˆ‘è§‰å¾—å¯ä»¥ç§°å¾—ä¸Šæ˜¯ä¸€é¡¹å£®ä¸¾äº†ã€‚ï¼‰ï¼ŒChromium çš„ ozone backend è¿˜æ˜¯é—®é¢˜å¤šå¤šã€‚è™½ç„¶ Emacs/Vim è¿™ç§è½¯ä»¶çœ‹èµ·æ¥ç¡®å®žæœ‰ç‚¹è€æ´¾ä½œé£Žï¼Œä½†æ²¡æƒ³åˆ°ä¹Ÿæœ‰èµ°åœ¨è¿™äº›â€œçŽ°ä»£â€ç¼–è¾‘å™¨å‰é¢çš„åœ°æ–¹ã€‚\n\n\nè‡³äºŽè¿™å’Œæˆ‘æ¢æŽ‰ Atom æœ‰ä»€ä¹ˆè”ç³»å‘¢ï¼Ÿä¸»è¦æ˜¯æˆ‘å‘çŽ°åœ¨å®¶é‡Œçš„å°å¼æœºä¸Šï¼Œæ‰€æœ‰ XWayland ç¨‹åºåœ¨ nvidia é©±åŠ¨ä¸‹é¢éƒ½ä¼šæœ‰é—ªå›žçš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯è¯´ä½ æ‰“å­—çš„æ—¶å€™çªç„¶ä¼šé—ªå›žå‰å‡ å¸§çš„ç”»é¢ï¼Œè¿‡ä¸€ä¼šå†é—ªå›žæ¥ï¼Œä½ ç»å¸¸çœ‹ä¸åˆ°è‡ªå·±è¾“å…¥çš„å­—ç¬¦ã€‚Electron ç¨‹åºå°¤å…¶ä¸¥é‡ï¼Œä¹Ÿå°±å¯¼è‡´æˆ‘æ²¡æœ‰åŠžæ³•ä½¿ç”¨ Atom å†™ä»£ç ï¼ŒäºŽæ˜¯ä¸å¾—ä¸æ¡èµ·ä»¥å‰ä¸œæ‹¼è¥¿å‡‘çš„ Emacs é…ç½®é‡æ–°ç ”ç©¶ã€‚ï¼ˆå¥‡æ€ªçš„æ˜¯æˆ‘è‡ªå·±çš„å°å¼æœºä¹Ÿæ˜¯ nvidia é©±åŠ¨ï¼Œæ²¡é‡åˆ°è¿‡è¿™ç§é—®é¢˜ã€‚ï¼‰\næ‰¯è¿œäº†ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦æƒ³è®°å½•çš„é—®é¢˜æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®žè¿˜è¦å’Œ Emacs ç»˜åˆ¶ç•Œé¢çš„æ–¹å¼æœ‰å…³ç³»ï¼Œå¯¹äºŽ Atom/VSCode è¿™ç§åŸºäºŽæµè§ˆå™¨çš„ç¨‹åºæ¥è¯´ç»˜åˆ¶ç‚¹ä»€ä¹ˆå›¾å½¢å…ƒç´ å¾ˆç®€å•ï¼Œä½†æ˜¯å¯¹äºŽ Emacs/Vim è¿™ç§æ¥è‡ªäºŽç»ˆç«¯é‡Œçš„ç¨‹åºï¼Œå¼€å‘è€…ä»¬ä¹ æƒ¯çš„æ˜¯å¤„ç†å­—ç¬¦è€Œä¸æ˜¯å¤„ç†å›¾å½¢ï¼ŒäºŽæ˜¯ä½ ä¼šå‘çŽ°æ¯”å¦‚ 80 column ruler æˆ–è€… indent guide è¿™ç§ä¸œè¥¿ï¼Œåœ¨ Emacs é‡Œé¢å…¶å®žæ˜¯é€šè¿‡åœ¨å¯¹åº”çš„ä½ç½®æ’å…¥ç«–çº¿å­—ç¬¦å®žçŽ°çš„â€¦â€¦æˆ‘ä¸ªäººä¸å¤ªå–œæ¬¢è¿™æ ·ï¼Œä¸€ä¸ªåŽŸå› æ˜¯æˆ‘ä»¥ä¸ºç«–çº¿å­—ç¬¦å¹¶ä¸æ˜¯å æ»¡æ•´è¡Œè€Œæ˜¯ä¸Šä¸‹æœ‰ç©ºç™½ã€‚æˆ‘ä¸€ç›´ä»¥ä¸ºè¿™æ˜¯ Emacs çš„é—®é¢˜â€”â€”ä½ å¹²å˜›ç”¨ç«–çº¿å­—ç¬¦ç”» UI å•Šã€‚\n\nç›´åˆ°æœ‰ä¸€å¤©æˆ‘è¾“é”™äº† alias åœ¨ GNOME Terminal é‡Œé¢æ‰“å¼€äº† Emacsï¼Œæˆ‘æƒŠè®¶çš„å‘çŽ°ç«–çº¿ç«Ÿç„¶æŽ¥ä¸Šäº†å¤´ï¼\n\næˆ‘å½“æ—¶å°±éœ‡æƒŠäº†ï¼Œæˆ‘çš„ç»ˆç«¯å’Œ Emacs ç”¨çš„æ˜¯åŒæ ·çš„ Monaco å­—ä½“ï¼Œæ€Žä¹ˆä¼šä¸ä¸€æ ·å‘¢ï¼Ÿéš¾é“æ˜¯ Monaco å­—ä½“æœ‰é—®é¢˜ï¼ŸäºŽæ˜¯æˆ‘ä¸Šç½‘æœäº†ä¸€ä¸‹ï¼Œæˆ‘ä»¥å‰ä¸€ç›´ä»¥ä¸ºæ˜¯ Emacs çš„å“ªä¸ªè®¾ç½®æ¯”å¦‚ line-spacing æˆ‘æ²¡æžå¥½ï¼Œæ€Žä¹ˆæœä¹Ÿæœä¸å‡ºæ¥ï¼Œè¿™æ¬¡æ¢æˆæœå­—ä½“ä¸€ä¸‹å­å°±æ‰¾åˆ°åŽŸå› äº†ï¼šä¸€ä¸ª Alacritty çš„ issue é‡Œé¢å’Œæˆ‘æœ‰åŒæ ·çš„é—®é¢˜ï¼Œä¸è¿‡ä»–æ˜¯ tmux çš„åˆ†å‰²çº¿æŽ¥ä¸ä¸Šå¤´ï¼Œéƒ½æ˜¯ Monaco å­—ä½“ã€‚\nä¸ºä»€ä¹ˆåªæœ‰ Monaco æŽ¥ä¸ä¸Šå¤´å‘¢ï¼ŸåŽŸæ¥åœ¨å­—ç¬¦ç•Œé¢ä¸‹ç”»è¿™äº›ç«–çº¿çš„å­—ç¬¦å’Œå¹³æ—¶ç”¨ Shift+\\ è¾“å…¥çš„å­—ç¬¦å¹¶ä¸æ˜¯ä¸€ä¸ªï¼Œè¿™ç±»å­—ç¬¦å«åš Box-drawing Characterï¼Œä¸»è¦çš„èŒƒå›´æ˜¯ U+2500 åˆ° U+257Fï¼Œè¿™äº›å­—ç¬¦ç”¨äºŽåœ¨ç»ˆç«¯é‡Œç»˜åˆ¶æ–¹æ¡†æˆ–è€…å…¶å®ƒå½¢çŠ¶ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯æ²¡æœ‰ padding çš„ï¼Œæ‰èƒ½æŽ¥ä¸Šå¤´ï¼Œè€Œ Monaco è¿™é‡Œæœ‰é—®é¢˜ï¼Œå®ƒç»™è¿™äº›å­—ç¬¦åŠ ä¸Šäº† paddingï¼Œå¯¼è‡´æŽ¥ä¸ä¸Šã€‚æˆ‘å°è¯•ç€ç»™ Emacs çš„å­—ä½“æ¢æˆ Source Code Proï¼Œç«–çº¿ç«‹åˆ»å°±è¿žä¸Šäº†ã€‚\næ€Žä¹ˆè§£å†³ï¼Ÿæ¢å­—ä½“ï¼Ÿä¸å¯èƒ½çš„ï¼Œæˆ‘æ˜¯ Monaco çš„ç‹‚ç²‰ï¼Œçœ‹æƒ¯äº† Monaco å†çœ‹åˆ«çš„å­—ä½“éƒ½è§‰å¾—å‚»äº†å§å”§çš„ã€‚å¦‚æžœä¸æ˜¯å› ä¸ºå®ƒå¥½çœ‹æˆ‘æ‰ä¸ä¼šå¿å—å®ƒè¿™ä¹ˆå¤šç¼ºç‚¹ï¼ˆæ²¡æœ‰å†…ç½®ç²—ä½“ï¼Œè™½ç„¶æ˜¯ç­‰å®½å­—ä½“å†…éƒ¨çš„è¿žå­—è¡¨å´å’Œéžç­‰å®½å­—ä½“ä¸€æ ·ï¼Œæœ‰ç‰ˆæƒä¸èƒ½äºŒæ¬¡åˆ†å‘ï¼‰ã€‚è§£å†³æ–¹æ³•å…¶å®žæ¯”è¾ƒç®€å•ï¼ŒæŠŠ U+2500 åˆ° U+257F çš„å­—ç¬¦æ¢æˆæ­£å¸¸å­—ä½“é‡Œçš„å°±å¯ä»¥äº†ã€‚ç®€å•çš„è§£å†³åŠžæ³•æ˜¯ç”¨ FontForge çš„åŒä¸ªå®žä¾‹æ‰“å¼€ Monaco å’Œå¦ä¸€æ¬¾å­—ä½“ï¼ˆæˆ‘é€‰æ‹©äº† Menloï¼ŒMenlo æ˜¯è‹¹æžœç”¨æ¥æ›¿ä»£ Monaco åšå†…ç½®é»˜è®¤ç­‰å®½å­—ä½“çš„ï¼Œåº”è¯¥ä¼šæ¯”è¾ƒæŽ¥è¿‘ï¼‰ï¼Œç„¶åŽé€‰æ‹© Monaco çš„è¿™ä¸ªèŒƒå›´æ¸…ç©ºï¼Œç„¶åŽé€‰æ‹© Menlo çš„å¤åˆ¶ç²˜è´´è¿‡æ¥ã€‚ä¸è¿‡æˆ‘æ²¡åœ¨ FontForge é‡Œé¢æ‰¾åˆ°è¿žç»­åŒºé—´é€‰æ‹©çš„åŠžæ³•ï¼Œä¸Šç½‘æœäº†ä¸€ä¸‹è¯´å¯ä»¥ç”¨å®ƒçš„è„šæœ¬ API é€‰ï¼ŒåŠžæ³•æ˜¯æ‰“å¼€ File èœå•é‡Œé¢çš„ Execute Scriptï¼Œæ‰§è¡Œ fontforge.activeFont().selection.select((\"ranges\", None), 0x2500, 0x257F)ã€‚å¦‚æžœä½ ä¸çŸ¥é“æ€Žä¹ˆæŠŠ Menlo é‡Œé¢çš„ä¸€æ®µå­—å½¢å¤åˆ¶ç²˜è´´åˆ° Monaco é‡Œé¢ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ Menlo é‡Œæ‰§è¡Œè¿™æ®µè„šæœ¬ï¼Œç„¶åŽåé€‰ï¼Œå…¨éƒ¨æ¸…ç©ºï¼Œç„¶åŽæŠŠè¿™éƒ¨åˆ†ç”Ÿæˆä¸€ä¸ªå­—ä½“ï¼Œå†åŽ» Monaco é‡Œé¢é€‰ Elements èœå•é‡Œé¢çš„ Merge Fontsã€‚\næˆ–è€…ä½ ä¹Ÿå¯ä»¥çœ‹çœ‹è¿™ä¸ª å« Menloco çš„é¡¹ç›®ï¼Œæ˜¯æˆ‘å¶ç„¶é—´æœç´¢åˆ°çš„æœ‰åŒæ ·é—®é¢˜çš„ç”¨æˆ·çš„è§£å†³æ–¹æ¡ˆï¼Œè¿™ä¸ªé¡¹ç›®åŒ…å«æ›´å¤šçš„ç»†å¾® tweak è„šæœ¬ï¼Œå¸®ä½ åˆ©ç”¨ Monaco å’Œ Menlo åˆå¹¶å‡ºä¸€ä¸ª Box-drawing Character èƒ½å®Œç¾ŽæŽ¥å¤´çš„å­—ä½“ã€‚ä¸è¿‡æœ‰å‡ ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ï¼Œä¸€ä¸ªæ˜¯è¿™ä¸ªé¡¹ç›®çš„ä½œè€…åº”è¯¥æ˜¯ macOS çš„ç”¨æˆ·ï¼Œå¦‚æžœä½ ä¸æ˜¯ macOSï¼Œéœ€è¦è‡ªå·±æƒ³åŠžæ³•æžåˆ° Menlo.ttf å’Œ Monaco.ttfï¼Œç®€å•çš„åŠžæ³•æ˜¯æ‰¾ä¸ªç”¨ Mac çš„æœ‹å‹è®©ä»–å‘ç»™ä½ ï¼Œä¸è¿‡æœ‰å¯èƒ½ä½ å¾—åˆ°çš„æ˜¯ Menlo.ttcï¼Œéœ€è¦ç”¨ FontForge æ‰“å¼€é€‰æ‹© Regular å­—é‡ï¼Œç„¶åŽå¯¼å‡ºæˆå•ä¸ªçš„ ttfã€‚ä½ è¿˜éœ€è¦ä¿®æ”¹ utils/find-font.shï¼Œè¿™ä¸ªè„šæœ¬çš„ font_paths åªåŒ…å« macOS æ”¾ç½®å­—ä½“çš„ç›®å½•ï¼Œä½ å¾—åŠ ä¸Šä½ è‡ªå·±æ”¾è¿™ä¸¤ä¸ªå­—ä½“çš„ç›®å½•ã€‚ä»¥åŠè¿™ä¸ªé¡¹ç›®é»˜è®¤ç”Ÿæˆçš„å­—ä½“åï¼ˆä¸æ˜¯æ–‡ä»¶åï¼‰å« Menlocoï¼Œå¦‚æžœä½ ä¸æƒ³ä¿®æ”¹å·²æœ‰çš„å†™ç€ Monaco çš„é…ç½®æ–‡ä»¶çš„è¯ï¼Œå°±æŠŠ merge è¿™ä¸€é¡¹ä¸‹é¢çš„ --font-name=$(RESULT) æ”¹æˆ --font-name=$(INTO) å°±å¥½äº†ã€‚\nç”Ÿæˆä¸€ä¸ªæ²¡é—®é¢˜çš„å­—ä½“ä¹‹åŽä½ è¿˜å¯ä»¥åƒæˆ‘ä¸€æ ·ç”¨ FontForge åšä¸€äº›ä¿®æ”¹ï¼Œæ¯”å¦‚è¯´æˆ‘å‘çŽ° Menlo æœ‰å¾ˆå¤š Monaco æ²¡æœ‰çš„å­—ç¬¦ï¼ŒäºŽæ˜¯æˆ‘ç›´æŽ¥æŠŠ Menlo merge è¿›äº†ç”Ÿæˆçš„å­—ä½“é‡Œã€‚å¹¶ä¸”æˆ‘ä¹‹å‰æåˆ°è¿‡ Monaco ä½œä¸ºä¸€ä¸ªç­‰å®½å­—ä½“ï¼Œå†…ç½®çš„è¿žå­—è¡¨ç«Ÿç„¶æ˜¯éžç­‰å®½çš„ï¼Œä¸æ˜¯åƒ Fira Code é‚£ç§æŠŠä¸åŒçš„ç¼–ç¨‹ç¬¦å·è¿žå­—èµ·æ¥åŒæ—¶ä¿æŒç­‰å®½çš„è¿žå­—ï¼Œè€Œæ˜¯åƒæ™®é€šæ— è¡¬çº¿ä¸€æ ·æŠŠ fi ä¸€ç±»çš„å­—ç¬¦è¿žèµ·æ¥å˜æˆå•ä¸ªå­—ç¬¦å®½åº¦ã€‚æˆ‘è¢«å‘å¾—æœ€ç‹ çš„ä¸€æ¬¡å°±æ˜¯ review åŒäº‹çš„ patchï¼Œæˆ‘é—®ä»–è¿™é‡Œæ˜¯ä¸æ˜¯å°‘äº†ä¸ªç©ºæ ¼ï¼Œä»–è¯´åœ¨ä»–é‚£çœ‹æ²¡é—®é¢˜ï¼Œæœ€åŽæˆ‘å‘çŽ°æ˜¯ Monaco è¿žå­—äº†ï¼è™½ç„¶ä½ å¯ä»¥é€šè¿‡é…ç½® fontconfig å…³é—­è¿žå­—ï¼Œä½†æ˜¯ Firefox æ˜¯ä¸åƒè¿™ä¸ªé…ç½®çš„ï¼Œè€Œä½ ä¹Ÿä¸å¯èƒ½ç»™æ¯ä¸ªç½‘é¡µçš„ä»£ç å—éƒ½åŠ ä¸Šå…³é—­è¿žå­—çš„ CSSã€‚æ‰€ä»¥æˆ‘ç›´æŽ¥åœ¨ FontForge é‡Œé¢å¹²æŽ‰äº†è¿žå­—è¡¨ï¼Œå…·ä½“æ–¹æ³•å°±æ˜¯æ‰“å¼€ Element èœå•ä¸‹é¢çš„ Font Infoï¼Œç‚¹å‡»å·¦ä¾§çš„ Lookupï¼Œé€‰ä¸­å¸¦ liga çš„é¡¹ delete ä¹‹åŽå¯¼å‡ºå­—ä½“å³å¯ã€‚\nè¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå¤æ€ªçš„ Emacs é—®é¢˜ï¼ŒEmacs è®¾ç½®å­—ä½“å’Œå…¶å®ƒç¨‹åºä¸å¤ªä¸€æ ·ï¼Œå¯ä»¥å…ˆè®¾ç½®ä¸€ä¸ªé»˜è®¤å­—ä½“ç„¶åŽé’ˆå¯¹ä¸åŒçš„å­—ç¬¦é›†è®¾ç½®ä¸åŒçš„å­—ä½“ï¼Œä¸€èˆ¬è¦ä¸ºä¸­æ–‡å•ç‹¬è®¾ç½®å­—ä½“æ‰èƒ½å¾—åˆ°åˆé€‚çš„æ•ˆæžœï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š\n(set-face-attribute 'default nil\n                    :family \"Monaco\"\n                    ;; :slant 'normal\n                    :width 'normal\n                    :weight 'normal\n                    ;; 1 height is 1/10 pt.\n                    :height 140)\n\n(dolist (charset '(kana han symbol cjk-misc bopomofo))\n  (set-fontset-font t charset (font-spec :family \"Noto Sans Mono CJK SC\"\n                                         ;; :slant 'normal\n                                         :width 'normal\n                                         :weight 'normal)))\n\né¦–å…ˆè¦æ³¨æ„ height çš„å•ä½æ˜¯ 1/10ï¼Œæ‰€ä»¥ä½ æƒ³è¦çš„å­—å·éœ€è¦ä¹˜ 10 æ‰è¡Œã€‚\nç„¶åŽä½ ä¼šå‘çŽ°æ˜Žæ˜Žä½ åªè®¾ç½®äº†ä¸€ä¸ªå­—å·ï¼Œå¯æ˜¯ä¸­æ–‡å’Œè‹±æ–‡å­—ä½“å´ä¸æ˜¯ç­‰é«˜çš„ï¼ä¹Ÿå°±æ˜¯è¯´å¦‚æžœä½ åœ¨æœ¬æ¥éƒ½æ˜¯è‹±æ–‡çš„ä¸€è¡Œé‡Œé¢è¾“å…¥ä¸€ä¸ªä¸­æ–‡å­—ï¼Œé‚£è¿™è¡Œçš„é«˜åº¦å°±ä¼šçªç„¶è·³ä¸€ä¸‹å˜é«˜ï¼Œéžå¸¸çƒ¦äººï¼Œä¹Ÿè®¸æ˜¯è¿™ä¸¤ä¸ªå­—ä½“åœ¨åŒæ ·çš„å­—å·çš„æ—¶å€™å°ºå¯¸å¹¶ä¸å®Œå…¨ä¸€è‡´ï¼Œä½†æ˜¯æ˜Žæ˜Žå…¶å®ƒç¨‹åºéƒ½èƒ½æ­£å¸¸å¤„ç†ï¼Œä¸ºä»€ä¹ˆè¿™é‡Œè¿™ä¹ˆæ€ªï¼\nä½ å¯èƒ½ä¼šæƒ³è¦å¯¹ä¸­æ–‡é‚£æ®µå•ç‹¬è®¾ç½® size ç¼©å°ä¸€ç‚¹ï¼Œä½†æ˜¯è¿™æ ·ä¸è¡Œï¼Œä½ ç”¨ C-x C-= æ”¾å¤§å­—ä½“çš„æ—¶å€™ä¸­æ–‡å­—ä½“å°±ä¼šå›ºå®šå¤§å°ä¸è·Ÿç€ä½ å˜äº†ã€‚æ­£ç¡®çš„è§£å†³æ–¹æ³•æ˜¯åŠ å…¥ä¸‹é¢ä¸€å¥ï¼š\n(setq face-font-rescale-alist '((\"Noto Sans Mono CJK SC\" . 0.85)))\n\nè¿™é‡Œä½ å¯ä»¥å¯¹ä»»æ„çš„å­—ä½“æŒ‡å®šç¼©æ”¾å‚æ•°ï¼Œä¸ä¼šå½±å“æŒ‰é”®æ”¾å¤§ç¼©å°ã€‚æˆ‘å°è¯•äº†ä¸€ä¸‹ 0.85 æ¯”è¾ƒåˆé€‚ï¼Œè™½ç„¶å¯èƒ½è¿™æ ·æ±‰å­—çœ‹èµ·æ¥ä¼šç¨å¾®å°ä¸€ç‚¹ï¼Œä½†æ˜¯ 0.9 å°±å¤ªé«˜äº†ä»ç„¶ä¼šè·³ã€‚æˆ–è®¸ä½ ä¼šé—®é‚£è¿™æ ·ä¸­æ–‡å­—å®½ä¸æ˜¯è‹±æ–‡å­—å®½ä¸¤å€äº†ï¼Ÿé‚£æ²¡æœ‰åŠžæ³•ï¼ŒMonaco æœ¬èº«å°±å±žäºŽä¸€ä¸ªæ¯”è¾ƒå®½çš„å­—ä½“ï¼Œé‚£äº›æ»¡è¶³è‹±æ–‡å®½åº¦æ˜¯é«˜åº¦ä¸€åŠçš„å­—ä½“éƒ½æ¯”è¾ƒç˜¦é•¿ï¼Œæˆ‘ä¸ªäººæ˜¯ä¸å–œæ¬¢è¿™æ ·çš„é£Žæ ¼çš„ï¼Œæ‰€ä»¥å¯¹äºŽæˆ‘æ¥è¯´ç­‰é«˜å°±è¡Œäº†ï¼Œå®½åº¦æˆ‘ä¸å¤ªåœ¨ä¹Žã€‚\næ›´æ–°ï¼ˆ2022-02-25T19:01:31ï¼‰ï¼šæˆ‘æœ€è¿‘ç ”ç©¶äº†ä¸€ä¸‹ï¼Œå‘çŽ°åŽŸæ¥å­—å·å¹¶ä¸ç­‰äºŽè¡Œé«˜ã€‚è™½ç„¶å­—ä½“æœ‰ä¸€ä¸ª em size ä½œä¸ºåŸºç¡€çš„æ–¹å—å¤§å°ï¼Œä½†æ˜¯è®¾è®¡å¸ˆç»å¸¸æŒ‡å®šä¸€äº›å¥‡æ€ªçš„ ascender å’Œ descender å€¼è®©å­—ä½“çš„é«˜åº¦è¶…å‡º em sizeâ€¦â€¦æˆ‘ä¸å¤ªæ¸…æ¥š Atom æˆ–è€…è¯´ Chromium æ˜¯æ€Žä¹ˆè¿›è¡Œä¸­è‹±æ–‡æ··æŽ’çš„ï¼Œä¸è¿‡ Emacs æŽ’ç‰ˆæ—¶å€™æ˜¯å¯¹é½ baselineï¼Œç„¶åŽ ascender å’Œ descender å®Œå…¨ä¸€è‡´æ‰èƒ½ä¿è¯è¡Œé«˜ä¸ä¼šåœ¨åˆ‡æ¢å­—ä½“æ—¶å€™å˜åŒ–ã€‚ä½†æ˜¯è¿™å®žåœ¨æ˜¯å¤ªéš¾äº†ï¼Œå¤§éƒ¨åˆ†ä¸­æ–‡å­—ä½“å’Œè‹±æ–‡å­—ä½“éƒ½å¯¹ä¸ä¸Šï¼Œç‰¹åˆ«æ˜¯ Noto Sans CJK ç³»åˆ—ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆæ¯”å…¶å®ƒçš„é«˜ç‰¹åˆ«å¤šã€‚ä¸€ä¸ªç®€å•çš„è§£å†³åŠžæ³•æ˜¯ä½¿ç”¨ç­‰è·æ›´çº±é»‘ä½“ï¼Œé‡Œé¢æ··åˆçš„è‹±æ–‡ç­‰å®½å­—ä½“ Iosevka å’Œä¸­æ–‡çš„æ€æºé»‘ä½“æ‹¥æœ‰ä¸€è‡´çš„ ascender å’Œ descenderï¼Œä½†æˆ‘å®žåœ¨æ˜¯ä¸å–œæ¬¢ Iosevkaã€‚å¹¶ä¸”ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼ŒNoto Sans CJK å’Œç­‰è·æ›´çº±é»‘ä½“é‡Œé¢çš„å†…ç½®çš„æ€æºé»‘ä½“åº”è¯¥æ˜¯åŒä¸€ç§å­—ä½“ï¼ŒNoto Sans CJK å°±è¦æ¯”ä»–é«˜å¾ˆå¤šã€‚æˆ‘è¿˜å°è¯•äº†ä¿®æ”¹ Monaco çš„ ascender å’Œ descenderï¼Œä¸è¿‡è¿™éƒ¨åˆ†éžå¸¸å¤æ‚ï¼Œæ¶‰åŠåˆ°å¥½å‡ ä¸ªä¸åŒçš„å€¼ï¼Œè€Œä¸”ä¸åŒå­—ä½“æ¯”ä¾‹å°ºä¹Ÿä¸ä¸€æ ·ã€‚æœ€å…³é”®çš„æ˜¯ä¿®æ”¹ä¹‹åŽç›¸å½“äºŽæŠŠå­—ä½“æ‹‰é«˜äº†ï¼ŒäºŽæ˜¯ box-drawing character åˆæŽ¥ä¸ä¸Šäº†â€¦â€¦ä¸Šé¢é‚£ä¸ªä¿®æ”¹ç¼©æ”¾å‚æ•°å…¶å®žä¹Ÿä¸æ˜¯æ— çº§ç¼©æ”¾ï¼Œå®žé™…ä¸Šæ˜¯ä¹˜å­—å·ä¹‹åŽå–æ•´ç„¶åŽå†åŽ»æ‰¾å¯¹åº”å¤§å°çš„å­—ç¬¦ï¼Œæ‰€ä»¥å…¶å®žå°±æ˜¯æ‰¾å°å‡ å·çš„ Noto Sans CJKã€‚å…·ä½“çš„å¯ä»¥åœ¨ Emacs é‡Œé¢ M-x describe-font æŸ¥çœ‹è¯¦æƒ…ã€‚\næ›´æ–°ï¼ˆ2022-02-26T09:51:25ï¼‰ï¼šè¡¥å……ä¸€ä¸‹ï¼Œæµè§ˆå™¨çš„æ··æŽ’åº”è¯¥å’Œ Emacs æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘åˆšæ‰å°è¯•äº†ä¸€ä¸‹ï¼Œæˆ‘çš„åšå®¢è¡Œé«˜å›ºå®šæ˜¯å› ä¸ºæˆ‘ç»™ &lt;pre&gt; è®¾ç½®äº† line-height: 1.5ï¼Œè¿™ä¸ªå¤§å°è¶…è¿‡äº† Noto Sans CJK çš„è¡Œé«˜ï¼Œå¦‚æžœåˆ æŽ‰è¿™ä¸€è¡Œï¼Œä½ å°±ä¼šå‘çŽ°å«æœ‰ Noto Sans CJK çš„è¡Œæ¯”åªæœ‰ Monaco çš„è¡Œè¦é«˜å¾ˆå¤šã€‚ä¸è¿‡ Emacs æ²¡åŠžæ³•åƒæµè§ˆå™¨ä¸€æ ·æŒ‡å®šä¸€ä¸ªæœ€å°è¡Œé«˜ï¼Œåªèƒ½æ˜¯å®ƒè‡ªå·±æ ¹æ®è¿™ä¸€è¡Œçš„å­—ç¬¦è®¡ç®—è¡Œé«˜ï¼Œæ‰€ä»¥æ²¡ä»€ä¹ˆæ¯”è¾ƒå¥½çš„è§£å†³åŠžæ³•ã€‚\næžå®šè¿™äº›ä¹‹åŽï¼Œè‡³å°‘ Emacs é‡Œé¢çœ‹èµ·æ¥æ¯”è¾ƒé¡ºçœ¼äº†ã€‚\n\n"},{"title":"ä¸å†™æ–‡ç« çš„åšå®¢ç”Ÿæˆé€Ÿåº¦æœ€å¿«","url":"/posts/Fastest-Blog-Has-No-Post/","content":"æ˜¥èŠ‚å‡æœŸè™½ç„¶æ˜¯å‡æœŸï¼Œä½†æ˜¯åœ¨å®¶çš„æ—¶é—´é‡Œæˆ‘åŸºæœ¬æ²¡é—²ç€ï¼Œæ¯•ç«ŸæŒ‰ç…§ä¼ ç»Ÿï¼ˆæŒ‡ Ken Thompson åœ¨å‡æœŸé‡Œå†™å‡ºäº† UNIX çš„ç¬¬ä¸€ä¸ªé›å½¢çš„ä¼ ç»Ÿï¼Œä¸è¿‡ç»´åŸºç™¾ç§‘ä¸Šå¹¶æ²¡æœ‰è¯¦è¿°æ˜¯ä¸æ˜¯è¿™æ ·ï¼Œæˆ‘ä¹Ÿæ‡’å¾—è€ƒè¯ï¼‰ï¼Œå‡æœŸæ˜¯é€ è½®å­çš„å¥½æœºä¼šã€‚æ‰€ä»¥æˆ‘å°±èƒ¡ä¹±æ£é¼“ä¸€é€šçœ‹çœ‹èƒ½ä¸èƒ½è®©æˆ‘çš„åšå®¢ç”Ÿæˆå™¨æ›´åœ†ä¸€ç‚¹ã€‚\n\n\né‡æ–°ç†è§£ await\nç¬¬ä¸€ä¸ªç®€å•çš„ä¿®æ”¹å°±æ˜¯æŠŠå¯åŠ¨æ—¶åŠ è½½æ–‡ä»¶çš„éƒ¨åˆ†å¹¶è¡ŒåŒ–ï¼Œå…¶å®žæˆ‘ä¹Ÿæ²¡æœ‰éžè¦å°½å¯èƒ½å¹¶è¡Œï¼Œæ€§èƒ½ä¹Ÿä¸æ˜¯æˆ‘ç¬¬ä¸€ä½çš„è¿½æ±‚ã€‚\næˆ‘ä¸€å¼€å§‹å†™ä»£ç çš„æ—¶å€™çŸ¥é“æœ‰ await ä¹‹åŽå°±å¼€å§‹åœ¨å„ç§åœ°æ–¹ç»™ Promise ç”¨ awaitï¼Œéšä¾¿ä½ æ€Žä¹ˆè¯´éƒ½è¡Œï¼ŒåŽæ¥æˆ‘ä¹Ÿæ‰æ„è¯†åˆ°ï¼Œç»™æ‰€æœ‰çš„ Promise éƒ½åŠ ä¸Š await ä¸å°±æ˜¯ç›¸å½“äºŽæ¯ä¸€ä¸ª Promise éƒ½å†™åœ¨ä¸Šä¸€ä¸ªçš„ then é‡Œé¢ï¼Œé‚£ä¸è¿˜æ˜¯é¡ºåºæ‰§è¡Œå—ï¼Ÿå†™å¤šäº†ä»¥åŽå¯¹å¼‚æ­¥æœ‰ç†è§£äº†æˆ‘æ‰æƒ³èµ·æ¥è¿™é‡Œå®Œå…¨å¯ä»¥ç”¨ Promise.all()ï¼Œåæ­£åŠ è½½æ’ä»¶/è„šæœ¬/æ¨¡æ¿/è¯­è¨€æ˜¯ä¸å¤ªæœ‰å…ˆåŽä¾èµ–é¡ºåºçš„ï¼ˆéžè¦è¯´çš„è¯ï¼Œæ’ä»¶å’Œè„šæœ¬é‡Œå¯èƒ½åŒ…å«æ¨¡æ¿å¼•æ“Žï¼Œæ‰€ä»¥å¯èƒ½ä¸‹ä¸€æ­¥æ˜¯ç»™å‰ä¸¤ä¸ªå’ŒåŽä¸¤ä¸ªåˆ†å¼€é¡ºåºåŠ è½½ï¼‰ã€‚\nç¨‹åºè§£å†³ä¸äº†çš„äº‹æƒ…å°±è®©äººæ¥åš\néšä¾¿ä½ æ€Žä¹ˆè¯´ï¼Œæˆ‘ä¸€ç›´è§‰å¾—æœ‰äº›ç¨‹åºå¾ˆéš¾ç†è§£çš„äº‹æƒ…è€Œäººç±»å¾ˆå¥½ç†è§£çš„å°±è¯¥è®©äººç±»æ¥åšï¼Œè€Œä¸æ˜¯è´¹å¾ˆå¤§åŠ›æ°”å¾—åˆ°ä¸å¥½çš„æ•ˆæžœã€‚ä¸€ä¸ªå¤šå°‘æŽ¥è¿‘è¿™ä¸€æ¡çš„é—®é¢˜å°±æ˜¯ä¸»é¢˜æ–‡ä»¶çš„ä¾èµ–é—®é¢˜â€”â€”å¾ˆå¤šç”Ÿæˆå™¨æ¯”å¦‚ Hexo åœ¨ä»¥ server æ¨¡å¼è¿è¡Œçš„æ—¶å€™éƒ½æœ‰ watch åŠŸèƒ½ï¼Œå¯ä»¥ç›‘æµ‹æ–‡ä»¶å˜åŒ–ç„¶åŽå®žæ—¶é‡æ–°ç”Ÿæˆï¼Œç”¨æˆ·åªè¦ä¸€åˆ·æ–°å°±å¯ä»¥çœ‹åˆ°æœ€æ–°çš„æ›´æ”¹ã€‚ç›´æŽ¥çœ‹ä¸ŠåŽ»ä¸éš¾ï¼Œå†™ Node çš„è°è¿˜ä¸çŸ¥é“ chokidar äº†ã€‚ä½†æ˜¯é—®é¢˜å°±åœ¨äºŽï¼Œæ™®é€šç”¨æˆ·å†™æ–‡ç« ä¸å¤ªéœ€è¦ä¸€è¾¹çœ‹æ¸²æŸ“ä¸€è¾¹å†™ï¼ˆä½ ä¸ä¼šè¿ž Markdown è¿™ä¹ˆç®€å•çš„æ ¼å¼éƒ½ä¸èƒ½è„‘è¡¥å§ï¼Ÿæˆ‘é„™è§† Typoraï¼‰ï¼Œåè€Œæ˜¯ä¸»é¢˜ä½œè€…ç»å¸¸éœ€è¦çœ‹åˆ°è‡ªå·±åˆšç¼–å†™çš„æ ·å¼æ˜¯ä»€ä¹ˆæ ·å­ï¼Œè€Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¤æ‚çš„åœ°æ–¹ï¼ŒCSS é¢„å¤„ç†å™¨å’Œ HTML æ¨¡æ¿å¼•æ“Žé€šå¸¸éƒ½æœ‰ import/include ä¸€ç±»çš„è¯­æ³•ï¼Œè®©ä½ ä¸ç”¨å†™å¾ˆå¤šé‡å¤çš„ç‰‡æ®µï¼Œè€Œåšå®¢ç”Ÿæˆå™¨å¹¶ä¸èƒ½ç†è§£æ¯ä¸€ç§é¢„å¤„ç†å™¨å’Œæ¨¡æ¿å¼•æ“Žçš„è¯­æ³•ã€‚å‡å¦‚ä½ åœ¨ A æ¨¡æ¿é‡Œ include äº† Bï¼Œç„¶åŽä¿®æ”¹äº† Bï¼Œæ­¤æ—¶ä½ åˆ·æ–°ä¸€ä¸ªç”¨äº† A æ¨¡æ¿çš„é¡µé¢ï¼Œä½ æ˜¯çœ‹ä¸åˆ°é¡µé¢æ›´æ–°çš„ï¼Œé‚£åœ¨æœ€éœ€è¦è¿™ä¸ªåŠŸèƒ½çš„æ—¶å€™è¿™ä¸ªåŠŸèƒ½å˜æˆäº†åºŸç‰©ã€‚\næœ‰ä¸€ä¸ªç®€å•çš„è§£å†³æ–¹æ¡ˆæ˜¯ä¸è¦é¢„ç¼–è¯‘ä½ çš„æ¨¡æ¿ï¼Œè€Œæ˜¯æ¯æ¬¡éœ€è¦æ¸²æŸ“é¡µé¢çš„æ—¶å€™é‡æ–°è¯»å–æ¨¡æ¿æ–‡ä»¶ç¼–è¯‘å‡ºä¸€ä¸ªå‡½æ•°æ¥ã€‚ä¸è¿‡è¿™å¯¹äºŽç”Ÿæˆå™¨è€Œè¨€ä¸å¤ªä¼˜é›…ï¼Œæœ‰äº›æ¨¡æ¿å¼•æ“Žæ¯”å¦‚ nunjucks å¯èƒ½æœ‰å†…å»ºçš„ cache æ”¯æŒï¼Œä½†å¦ä¸€äº›å¯èƒ½æ˜¯æ²¡æœ‰çš„ã€‚å†è¯´ä½ æ¥æ¥å›žå›žè¯»è¿™ä¹ˆå¤šæ¬¡ç£ç›˜ï¼Œé‚£å¹²å˜›ä¸ç›´æŽ¥æŠŠæ¸²æŸ“é¡µé¢çš„å·¥ä½œä¹ŸæŒªåˆ°ç”¨æˆ·æµè§ˆå™¨ï¼ˆæŒ‡å‰ç«¯ï¼‰é‡Œå‘¢ï¼Ÿè¿˜è¦åšå®¢ç”Ÿæˆå™¨åšä»€ä¹ˆã€‚\næˆ‘ä¸€å¼€å§‹çš„æ‰“ç®—æ˜¯æ—¢ç„¶ç”Ÿæˆå™¨è‡ªå·±ä¸å¥½ç†è§£ä¾èµ–è¯­æ³•ï¼Œé‚£å°±åƒå¤„ç†åšå®¢æ–‡ç« ä¸€æ ·ï¼Œè®©ä¸»é¢˜ä½œè€…ç»™æ–‡ä»¶åŠ ä¸Š front matter è®°å½•è¿™ä¸ªæ–‡ä»¶çš„ä¾èµ–ã€‚ä¸è¿‡é—®é¢˜åˆæ¥äº†ï¼Œå¯¹äºŽç›´æŽ¥ä½¿ç”¨çš„æ¨¡æ¿ï¼ˆæŒ‡åšå®¢ç”Ÿæˆå™¨è¯»å–å¹¶ç¼–è¯‘å®ƒä»¬ï¼‰å¯ä»¥åœ¨è¯»å–æ—¶åŽ»æŽ‰ front matterï¼Œä½†æ˜¯å‡å¦‚è¿™ä¸ªæ¨¡æ¿ include çš„æ¨¡æ¿ä¹Ÿå¸¦æœ‰ front matterï¼Œæ­¤æ—¶å®žé™…ä¸Šæ˜¯æ¨¡æ¿å¼•æ“Žï¼ˆæ¯”å¦‚ nunjucksï¼‰è‡ªå·±åŽ»ç£ç›˜ä¸Šè¯»é‚£ä¸ªæ–‡ä»¶ï¼Œå®ƒä¸ä¼šåŽ»æŽ‰ front matterã€‚è€Œç»™æ¯ä¸€ç§æ¨¡æ¿å¼•æ“Žéƒ½é‡å†™æ–‡ä»¶åŠ è½½å™¨æ˜¾ç„¶æ˜¯ä¸çŽ°å®žçš„ï¼Œæ‰€ä»¥æœ€åŽçš„æ–¹æ¡ˆå°±æ˜¯è¦æ±‚ä¸»é¢˜ä½œè€…æä¾›ä¸€ä¸ª file-dependencies.yaml çš„æ–‡ä»¶ï¼Œé‡Œé¢è®°å½•æ¯ä¸ªæ–‡ä»¶çš„ä¾èµ–å…³ç³»ï¼Œå¤§æ¦‚åƒæ˜¯è¿™æ ·ï¼š\nlayouts:\n  includes/layout.njk:\n    - includes/footer.njk\n    - includes/header.njk\n    - includes/sidebar.njk\n\nç¬¬ä¸€å±‚æ˜¯éœ€è¦ watch çš„ç›®å½•åï¼Œå› ä¸ºä¸æ˜¯æ‰€æœ‰çš„ç›®å½•éƒ½éœ€è¦å®žæ—¶åˆ·æ–°ï¼Œæ˜¾ç„¶è¿™ç§è€—æ—¶çš„æ“ä½œè¶Šå°‘è¶Šå¥½ï¼Œç¬¬äºŒå±‚æ˜¯ä¾èµ–å…¶ä»–æ–‡ä»¶çš„æ–‡ä»¶ï¼Œç¬¬ä¸‰å±‚åˆ™æ˜¯ä¸€ä¸ªè¢«å®ƒä¾èµ–çš„æ–‡ä»¶çš„åˆ—è¡¨ã€‚ç¨‹åºé‡Œé¢æˆ‘å†™äº†ä¸€ä¸ª Watcher ç±»ï¼Œå¯åŠ¨æ—¶ä¼šè¯»å–è¿™ä¸ªæ–‡ä»¶ï¼Œç„¶åŽå°†å®ƒç¿»è½¬è¿‡æ¥ï¼šä»¥è¢«å…¶å®ƒæ–‡ä»¶ä¾èµ–çš„æ–‡ä»¶ä½œä¸º keyï¼Œè€Œä¾èµ–è¿™ä¸ªæ–‡ä»¶çš„æ–‡ä»¶æˆä¸º value åˆ—è¡¨ã€‚å› ä¸ºæˆ‘ä»¬æ€»æ˜¯æ£€æµ‹åˆ°è¢«ä¾èµ–çš„æ–‡ä»¶å˜åŒ–ä¹‹åŽæ‰å¼€å§‹ç»Ÿè®¡å—åˆ°å®ƒå½±å“çš„æ–‡ä»¶ã€‚ç„¶åŽå°±æ˜¯ä¸€ä¸ªé€’å½’æ”¶é›†å—åˆ°å½±å“çš„æ–‡ä»¶çš„å‡½æ•°ï¼Œå› ä¸ºæ–‡ä»¶ä¾èµ–å¹¶ä¸æ˜¯åªæœ‰ä¸€å±‚çš„ã€‚æ”¶é›†ä¹‹åŽåˆ†åˆ«ç»™è¿™äº›æ–‡ä»¶ä¹ŸåŠ å…¥åˆ°éœ€è¦æ›´æ–°çš„åˆ—è¡¨é‡Œé¢ã€‚\nå†™å®Œè¿™ä¸ªåŠŸèƒ½ä¹‹åŽæˆ‘æœ€å¤§çš„æ„Ÿå¹å°±æ˜¯ï¼šè¦æ˜¯æˆ‘å†™ä¸»é¢˜çš„æ—¶å€™èƒ½æœ‰è¿™ç§åŠŸèƒ½ï¼Œæˆ‘åº”è¯¥èƒ½èŠ‚çœä¸å°‘æ£€æŸ¥çš„æ—¶é—´å§â€¦â€¦\nåŽé¢é—²ç€åˆç»™è¿™ä¸ªåšäº†ç‚¹ä¿®æ”¹ï¼Œä¸€ä¸ªæ˜¯æ”¯æŒç”¨ glob pattern ä½œä¸ºè¢«ä¾èµ–çš„æ–‡ä»¶ï¼Œè™½ç„¶æˆ‘ä¸ªäººè§‰å¾—è¿˜æ˜¯æŠŠéœ€è¦çš„æ–‡ä»¶éƒ½åˆ—å‡ºæ¥ç®—äº†ï¼Œä½†æ˜¯æƒ³å¿…å¯¹äºŽå¤„åœ¨å¼€å‘è°ƒè¯•æœŸçš„ä¸»é¢˜æ¥è¯´å¾ˆæœ‰ç”¨ï¼Œä½œè€…å¯èƒ½ä¸ä¸€å®šæƒ³å¾—èµ·æ¥åŠæ—¶æ›´æ–°è¿™ä¸ªæ–‡ä»¶ã€‚å¦ä¸€ä¸ªæ˜¯è€ƒè™‘åˆ°ä½¿ç”¨ glob ä¹‹åŽå¾ˆå®¹æ˜“åœ¨æ— æ„é—´æžå‡ºå¾ªçŽ¯ä¾èµ–ï¼Œåˆå†™äº†åœ¨é€’å½’é‡Œæ‰“ç ´å¾ªçŽ¯ä¾èµ–çš„åŠŸèƒ½ï¼Œæˆ‘é€šå¸¸ä¸æ“…é•¿å¤„ç†é€’å½’çš„é€»è¾‘ï¼Œä½†æˆ‘è„‘å­çµå…‰ä¸€é—ªæƒ³èµ·æ¥å¯ä»¥ç»™å‡½æ•°æœ€åŽä¸€ä¸ªå‚æ•°è®¾ç½®æˆä¸€ä¸ªè®°å½•å·²ç»å¤„ç†è¿‡å“ªäº›æ–‡ä»¶çš„ Setï¼Œç„¶åŽé€’å½’çš„æ—¶å€™ä½œä¸ºå‚æ•°ä¼ è¿›åŽ»ï¼Œç„¶åŽå°±è¿™ä¹ˆæˆäº†ã€‚\nçŽ°åœ¨å¦‚æžœå¼€å¯ server æ¨¡å¼ï¼Œå„ç§æ–‡ä»¶ä»¥åŠè¯­è¨€æ–‡ä»¶æ¨¡æ¿æ–‡ä»¶ï¼Œç”šè‡³åŒ…æ‹¬è¿™ä¸ªä¾èµ–æè¿°æ–‡ä»¶è‡ªå·±éƒ½æ˜¯å®žæ—¶æ›´æ–°çš„äº†ï¼Œåªæœ‰ä¸»é¢˜å’Œç«™ç‚¹çš„ä¸¤ä¸ªå…³é”®é…ç½®æ–‡ä»¶éœ€è¦é‡å¯ä¹‹åŽæ‰èƒ½é‡æ–°åŠ è½½ã€‚\nå‰Šå‡ä¾èµ–çš„è·¯ä¸Šæ²¡æœ‰æœ€å°‘åªæœ‰æ›´å°‘\näº‹å®žä¸Šæˆ‘åœ¨æ·»åŠ ä¾èµ–çš„æ—¶å€™å·²ç»éžå¸¸å…‹åˆ¶äº†ï¼Œæˆ‘å°½é‡åªä½¿ç”¨é‚£äº›æˆ‘ä¸å¾—ä¸ç”¨çš„ npm åŒ…ï¼Œæœ‰äº›åŠŸèƒ½èƒ½è‡ªå·±å®žçŽ°çš„æˆ‘éƒ½è‡ªå·±å®žçŽ°äº†ã€‚ä½†æ˜¯æ€»æœ‰è¿˜èƒ½åŽ»æŽ‰çš„ä¾èµ–ã€‚æˆ‘é¦–å…ˆå¹²æŽ‰äº† Stylusï¼Œç†ç”±å¾ˆå“­ç¬‘ä¸å¾—ï¼Œå®ƒå¥½åƒä¸æ˜¯é‚£ä¹ˆæµè¡Œäº†ï¼Œæˆ‘éƒ½æ‰¾ä¸åˆ°åˆé€‚çš„æ”¯æŒå®ƒçš„ Emacs æ’ä»¶ã€‚æˆ‘æœ¬æ¥æƒ³æ¢æˆ Less æˆ–è€… SCSSï¼Œä½†æ˜¯å‰è€…è¯­æ³•å’Œ Stylus å·®å¾—æœ‰ç‚¹å¤šï¼ŒåŽè€…æœ‰å¥½å‡ ç§è¯­è¨€çš„å®žçŽ°ï¼Œæœ¬æ¥æˆ‘çœ‹ GNOME éƒ½åœ¨ç”¨ C å†™çš„ libsassï¼Œæˆ‘è§‰å¾—æŒºå¥½ï¼Œä¹Ÿæ‰“ç®—ç”¨è¿™ä¸ªï¼Œç»“æžœå‘çŽ°å®ƒæ•™ç¨‹é‡ŒæŒ‚ç€è¯´â€œä¸æŽ¨èä½¿ç”¨ @import è€ŒæŽ¨è @use ä½†ç›®å‰åªæœ‰ dart ç‰ˆæœ¬çš„å®žçŽ°æ”¯æŒäº†åŽè€…â€ï¼Œè®©æˆ‘æ„Ÿåˆ°è¯´ä¸å‡ºæ¥çš„éš¾å—ï¼Œæˆ‘ä¸å¤ªå–œæ¬¢è¿™ç§å¥‡æ€ªçš„æ–°è¯­è¨€ï¼Œè€Œä¸”æžè¿™ä¹ˆå¤šå®žçŽ°ï¼Œè¿˜æ•´å‡ºå‚å·®ä¸é½çš„è¯­æ³•ï¼Œå®žåœ¨æ˜¯éº»çƒ¦ï¼Œè™½ç„¶ dart å¯ä»¥ç¼–è¯‘åˆ° JavaScriptï¼Œæˆ‘è¿˜æ˜¯æ”¾å¼ƒäº†ã€‚å…¶å®žæˆ‘è‡ªå·±å†™ Stylus çš„æ—¶å€™ä¸æ˜¯æ”¾é£žè‡ªæˆ‘åž‹çš„ï¼Œè€Œæ˜¯å°½å¯èƒ½è´´è¿‘ CSS åž‹çš„ï¼Œæ‰€ä»¥å¹²è„†æŠŠæˆ‘çš„æ ·å¼éƒ½æ”¹æˆäº†åŽŸç”Ÿ CSS äº†ï¼Œé¡ºæ‰‹å°±å¹²æŽ‰äº†ä¸€ä¸ªä¾èµ–ï¼Œå¦‚æžœæœ‰éœ€è¦çš„äººè¿˜æ˜¯è£…æ’ä»¶å§ã€‚\nå†ä¹‹åŽå°±æ˜¯æˆ‘ä¸€ç›´ä½¿ç”¨ glob æ¥åŒ¹é…æ–‡ä»¶ï¼Œä½†æ˜¯å®ƒè¿˜ä¾èµ–ä¸€äº›åˆ«çš„åŒ…ï¼Œæˆ‘åœ¨æƒ³èƒ½ä¸èƒ½ç”¨ä¾èµ–æ›´å°‘çš„åŒ…æ›¿æ¢å®ƒã€‚glob ä½¿ç”¨ minimatch åˆ†æž glob patternï¼Œä½†æ˜¯æ¯”å¦‚ chokidar ä½¿ç”¨çš„æ˜¯å¦ä¸€ä¸ªæ›¿ä»£å“å« picomatchã€‚æˆ‘æ‰¾åˆ°ä¸€ä¸ªå« fdir çš„åº“ï¼Œè™½ç„¶æŽ¥å£ç”¨èµ·æ¥æ€ªæ€ªçš„ï¼Œä½†æ˜¯å¦‚æžœä½ ç”¨å®ƒåš globï¼Œåªéœ€è¦å®ƒå’Œ picomatchï¼Œæ²¡æœ‰å¼•å…¥åˆ«çš„ä¾èµ–ï¼ŒäºŽæ˜¯æˆ‘å°±è¯•äº†ä¸€ä¸‹ã€‚ä½†æ˜¯ä¸å¾—ä¸æ„Ÿå¹ä½œè€…èƒ½ä¸èƒ½å†™ç‚¹é˜³é—´çš„ä»£ç ï¼Œè¿™ä¸ªåº“é»˜è®¤å¿½ç•¥è½¯é“¾æŽ¥æ–‡ä»¶ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸èƒ½ç”¨çš„ï¼Œä½†æ˜¯å‡å¦‚ä½ è®¾ç½®è§£æžé“¾æŽ¥æ–‡ä»¶ï¼Œå®ƒå€’å¥½ï¼Œå°±ç®—æˆ‘è¦çš„æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œå®ƒè¿˜æ˜¯ç›´æŽ¥è§£æžå¹¶æ‹¼æŽ¥äº†ç»å¯¹è·¯å¾„â€”â€”æˆ‘åªæ˜¯æƒ³è®©ä½ æŠŠé“¾æŽ¥æ–‡ä»¶å½“æ™®é€šæ–‡ä»¶è¿”å›žä¸€ä¸‹ï¼å°±åœ¨æˆ‘æ‰“ç®—æ”¾å¼ƒå¹¶ç”¨å›žé˜³é—´çš„ glob åŒ…çš„æ—¶å€™ï¼Œæˆ‘å‘çŽ° chokidar è‡ªå·±ä¾èµ–çš„ readdirp åº“ä¹Ÿå¯ä»¥é…åˆ picomatch ä½¿ç”¨ã€‚ä½†æ˜¯å¦‚æžœä½ ç›´æŽ¥æŠŠ glob pattern ä¸¢ç»™å®ƒè®©å®ƒè‡ªå·±è°ƒç”¨ picomatch ç¼–è¯‘çš„è¯ï¼Œåˆæœ‰ä¸€äº›é˜´é—´çš„é™åˆ¶ï¼Œæ‰€å¹¸å¯ä»¥ç»™å®ƒä¼ è‡ªå®šä¹‰çš„è¿‡æ»¤å™¨å‡½æ•°ï¼Œæ­£å¥½æˆ‘è¿˜éœ€è¦æ”¯æŒä¸€äº›åˆ«çš„åŠŸèƒ½ï¼Œå°±è‡ªå·±ç¼–è¯‘ glob ä¼ ç»™å®ƒäº†ã€‚\nå®žé™…ä¸Šæˆ‘çŽ°åœ¨åªæœ‰ 10 ä¸ªå·¦å³çš„ç›´æŽ¥ä¾èµ–ï¼Œå…¨éƒ¨çš„è¿è¡Œä¾èµ–å¤§æ¦‚æ˜¯ 36 ä¸ªï¼Œåœ¨ Node.js ç¼–å†™çš„ç¨‹åºé‡Œé¢åº”è¯¥ç®—æ˜¯ç›¸å½“å…‹åˆ¶çš„äº†ï¼Œè€ƒè™‘åˆ°è¿™é‡Œé¢å¤§éƒ¨åˆ†éƒ½æ˜¯ nunjucks çš„é—´æŽ¥ä¾èµ–ï¼Œæˆ‘è§‰å¾—æˆ‘åšå¾—ç›¸å½“ä¸é”™ã€‚\nå¯¹äºŽå…¶å®ƒæˆ‘ç¼–å†™çš„ç®€å•çš„ npm åŒ…æˆ‘è¿˜æ˜¯æ¯”è¾ƒè¿½æ±‚ 0 ä¾èµ–ï¼Œåªæœ‰ 0 ä¾èµ–çš„åŒ…æ‰æ˜¯æ¯”è¾ƒå¯æŽ§çš„ï¼Œå¦‚æžœä¸€ä¸ª npm åŒ…åœ¨ npm ä¸Šæ˜¾ç¤ºæœ‰ 1 ä¸ªä¾èµ–ï¼Œé‚£ä½ å°±ä¸èƒ½ç¡®å®šè¿™ä¸€ä¸ªä¾èµ–æœ‰å¤šå°‘é—´æŽ¥ä¾èµ–ï¼Œè€Œä¸æ›´æ–°çš„é—´æŽ¥ä¾èµ–ä¼šå¼•å…¥å¤šå°‘å®‰å…¨é—®é¢˜ä½ ä¹Ÿæ— æ³•å¾—çŸ¥ã€‚æˆ‘åœ¨ç»™ Hikaru é€‰ä¾èµ–çš„æ—¶å€™ä¸€èˆ¬ä¹Ÿä¼šå€¾å‘äºŽ 0 ä¾èµ–çš„åŒ…ï¼ˆè¿™å°±æ˜¯ä¸ºä»€ä¹ˆé€‰æ‹© commander.js è€Œä¸æ˜¯ yargs çš„åŽŸå› ï¼‰æˆ–è€…æ˜¯ä¸€äº›è™½ç„¶æœ‰ä¾èµ–ï¼Œä½†æ˜¯é€’å½’ç¿»å‡ æ¬¡å°±æ˜¯ 0 ä¾èµ–çš„åŒ…ï¼ˆchokidar å±žäºŽè¿™ç±»ï¼Œè€Œä¸”æˆ‘è¿˜ç»™ nunjucks æè¿‡ä¸€ä¸ª PR ä½¿ç”¨ commander.js ä»£æ›¿äº† yargsï¼‰ï¼Œè€Œä¸ä¼šé€‰é‚£äº›ä¾èµ–æ‘žä¾èµ–æ— ç©·æ— å°½çš„åŒ…ã€‚\nè¿™é‡Œä¸å¾—ä¸åæ§½ä¸€ä¸‹ jsdocã€mocha è¿™äº›å¤§åž‹çš„å¼€å‘ç”¨çš„å·¥å…·åº“ï¼Œä¾èµ–å®žåœ¨æ˜¯å¤ªæ··ä¹±äº†ï¼Œç”šè‡³ jsdoc ä¼¼ä¹ŽåŒæ—¶ä¾èµ– marked å’Œ markdown-itâ€¦â€¦å¼€å‘è€…å†™æ–°åŠŸèƒ½çš„æ—¶å€™èƒ½ä¸èƒ½é•¿ç‚¹å¿ƒå•Šã€‚è¿˜æœ‰æˆ‘ä¹‹å‰ç”¨ react-scripts çš„æ—¶å€™ï¼Œç”¨æ—§ç‰ˆæç¤ºä¾èµ–é‡Œé¢æœ‰çš„ç‰ˆæœ¬æœ‰å®‰å…¨é—®é¢˜ï¼Œå‡çº§åˆ°æ–°ç‰ˆä¾èµ–ç®—äº†ä¸€å¤§å †ï¼Œç”šè‡³å‡ºçŽ°äº†ä¸åŒç‰ˆæœ¬çš„é—´æŽ¥ä¾èµ–ï¼Œè€Œä¸”ä»ç„¶æ˜¯æœ‰é—®é¢˜çš„ç‰ˆæœ¬ï¼Œè¿˜æ˜¯å¸Œæœ›å¼€å‘è€…å¯¹è‡ªå·±çš„ä¾èµ–éƒ½å…³å¿ƒå…³å¿ƒï¼ŒåŠæ—¶æ›´æ–°ä¾èµ–ç‰ˆæœ¬ï¼Œä¸è¦é”æ­»ä¸€ä¸ªç‰ˆæœ¬æ‡’å¾—æ”¹å°±è§‰å¾—ä¸‡äº‹å¤§å‰äº†ã€‚\nå¦‚æžœä½ å¯¹å‰Šå‡ npm åŒ…çš„ä¾èµ–æ„Ÿå…´è¶£ï¼Œå¼ºçƒˆå»ºè®®ä½ è¯»ä¸€ä¸‹ chokidar å¼€å‘è€…å†™çš„è¿™ç¯‡æ–‡ç« ã€‚\nworker_threads æ˜¯å¤šçº¿ç¨‹ï¼Œä½†å’Œæˆ‘æƒ³çš„ä¸å¤ªä¸€æ ·â€¦â€¦\n\næˆ‘ï¼šä½ æ‡‚ Node å—ï¼Ÿä¸ºä»€ä¹ˆæˆ‘å¤šçº¿ç¨‹æ¯”å•çº¿ç¨‹æ…¢ï¼Ÿ\né“é“è¿·ï¼šNode å°±æ˜¯å•çº¿ç¨‹æ‹–æ‹‰æœºå•Šã€‚\næˆ‘ï¼šä½ ä¸æ‡‚ï¼Œ88ã€‚\n\nå‡¡æ˜¯è·Ÿä½ è¯´â€œNode.js åªæœ‰å•çº¿ç¨‹â€çš„äººï¼Œéƒ½å¯ä»¥ç›´æŽ¥å’Œä»–è¯´â€œä½ ä¸æ‡‚ Node.jsâ€äº†ã€‚Node è¦è§£å†³çš„å°±æ˜¯éžé˜»å¡ž IO çš„é—®é¢˜ï¼Œè€Œéžé˜»å¡ž IO è‚¯å®šä¸æ˜¯å¤šçº¿ç¨‹èƒ½è§£å†³çš„ã€‚è‡³å°‘å¯¹äºŽå†…éƒ¨çš„ fs æ¥è¯´ï¼Œè°ƒç”¨å¼‚æ­¥å‡½æ•°çš„æ—¶å€™æ˜¯ libuv ä»Žçº¿ç¨‹æ± é‡Œé¢æ‹‰å‡ºä¸€ä¸ªçº¿ç¨‹åŽ»è§£å†³ä»»åŠ¡ï¼Œè€Œ JavaScript æœ¬èº«çš„çº¿ç¨‹ä¸ä¼šè¢«é˜»å¡žã€‚å¦‚æžœä½ è¿˜æƒ³äº†è§£â€œæœ‰å“ªäº›ä»£ç ä¼šé˜»å¡žä¸»çº¿ç¨‹è€Œå“ªäº›ä»£ç ä¸ä¼šâ€ï¼Œå¯ä»¥çœ‹ Node.js å®˜ç½‘çš„è¿™ç¯‡æ–‡ç« ã€‚\nè¯´å®žè¯ï¼Œå¯¹äºŽç”¨æˆ·è‡ªå·±å†™çš„ JavaScript ä»£ç æ®µï¼Œä¼¼ä¹Žæ˜¯æ²¡ä»€ä¹ˆå¥½åŠžæ³•æŠŠå®ƒä¸¢åˆ°ä¸»çº¿ç¨‹ä¹‹å¤–çš„çº¿ç¨‹ä¸ŠåŽ»æ‰§è¡Œçš„â€¦â€¦è¯·åŠ¡å¿…æ³¨æ„â€œå›žè°ƒâ€ï¼Œâ€œå¼‚æ­¥â€å’Œâ€œéžé˜»å¡žâ€çš„åŒºåˆ«â€”â€”ä¸æ˜¯æ‰€æœ‰å›žè°ƒéƒ½æ˜¯å¼‚æ­¥çš„ï¼Œæ¯”å¦‚æˆ‘ä¼ äº†ä¸€ä¸ªå›žè°ƒå‡½æ•°å®ƒä¹Ÿå¯èƒ½æ˜¯åŒæ­¥çš„ï¼Œè€Œå°±ç®—ä½ æŠŠä¸€æ®µè€—æ—¶çš„åŒæ­¥ä»£ç å¥—ä¸Š setImmediate å’Œ Promiseï¼Œä¹Ÿä¸æ„å‘³ç€å®ƒå°±ä¸ä¼šé˜»å¡žä¸»çº¿ç¨‹äº†â€¦â€¦å®ƒæ‰§è¡Œçš„æ—¶å€™è¿˜æ˜¯åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œåªæ˜¯ä½ æŠŠå®ƒå»¶è¿Ÿäº†ï¼ŒæŽ¨åˆ°äº† event loop ç©ºé—²çš„æ—¶å€™åŽ»è¿è¡Œâ€”â€”ä½†è½®åˆ°å®ƒè¿è¡Œèµ·æ¥è¿˜æ˜¯é˜»å¡žä½äº†ä¸»çº¿ç¨‹ã€‚ï¼ˆè¯´å‡ºæ¥ä¸æ€•ç¬‘è¯ï¼Œæˆ‘ä¹Ÿæ˜¯å†™å¾—å¤šäº†æœ€è¿‘æ‰è®¤è¯†åˆ°è¿™äº›åŒºåˆ«ï¼ˆä¹ï¼‰ï¼Œå¦‚æžœæˆ‘å†™çš„ä¸å¯¹è¿˜å¸Œæœ›å¤§å®¶æŒ‡æ­£ã€‚ï¼‰\nèµ·å› æ˜¯æˆ‘è¯»äº† Sukka çš„è¿™ç¯‡æ–‡ç« ï¼Œä»‹ç»äº† Node æ–°åŠ çš„ worker_threads æ¨¡å—ï¼Œæ˜¯å…è®¸ä½ å¼€å¯å­çº¿ç¨‹è¿è¡Œä»£ç çš„ã€‚æ­£å¥½æˆ‘æƒ³åˆ°æˆ‘çš„åšå®¢ç”Ÿæˆå™¨é‡Œæœ‰ä¸€æ®µåˆ†æžæ¯ç¯‡æ–‡ç« å†…å®¹å¹¶ä¿®é¥°é‡Œé¢çš„å›¾ç‰‡å’Œé“¾æŽ¥çš„ä»£ç ï¼Œè¦æ˜¯èƒ½èµ·ä¸€ä¸ªçº¿ç¨‹æ± ï¼ŒæŠŠæ¯ä¸ªæ–‡ç« åˆ†é…ç»™ä¸åŒçš„çº¿ç¨‹åŽ»å¤„ç†ï¼Œé‚£å¤šæ˜¯ä¸€ä»¶ç¾Žäº‹å•Šï¼\næˆ‘å‘çŽ°è¿™ä¸ª worker_threads å¹¶ä¸æ˜¯å¾ˆå¥½ç”¨ï¼Œå®ƒå¹¶ä¸åƒ pthreadï¼Œç›´æŽ¥è¿è¡Œä¸€ä¸ªå‡½æ•°ï¼Œè€Œæ˜¯è¦æ±‚ä½ å¿…é¡»ä¼ ä¸€ä¸ª JavaScript è„šæœ¬çš„è·¯å¾„è¿›åŽ»ï¼Œè¿™å°±ç»™ä»£ç ç¼–å†™æžå‡ºäº†å¾ˆå¤§çš„éº»çƒ¦ã€‚æˆ‘åšçš„ä¿®æ”¹åœ¨å¦ä¸€ä¸ª worker åˆ†æ”¯é‡Œé¢ï¼Œå¯ä»¥è®¿é—® https://github.com/AlynxZhou/hikaru/commits/worker çœ‹åˆ°ã€‚ä¸è¿‡ä¸€ä¸ªå°´å°¬çš„äº‹æƒ…æ˜¯å†™å¥½ä»¥åŽæˆ‘è·‘äº†å‡ æ¬¡ï¼Œå‘çŽ°å¤šçº¿ç¨‹è¿˜æ²¡æœ‰æˆ‘ä¹‹å‰å•çº¿ç¨‹è¿è¡Œå¿«â€¦â€¦è€Œä¸”å¾ˆåç›´è§‰çš„æ˜¯çº¿ç¨‹è¶Šå¤šè¶Šæ…¢ï¼Œåœ¨æˆ‘ 12 æ ¸å¿ƒçš„å¤„ç†å™¨ä¸Šå››ä¸ªçº¿ç¨‹æ˜¯è·‘åœ¨ä¸»çº¿ç¨‹ä¹‹å¤–æœ€å¿«çš„ï¼Œæ¯”ä»€ä¹ˆ 2ã€6ã€8ã€12 éƒ½å¿«ã€‚\nè¯´å®žè¯ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰æžæ¸…æ¥šåˆ°åº•æ˜¯æ€Žä¹ˆå›žäº‹ï¼Œå¯ä»¥ç¡®å®šä»»åŠ¡ç¡®å®žæ˜¯åˆ†å‘ç»™äº†ä¸åŒçš„çº¿ç¨‹ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆä¼šè¿™ä¹ˆæ…¢å‘¢ï¼Ÿä¸€ä¸ªå¯èƒ½çš„åŽŸå› æ˜¯åœ¨ä¸åŒçš„çº¿ç¨‹ä¹‹é—´å¹¶ä¸æ˜¯åƒ C ä¸€æ ·ç›´æŽ¥å…±äº«å†…å­˜ç©ºé—´ï¼Œä¼ é€’å‚æ•°çš„æ—¶å€™ Node æ˜¯å¤åˆ¶ä¹‹åŽä¼ é€’çš„ï¼Œè™½ç„¶æˆ‘è§‰å¾—æˆ‘ä¼ é€’çš„æ•°æ®é‡ä¸è‡³äºŽè®©å¤åˆ¶é€ æˆç“¶é¢ˆå§ï¼Œä½†è¿™æ˜¯æˆ‘èƒ½æƒ³åˆ°å”¯ä¸€çš„åŽŸå› äº†ã€‚è€Œä¸”é˜…è¯»ä¾‹å­çš„æ—¶å€™ä¹Ÿå‘çŽ°ï¼Œå¥½åƒæŽ¨èçš„ç”¨æ³•æ˜¯æ¯”å¦‚åš http serverï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æ˜¯å¯åŠ¨ä¹‹åŽä¸€ç›´ç›‘å¬ï¼Œè€Œä¸åƒæˆ‘è¿™æ ·æ˜¯ä¸æ–­çš„åˆ†é…å¤§é‡çš„å°ä»»åŠ¡ã€‚æ€»ä¹‹æˆ‘å¾ˆéœ€è¦ä¸€ä¸ªåƒ pthread é‚£æ ·ç®€å•çš„ç»™æˆ‘æ‰§è¡Œä¸€æ®µä»£ç çš„çº¿ç¨‹ï¼Œè€Œ worker_threads å¥½åƒå€¾å‘é•¿æ—¶é—´è¿è¡Œä¸€ä¸ªå•ç‹¬æ–‡ä»¶â€¦â€¦å¼ºæ‰­çš„ç“œä¸ç”œï¼Œæˆ‘è¿˜æ˜¯æ”¾å¼ƒå§ã€‚\nç„¶åŽè¯´å›žåˆ°æ€§èƒ½è¿™ä»¶äº‹ä¸Šï¼Œæˆ‘å€’ä¸æ˜¯è§‰å¾—ç”Ÿæˆå™¨çŽ°åœ¨çš„æ€§èƒ½éš¾ä»¥å¿å—ï¼Œå¦åˆ™æˆ‘å°±è¯¥ç”¨ Hugoï¼Œç›¸åæˆ‘å®žåœ¨æ˜¯è§‰å¾—çŽ°åœ¨çš„ç”Ÿæˆé€Ÿåº¦å‡ºä¹Žæ„æ–™çš„æ£’äº†ï¼Œè€Œä¸”åˆä¸åƒ Hugo åªæ”¯æŒ go templateï¼ŒNode æœ‰å¾ˆå¤šç§æ¨¡æ¿å¼•æ“Žå¯ä»¥é€‰ï¼ˆæˆ‘å°±æ˜¯ä¸å–œæ¬¢ go ä½ æ¥æ‰“æˆ‘å‘€ï¼‰ã€‚å®Œæ•´ç”Ÿæˆä¸€éæˆ‘çš„åšå®¢å¤§æ¦‚è€—æ—¶ 800 æ¯«ç§’ï¼Œè€Œä¸”æˆ‘ä¹Ÿæ²¡æœ‰æŠŠæ¸²æŸ“å•¦è§£æžå•¦ä¹‹ç±»çš„åŠŸèƒ½ç”¨å¤šçº¿ç¨‹è§£å†³ï¼Œå¹¶ä¸”æˆ‘çš„ç”Ÿæˆå™¨æ²¡æœ‰ç¼“å­˜ï¼Œæ¯æ¬¡éƒ½æ˜¯ä»Žå¤´ç”Ÿæˆçš„ã€‚æ²¡æœ‰ç¼“å­˜è¿™ç‚¹å…¶å®žå’Œä¹‹å‰ watch æ–‡ä»¶çš„åŠŸèƒ½å¾ˆç±»ä¼¼ï¼Œä¸å¤Ÿå¯é è¿˜ä¸å¦‚ä¸è¦ç®—äº†ã€‚åœ¨æˆ‘ä»¥å‰ç”¨ Hexo çš„æ—¶å€™å®ƒæ˜¯æœ‰ç¼“å­˜çš„ï¼Œä½†æ˜¯è¿™ä¸ªç¼“å­˜ç»å¸¸å¯¼è‡´å¥‡æ€ªçš„ç»“æžœï¼Œæ¯”å¦‚è¯¥æ›´æ–°çš„é¡µé¢æ²¡æœ‰ä¼´éšæ–‡ç« ä¸€èµ·æ›´æ–°ä¹‹ç±»çš„ï¼Œæˆ‘ä¹Ÿä¸æ˜¯å¾ˆç†è§£åˆ°åº•æ€Žä¹ˆå›žäº‹ï¼ˆç‰¹åˆ«æ˜¯è€ƒè™‘åˆ° Hexo é‡Œé¢è¿˜æœ‰ä¸€ä¸ªå¥‡æ€ªçš„ JSON æ•°æ®åº“ warehouseï¼‰ï¼Œæ‰€ä»¥æ¯æ¬¡æˆ‘éƒ½æ˜¯ clean ä¹‹åŽå†ä»Žå¤´ç”Ÿæˆï¼Œé‚£æˆ‘è‡ªå·±å®žçŽ°çš„æ—¶å€™è‡ªç„¶å°±ç æŽ‰è¿™ç§ä¸é è°±çš„åŠŸèƒ½äº†ã€‚\nå½“ç„¶æˆ‘é—®äº†çªç¥ž Hugo ç”Ÿæˆä»–çš„åšå®¢è€—æ—¶å¤šå°‘ï¼Œä¼¼ä¹Žåªéœ€è¦ 200 æ¯«ç§’çš„æ ·å­ï¼Œä¸è¿‡é™¤äº† go æ˜¯ç¼–è¯‘åž‹è¯­è¨€è€Œä¸” Hugo è‚¯å®šç”¨äº†åç¨‹æ¸²æŸ“ä»¥å¤–ï¼Œä»–åªæœ‰ 6 ç¯‡æ–‡ç« è€Œæˆ‘æœ‰ 83 ç¯‡æ–‡ç« ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„å› ç´ ï¼ä»–ç”šè‡³è¿žåˆ†é¡µéƒ½ä¸éœ€è¦ç”Ÿæˆï¼\næ‰€ä»¥å¦‚æžœä½ çœŸçš„åªè¿½æ±‚é€Ÿåº¦ä¸è¿½æ±‚åˆ«çš„ï¼Œä»€ä¹ˆè¯­è¨€éƒ½æ˜¯æµ®äº‘ï¼Œæ€»ç»“å‡ºæ¥å°±ä¸€å¥è¯ï¼šä¸å†™æ–‡ç« çš„åšå®¢ç”Ÿæˆé€Ÿåº¦æœ€å¿«ï¼\n"},{"title":"StackHarbor çš„ 2021 å°¾è®°","url":"/posts/2021-Tail/","content":"ä»Šå¹´ä¸€ç›´æ‹–ç€æ²¡å†™æ€»ç»“ï¼Œä¸æ˜¯å› ä¸ºæ‡’ï¼Œä¸»è¦æ˜¯å› ä¸ºæˆ‘æ€»è§‰å¾—å¥½åƒè·ç¦»åŽ»å¹´å†™æ€»ç»“ä¹Ÿæ²¡å¤ªä¹…ï¼Œæˆ‘è¿˜èƒ½å›žå¿†èµ·æ¥åŽ»å¹´å†™æ€»ç»“æ—¶å€™æ˜¯ä»€ä¹ˆæ ·â€¦â€¦ä¹Ÿè¯´ä¸ä¸Šæ˜¯å› ä¸ºæˆ‘è®°å¿†åŠ›ä¸å¤ªå¥½è¿˜æ˜¯å› ä¸ºè¿™ä¸€å¹´å®žåœ¨æ²¡ä»€ä¹ˆèƒ½è®©æˆ‘è®°ä½çš„äº‹æƒ…ã€‚\n\n\n2021 å¹´å·¥ä½œæ²¡ä»€ä¹ˆå˜åŒ–ï¼Œä¸è¿‡æˆ‘æ¢äº†ä¸ªå¥½ä¸€ç‚¹çš„ä½å¤„ï¼Œè™½ç„¶ä»ç„¶æ˜¯æ—§æ¥¼ä½†æ˜¯é‡Œé¢æ˜¯æ–°è£…ä¿®è¿‡çš„ï¼Œè‡³å°‘è®©äººå¾…ç€çš„æ—¶å€™æ„Ÿåˆ°èˆ’é€‚ï¼Œè€Œä¸”è¿˜å¯ä»¥å¸å®¤å‹çš„çŒ«ï¼Œè™½ç„¶å°çŒ«ä¹Ÿç»å¸¸æžç ´åï¼Œä¸è¿‡çŒ«åšä»€ä¹ˆéƒ½å¯ä»¥åŽŸè°…ã€‚\nçœ‹äº†åŽ»å¹´çš„æ€»ç»“ï¼Œæ‰å‘çŽ°æˆ‘æ˜¯ 2021 å¹´æŠŠ FlipClock æ”¹æˆ Meson ç®¡ç†ç¼–è¯‘çš„ï¼ŒäºŽæ˜¯æƒ³èµ·æ¥æˆ‘è¿™ä¸€å¹´å­¦äº† Meson æ€Žä¹ˆç”¨ï¼Œå› ä¸º CMake å®žåœ¨æ˜¯è®©æˆ‘çƒ§è„‘ç­‹ã€‚æˆ‘ä»Šå¹´è¿˜ç»ˆäºŽè®© scrcpy èƒ½å¤Ÿæ¨¡æ‹Ÿ USB é”®ç›˜ï¼Œè¿™æ ·ä½¿ç”¨ scrcpy çš„æ—¶å€™ä¹Ÿèƒ½ç”¨æ•°å­—é”®é€‰è¯äº†ï¼Œå¤šå°‘ç®—æ˜¯åœ¨ä¸€ä¸ªå¤§é¡¹ç›®é‡Œé¢åšäº†ä¸€ä¸ªå¤§è´¡çŒ®ã€‚\nç„¶åŽå…¶ä»–èƒ½è®°å¾—ä½çš„å°±æ˜¯æœ€è¿‘æŠ˜è…¾çš„ä¸€äº›ä¸œè¥¿äº†ï¼Œæ˜¥èŠ‚å‡æœŸæ²¡å†™åšå®¢ä¹Ÿæ˜¯å› ä¸ºå¿™ç€å†™ä»£ç ã€‚å†™äº†ä¸€ä¸ªç®€å•çš„ç½‘é¡µå°æ¸¸æˆï¼ŒåŸºæœ¬æ˜¯å¹³é¢ç‰ˆç¥žåº™é€ƒäº¡ï¼Œæ„Ÿè§‰è¿˜æ˜¯æŒºæœ‰æˆå°±æ„Ÿçš„ã€‚ç„¶åŽç»™ä¹‹å‰çš„å¼¹é’¢ç´é¡µé¢æ”¹æˆäº†åŽŸç”Ÿ JS å®žçŽ°ï¼Œæ”¾å¼ƒ React çš„åŽŸå› æ˜¯ä¾èµ–å¤ªå¤šäº†ï¼Œè€Œä¸”ä¸æ˜¯æ¯ä¸ªè½¯ä»¶åŒ…éƒ½èƒ½åŠæ—¶æ›´æ–°è‡ªå·±çš„ä¾èµ–ã€‚æ¯”å¦‚ä½ ç”¨ä¸€ä¸ªè€ç‰ˆæœ¬çš„ create-react-app ä¼šå¸¦æ¥è®¸å¤šæœ‰æ¼æ´žçš„ä¾èµ–ï¼Œç„¶åŽä½ æ›´æ–°åˆ°æœ€æ–°ç‰ˆå› ä¸ºä¾èµ–å˜äº†ï¼Œæœ‰äº›åº“åˆä¾èµ–äº†å¦ä¸€ä¸ªæœ‰æ¼æ´žçš„ç‰ˆæœ¬ã€‚æˆ‘è§‰å¾—ä¸ºäº†ç®€å•çš„ UI å’Œæ•°æ®ç»‘å®šè¿™ä¸ªä»£ä»·æ˜¯ä¸å€¼å¾—çš„ï¼Œæ‰€ä»¥æˆ‘å°±é‡å†™äº†ä¸€ä¸ªã€‚ç„¶åŽç»™æˆ‘çš„åšå®¢ç”Ÿæˆå™¨æ·»åŠ äº†æ–‡ä»¶ä¾èµ–çš„æ”¯æŒï¼Œå¾ˆä¹…å¾ˆä¹…ä»¥å‰å½“æˆ‘åˆšå¼€å§‹ç”¨é™æ€åšå®¢ç”Ÿæˆå™¨çš„æ—¶å€™å°±åœ¨å¤´ç–¼è¿™ä¸ªï¼Œåšå®¢ç”Ÿæˆå™¨ç†è§£ä¸äº†ä½ çš„æ¨¡æ¿å¼•æ“Žæˆ–è€…é¢„å¤„ç†å™¨çš„å¯¼å…¥å’Œæ‰©å±•è¯­å¥ï¼ŒäºŽæ˜¯æ²¡åŠžæ³•åœ¨ä¸€ä¸ªæ–‡ä»¶æ›´æ–°çš„æ—¶å€™æ›´æ–°æ‰€æœ‰åŒ…å«å®ƒçš„ä¾èµ–ï¼Œå¯¼è‡´ä¸»é¢˜å¼€å‘è¦ä¸åœçš„å…³æŽ‰ç”Ÿæˆå™¨å†å¼€ã€‚ä¸€å¼€å§‹æˆ‘æ˜¯æƒ³ç»™è¿™äº›æ–‡ä»¶éƒ½åŠ ä¸Š front matterï¼Œä½†æ˜¯æˆ‘å‘çŽ°è™½ç„¶æˆ‘è‡ªå·±åŠ è½½çš„æ—¶å€™å¯ä»¥åŽ»æŽ‰ front matterï¼Œæ¨¡æ¿å¼•æ“Žå¤„ç†å¯¼å…¥è¯­å¥çš„æ—¶å€™æ˜¯ä»–è‡ªå·±è¯»æ–‡ä»¶æ‰€ä»¥æ²¡åŠžæ³•åŽ»æŽ‰ front matterï¼Œæˆ‘ä¸æƒ³ç»™æ¯ä¸ªæ¨¡æ¿å¼•æ“Žéƒ½å†™è‡ªå®šä¹‰çš„ loaderï¼Œæ‰€ä»¥æœ€åŽæ”¹æˆç”¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶è®°å½•ä¾èµ–äº†ã€‚æœ€åŽçš„ç»“æžœå°±æ˜¯å•ç‹¬æŠ½å‡ºäº†ä¸€ä¸ª Watcher ç±»ï¼Œå¯ä»¥æŸ¥è¡¨æŸ¥å‡ºæ‰€æœ‰éœ€è¦æ›´æ–°çš„æ–‡ä»¶ç„¶åŽè°ƒå›žè°ƒï¼Œæ•ˆæžœè¿˜æŒºä¸é”™çš„ã€‚ä»¥åŠæœ¬æ¥æˆ‘æƒ³æ¸…ç†ä¸€ä¸‹åšå®¢çš„æ ·å¼ç„¶åŽé¡ºä¾¿æ¢ä¸ª CSS é¢„å¤„ç†å™¨ï¼Œå› ä¸ºæ„Ÿè§‰ Stylus ä¸æ˜¯ç‰¹åˆ«ç«äº†ï¼Œä½†æ˜¯è€ƒå¯Ÿäº†ä¸€ä¸‹ï¼Œless çš„è¯­æ³•å’Œ Stylus å·®å¾—æœ‰ç‚¹å¤šï¼Œè€Œ scss è™½ç„¶ä½¿ç”¨å¹¿æ³›ï¼Œè€Œä¸”æœ‰çº¯ C è¯­è¨€å†™çš„å®žçŽ°ï¼Œä½†æ˜¯å®ƒæœ‰å¥½å¤šä¸ªå®žçŽ°ï¼Œå¹¶ä¸”å®˜ç½‘ä¸Šè¯´åªæœ‰ Dart è¯­è¨€å†™çš„ç‰ˆæœ¬æ‰ä¸è¿‡æ—¶ï¼Œå…¶å®ƒçš„éƒ½åªå®žçŽ°äº†è¿‡æ—¶çš„ @import è€Œç”¨æˆ·åº”è¯¥ç”¨æœ€æ–°çš„ @useï¼Œæ€»ä¹‹æžå¾—è¿™ä¹ˆéº»çƒ¦çœ‹èµ·æ¥å°±ä¸æƒ³ç”¨ã€‚è™½ç„¶ Dart èƒ½ç¼–è¯‘æˆçº¯ JSï¼Œæˆ‘è¿˜æ˜¯è§‰å¾—æ²¡å…´è¶£ã€‚äºŽæ˜¯æœ€åŽæˆ‘æŠŠæˆ‘çš„æ ·å¼éƒ½æ”¹æˆäº†åŽŸç”Ÿ CSSï¼Œç„¶åŽåŽ»æŽ‰äº†ç”Ÿæˆå™¨å†…ç½®çš„ Stylus æ”¯æŒã€‚\næ˜¾ç¤ºå™¨ä»ŽåŽ»å¹´çš„ä¸€ä¸ªæ¢æˆäº†ä¸¤ä¸ªï¼Œå› ä¸ºæˆ‘æ˜¯ä¸€ä¸ªç»å¸¸æœ€å¤§åŒ–çª—å£çš„äººï¼Œåˆ‡å·¥ä½œåŒºè™½ç„¶å¿«ï¼Œä½†æ˜¯æ¯”å¦‚åœ¨æµè§ˆå™¨å’Œä»£ç ç¼–è¾‘å™¨ä¹‹é—´åˆ‡æ¢çš„æ—¶å€™è¿˜æ˜¯ä¼šæ‰“æ–­æ€è·¯ï¼Œæœ‰äº†åŒå±å°±æ²¡è¿™ä¸ªçƒ¦æ¼ã€‚ä¸€å¼€å§‹æˆ‘æƒ³çš„æ˜¯åŒå±æ›´æ–¹ä¾¿ä¸€è¾¹å…¨å±æ¸¸æˆä¸€è¾¹å¹²åˆ«çš„äº‹æƒ…ï¼Œä¸è¿‡å¥½åƒä¹Ÿå°±é‚£æ ·ï¼Œå› ä¸ºä»Žå…¨å±åˆ‡å‡ºæ¥åˆ°å¦ä¸€ä¸ªå±å¹•ä¹Ÿä¸æ˜¯å¾ˆé¡ºç•…ã€‚ä¸è¿‡ä¹°åŒå±çš„æ—¶å€™å¾ˆå¤´ç–¼çš„å°±æ˜¯å› ä¸ºä¸æ˜¯ä¸€ä¸ªæ‰¹æ¬¡ï¼Œä¸¤ä¸ªæ˜¾ç¤ºå™¨çš„è‰²æ¸©å·®å¾—ä¸æ˜¯ä¸€ç‚¹ï¼Œæœ€ç»ˆæ˜¯æ¢äº†ä¸€å°ç„¶åŽç”¨æ ¡è‰²ä»ªè°ƒäº†å¥½ä¹…ï¼Œè™½ç„¶ä¸æ˜¯ 100% ä¸€è‡´ï¼Œä½†æ˜¯è‡³å°‘å·®ä¸å¤šäº†ã€‚\nè¯´åˆ°è¿™ä¸ªæˆ‘æƒ³è¯´ï¼Œæ„Ÿè§‰å¹¸è¿å’Œå€’éœ‰æ˜¯ä¼´éšè€Œæ¥çš„ï¼Œä¸å¤ªå¯èƒ½ä¸€ç›´å¹¸è¿ï¼Œç»å¸¸æ˜¯å‘ç”Ÿä¸€äº›å¼€å¿ƒçš„äº‹ä¹‹åŽåˆå‘ç”Ÿä¸€äº›ä¸å¼€å¿ƒçš„äº‹ï¼Œæ¯”å¦‚åŽ»å¹´ä¹°äº†æ–°ç›¸æœºï¼Œç»å¸¸æ²¡äº‹æ‹ç‚¹ç…§ç‰‡ä»€ä¹ˆçš„ï¼Œç»“æžœæ˜¨å¤©æ™šä¸Šæˆ‘çªç„¶å‘çŽ°ä¸å¼€é•œå¤´ç›–çš„æ—¶å€™ CMOS æœ‰ä¸ªçº¢ç‚¹â€¦â€¦æˆ‘è§‰å¾—æˆ‘åŸºæœ¬å¯ä»¥æŽ’é™¤æ¿€å…‰æŸä¼¤ï¼Œåº”è¯¥å°±æ˜¯åç‚¹ï¼Œä½†æ˜¯æˆ‘ç”¨æœºå†…çš„åƒç´ æ˜ å°„å´è§£å†³ä¸æŽ‰ã€‚æ„Ÿè§‰æœ€åŽè¿˜å¾—è·‘ä¸€è¶Ÿç»´ä¿®ç«™ï¼Œè€Œæˆ‘åœ¨è€å®¶ï¼Œä¸€æ—¶åŠä¼šä¸ä¼šå›žåŒ—äº¬ï¼Œè¿™è¾¹ä¹Ÿæ²¡æœ‰ç»´ä¿®ç«™ï¼Œæ€»ä¹‹éº»çƒ¦çš„äº‹æƒ…å°±ä¼šè®©æˆ‘å¿ƒç´¯ã€‚ä¹°äº†ä¸€å¼ å‡é™æ¡Œï¼Œä¸è¿‡è¿™ä¸ªæœ€ä¾¿å®œçš„æ¬¾å¼ä¸å¤ªé è°±ï¼ŒçŽ°åœ¨å‡é™åŠŸèƒ½ä¸å¤ªæ­£å¸¸ï¼ŒäºŽæ˜¯åªæ˜¯å˜æˆäº†ä¸€å°å¤§æ¡Œå­ã€‚ä¸è¿‡æ¤…å­åäº†ä¹‹åŽæ¢äº†ä¸ªæ¯”è¾ƒä¾¿å®œçš„å·¥å­¦æ¤…å€’ç¡®å®žä»¤æˆ‘æ»¡æ„ã€‚\nä»Šå¹´æ²¡æœ‰æ¢æ‰‹æœºï¼Œä¸»è¦æ˜¯æŠŠè¿™ä¸ªé’±æŠ•èµ„åˆ°é•œå¤´æˆ–è€…ç¯ä¸Šè®©æˆ‘æ›´é«˜å…´ä¸€ç‚¹ï¼Œæ‰‹æœºåŽ‚å•†å‡ºçš„æ‰‹æœºçœŸæ˜¯è¶Šæ¥è¶Šçƒ‚äº†ã€‚ä¸è¿‡æŠŠå¤‡ç”¨çš„ iPhone 8 æ¢æˆäº† iPhone XRï¼Œåœ¨äºŒæ‰‹é¢‘é“çœ‹åˆ°ä¸€ä¸ªæˆè‰²å¾ˆå¥½ï¼Œè€Œä¸”æ˜¯çº¢è‰²æ¬¾çš„ï¼Œæˆ‘æ—©å°±è§‰å¾— iPhone 8 å±å¹•å¤ªå°äº†ã€‚\nåŠ¨æ¼«ä¹Ÿæƒ³ä¸èµ·æ¥çœ‹è¿‡ä»€ä¹ˆï¼Œä»Šå¹´ä¹Ÿè®¸åªçœ‹äº† EVA æœ€åŽä¸€éƒ¨å‰§åœºç‰ˆå’Œ love live superstarï¼Œåæ­£çœ‹ EVA å°±æ˜¯å¤§å®¶éƒ½æƒ³çœ‹çœ‹ä»–æ€Žä¹ˆæ”¶å°¾è€Œå·²ï¼Œæ€»ä½“æ¥è¯´è¿˜æ˜¯ä¸é”™ï¼Œç‰¹åˆ«æ˜¯çœ‹äº†çºªå½•ç‰‡ä¹‹åŽã€‚ç„¶åŽ love live æˆ‘ä»¥å‰æ²¡çœ‹è¿‡ï¼Œæˆ‘çš„è¯„ä»·å°±æ˜¯æŒºå¥½å¬çš„ã€‚ç„¶åŽæˆ‘æ„Ÿè§‰åœ¨ç”µå½±é™¢çœ‹åˆ° Fate/Stay Night HF ç¬¬ä¸‰å­£çš„å¯èƒ½æ€§åº”è¯¥æ˜¯æ²¡äº†ï¼Œç‰¹åˆ«æ˜¯è€ƒè™‘åˆ°ä»Šå¹´é™¢çº¿ä¸Šçš„å›½å¤–ç”µå½±çš„æ¯”ä¾‹â€¦â€¦è¿˜èƒ½è¯´ä»€ä¹ˆå‘¢æ‡‚å¾—éƒ½æ‡‚å“ˆå“ˆã€‚\næƒ³ä¸èµ·æ¥çœ‹è¿‡å¤šå°‘ä¹¦ï¼Œæ€»ä¹‹å‰æ®µæ—¶é—´æœ‰å¤©æ™šä¸Šç¡ä¸ç€ï¼Œä¸€å£æ°”æŠŠæŒªå¨çš„æ£®æž—çœ‹å®Œäº†ï¼Œæˆ‘æ—©å°±ä¹°äº†è¿™æœ¬ä¹¦ï¼Œä½†æ˜¯ä»¥å‰éƒ½æ˜¯æ‰“å¼€çœ‹å‡ é¡µå°±çœ‹ä¸ä¸‹åŽ»äº†ï¼Œè¿™æ¬¡ä¸€å£æ°”çœ‹å®Œæ„Ÿè§‰è¿˜æŒºå¥½çš„ã€‚\nä»Šå¹´çš„å¦ä¸€ä¸ªå¥½æ¶ˆæ¯æ˜¯ NVIDIA é©±åŠ¨ç»ˆäºŽè¡¥å…¨äº† Wayland æ”¯æŒï¼Œæ„Ÿè°¢æ‰€æœ‰åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­åŠªåŠ›çš„äººï¼Œæ¯”å¦‚ NVIDIA é‚£ä¸ªä¸€ç›´åœ¨å¤„ç†ç›¸å…³äº‹æƒ…çš„ç”¨èœ—ç‰›åšå¤´åƒçš„è€å“¥ï¼Œäº‹æƒ…æ€»è¦æ˜¯é äººæŽ¨è¿›çš„å˜›ã€‚ä¸è¿‡å›žå®¶ä¹‹åŽèŽ«åå‘çŽ°æˆ‘çš„ Atom åœ¨ XWayland ä¸‹é¢ä¼šç–¯ç‹‚åœ°é—ªå›žï¼Œæ˜Žæ˜Žæˆ‘è‡ªå·±ä½å¤„çš„ç”µè„‘ä¹Ÿæ˜¯ä¸€æ ·çš„é…ç½®å°±æ²¡é—®é¢˜ã€‚ç„¶åŽè¿™æ—¶å€™æˆ‘å‘çŽ° Emacs çš„çº¯ GTK åˆ†æ”¯å·²ç»åˆå¹¶è¿›äº†ä¸»çº¿ï¼Œä¹Ÿå°±æ˜¯è¯´ Emacs çŽ°åœ¨ç»ˆäºŽæ˜¯çº¯ Wayland ç¨‹åºäº†ï¼Œæˆ‘ç«‹åˆ»æžäº†ä¸€ä¸ªæœ€æ–°ç‰ˆæœ¬ï¼Œç„¶åŽæ¡èµ·æ¥ä»¥å‰çš„é…ç½®æ–‡ä»¶ï¼Œåˆä»”ç»†ç ”ç©¶ä»”ç»†é¼“æ£ï¼Œç›®å‰å¤šå°‘æ˜¯å ªç”¨äº†ï¼Œè™½ç„¶è¿˜æœ‰ä¸å°‘åœ°æ–¹ä¸åƒ Atom é‚£ä¹ˆä¹ æƒ¯ï¼Œä¸»è¦è¿˜æ˜¯æˆ‘æ‡’å¾—ä»”ç»†ç ”ç©¶ï¼Œåæ­£å‡‘åˆç”¨ï¼Œæˆ‘æ˜¯çœŸçš„æ€€å¿µ Atom ä¸Šçš„ä¸€äº›åŠŸèƒ½ï¼Œæ¯”å¦‚æ³¨é‡Šåæ³¨é‡Šä»£ç å—ã€ç§»åŠ¨ä»£ç å—ã€æ–¹ä¾¿çš„æŸ¥æ‰¾æ›¿æ¢è¿˜æœ‰çŽ°ä»£åŒ–çš„ç•Œé¢â€¦â€¦Emacs çš„ç•Œé¢å…ƒç´ æ„Ÿè§‰è¿˜æ˜¯åŸºäºŽæ–‡æœ¬çš„ï¼Œç„¶åŽåŒ…æ‹¬ç²—ä½“å­—æ¸²æŸ“æ„Ÿè§‰ä¹Ÿä¸å¤ªå…‰æ»‘ï¼Œæ¯”å¦‚ indent guide æˆ–è€… 80 column ruler è¿™ç§ä¸œè¥¿å°±åº”è¯¥ç›´æŽ¥åœ¨ç•Œé¢ä¸Šåˆ’çº¿å˜›ï¼Œä¸è¦ç”¨å­—ç¬¦åšã€‚ä¸è¿‡æˆ‘åœ¨ç”¨ Atom çš„æ—¶å€™ä¹Ÿæ€€å¿µ Emacs çš„ä¸€äº›åŠŸèƒ½æ¯”å¦‚çº¯é”®ç›˜åˆ†å±å’Œ C-SPC Mark Regionã€‚\nä»Šå¹´çš„æ¸¸æˆæ—¶é—´åŸºæœ¬éƒ½æ‹¿æ¥æ‰“ Dota äº†ï¼Œè™½ç„¶çœ‹ TI çœ‹å¾—å¾ˆéš¾å—ï¼Œä½†æ˜¯å’Œæœ‹å‹ä¸€èµ·çŽ©æ¸¸æˆè¿˜æ˜¯æŒºå¿«ä¹çš„ï¼Œè¿™ä¹Ÿå±žäºŽå¹¸è¿å’Œå€’éœ‰çš„å‘¨æœŸäº†å§ã€‚å¡žå°”è¾¾ä»€ä¹ˆçš„ï¼Œç­‰æˆ‘æƒ³èµ·æ¥æ…¢æ…¢çŽ©â€¦â€¦\nè·¨å¹´çš„æ—¶å€™è¿˜æ˜¯å’ŒåŽ»å¹´ä¸€æ ·æœ‹å‹èšé¤äº†ï¼Œæˆ‘è¿˜åœ¨ B ç«™ä¸Šä¼ äº† vlogï¼Œå’Œè“çŒ«é“é“è¿·ä¸€èµ·åƒå¯¿å–œé”…å¾ˆå¼€å¿ƒã€‚ä»Šå¹´å†™ä»£ç æ²¡å°‘è®©çªç¥žå½“å°é»„é¸­ï¼Œè°¢è°¢çªç¥žã€‚\næ€»ä¹‹å…ˆå†™è¿™äº›ï¼Œå¦‚æžœæˆ‘åˆæƒ³èµ·ä»€ä¹ˆï¼Œæˆ‘åŽé¢å†æ…¢æ…¢åŠ ä¸Šå§ï¼Œæœ€è¿‘å†»ç€äº†å—“å­ç–¼ï¼Œå¸Œæœ›å€’éœ‰çš„å‘¨æœŸèµ¶ç´§è¿‡åŽ»ï¼Œè¿‡æ®µæ—¶é—´è¿˜å¾—æ‰¾æ‰¾æœºä¼šåŽ»ä¿®ç›¸æœºå‘¢â€¦â€¦\n"},{"title":"æŠŠæˆ‘çš„æ—¶é—´æˆ³è¿˜ç»™æˆ‘ï¼","url":"/posts/Please-Bring-back-My-Timestamp/","content":"å½“ç„¶ï¼Œæˆ‘åœ¨æ ‡é¢˜é‡Œè¯´çš„æ—¶é—´æˆ³å¹¶ä¸æ˜¯ç‹­ä¹‰çš„ UNIX æ—¶é—´æˆ³ï¼Œæˆ‘åªæ˜¯æƒ³è¡¨è¾¾ä¸€ä¸‹ç²¾ç¡®çš„æ—¶é—´è®°å½•è€Œå·²ã€‚\nä¸çŸ¥é“ä»Žä»€ä¹ˆæ—¶å€™å¼€å§‹ï¼Œè®¸å¤šç½‘ç«™éƒ½ä¸å†æ˜¾ç¤º 2021-11-09 09:00:00 è¿™æ ·ç²¾ç¡®çš„æ—¶é—´ï¼Œè€Œæ˜¯å¼€å§‹æ˜¾ç¤ºâ€œåˆšåˆšâ€ã€â€œ5 åˆ†é’Ÿå‰â€ã€â€œ3 ä¸ªæœˆå‰â€ã€â€œ1 å¹´å‰â€ï¼Œæˆ‘èƒ½çŒœå‡ºæ¥è¿™åˆæ˜¯å“ªäº›è‡ªä»¥ä¸ºèªæ˜Žçš„äº§å“ç»ç†ä»¥â€œå¯¹ç”¨æˆ·å‹å¥½â€çš„ç†ç”±æƒ³å‡ºæ¥çš„æˆ–è€…æŠ„æ¥çš„ï¼Œä½†ä¸å¹¸çš„æ˜¯å¤§éƒ¨åˆ†è¿™ç§è¡Œä¸ºéƒ½å¾ˆæ„šè ¢ã€‚æ®æˆ‘æ‰€çŸ¥ Twitter æ˜¯è¿™æ ·ï¼ŒTwitter åšä»€ä¹ˆå°±æŠ„ä»€ä¹ˆçš„å¾®åšä¹Ÿæ˜¯è¿™æ ·ï¼Œä»¤äººéš¾ä»¥å¿å—çš„æ˜¯ GitHub ä¹Ÿæ˜¯è¿™æ ·æ˜¾ç¤ºæ—¶é—´ï¼Œä»¥åŠä»Šå¤©å½»åº•æƒ¹æ¼äº†æˆ‘çš„ YouTube åœ¨è§†é¢‘é¡µé¢ä¹Ÿæ˜¯è¿™æ ·æ˜¾ç¤ºã€‚\n\n\nå¦‚æžœä½ è¿˜æ²¡æžæ¸…æ¥šæˆ‘çš„æ„¤æ€’æ¥æºï¼Œæˆ‘å®žé™…ä¸Šæ˜¯æƒ³åšè¿™æ ·çš„äº‹æƒ…ï¼šæˆ‘çŸ¥é“ç´¢å°¼ A7S3 æ˜¯åœ¨ 2020 å¹´ 7 æœˆå‘å¸ƒï¼Œæˆ‘æƒ³å¿«é€Ÿæ‰¾åˆ°ç›¸å…³çš„è§†é¢‘ï¼Œè¯·é—®æˆ‘æ€Žä¹ˆåœ¨è¿™ä¸€å¤§ç‰‡çš„â€œ1 å¹´å‰â€é‡ŒçŒœåˆ°åŽ»å¹´ 7 æœˆçš„å¤§è‡´ä½ç½®ï¼Ÿ\n\nâ€œ1 å¹´å‰â€è¿™ä¸ªæè¿°å¯ä»¥åŒ…å«ä»Žâ€œ1 å¹´é›¶ 1 å¤©â€åˆ°â€œ1 å¹´é›¶ 364 å¤©â€è¿™æ ·ä¸ç²¾ç¡®çš„æ—¶é—´èŒƒå›´ï¼Œæˆ‘è§‰å¾—å’Œç›´æŽ¥ä¸æ˜¾ç¤ºæ—¶é—´èŒƒå›´ä¹Ÿæ²¡ä»€ä¹ˆåŒºåˆ«äº†ã€‚æˆ–è€…åƒ GitHub é‚£æ ·é¼ æ ‡æ‚¬æµ®åœ¨ä¸Šæ–¹æ˜¾ç¤ºæ—¶é—´æˆ³çš„æ–¹æ¡ˆä¹Ÿä¸å¥½ï¼Œæ¯”å¦‚è¿™ä¸ªé¡µé¢è¿™ä¹ˆå¤šè§†é¢‘ï¼Œæˆ‘çš„ç›®çš„æ˜¯ä¸€çœ¼å¿«é€Ÿæ‰¾åˆ°æˆ‘éœ€è¦çš„æ—¶é—´æ®µï¼Œä¸€ä¸ªä¸€ä¸ªæ‚¬æµ®å¤šæ…¢ï¼Ÿæ‰€è°“çš„ç”¨æˆ·å‹å¥½ï¼Ÿä¸è§å¾—ï¼Œç”¨æˆ·è¦è¢«æ°”æ­»äº†ã€‚äººç±»çš„è„‘å­è¿˜æ²¡å¼±åˆ°è¿žç®—ä¸ªå¤§è‡´çš„æ—¶é—´å·®éƒ½ç®—ä¸å‡ºæ¥ã€‚ä»Žå·¥ç¨‹ä¸Šæ¥è¯´ï¼Œè¿™è¿˜å¼•å…¥äº†é¢å¤–çš„å¤æ‚åº¦ï¼Œæ¯”å¦‚æœ‰ä¸€ä¸ª JS è„šæœ¬æ˜¯ä¸“é—¨ç”¨æ¥æ›´æ–°è¿™äº›æ—¶é—´çš„ï¼Œä½ éœ€è¦å¼•å…¥é¢å¤–çš„ä»£ç ï¼Œæ‰èƒ½ä¿è¯ä»Žâ€œåˆšåˆšâ€å˜æˆâ€œ7 ç§’å‰â€ã€â€œ10 ç§’å‰â€ã€â€œä¸åˆ°ä¸€åˆ†é’Ÿâ€ã€â€œ5 åˆ†é’Ÿå‰â€ï¼ˆè¯´çš„å°±æ˜¯ä½  GitHubï¼‰ï¼Œå“ˆå“ˆï¼Œè¿™ç®€ç›´å¤ªå¥½ç¬‘äº†ã€‚æ›´åˆ«æå¼±æ™ºçš„å¾®åš API ç«Ÿç„¶ç›´æŽ¥åœ¨ JSON é‡Œé¢è¿”å›žâ€œX åˆ†é’Ÿå‰â€ï¼Œä¸è¿‡åæ­£è¿™ç§äº’ä¸è”ç½‘è¯´ä¸å®šä»€ä¹ˆæ—¶å€™å°±æŠŠ API ç»™ç äº†ã€‚\næˆ‘è§‰å¾— Twitter å’Œå¾®åšè¿™ç§æœ¬èº«å°±æ˜¯çŸ­å¹³å¿«è®²ç©¶æ—¶æ•ˆæ€§çš„ç½‘ç«™ä½¿ç”¨å¤§è‡´çš„æ—¶é—´å·®è€Œä¸æ˜¯æ—¶é—´æˆ³è¿˜ç®—å¯ä»¥ç†è§£ï¼Œè‡³äºŽ YouTubeã€ GitHub è¿™ç§ç»å¸¸éœ€è¦æŸ¥çœ‹ç²¾ç¡®æ—¶é—´çš„æ˜¾ç¤ºå¤§è‡´çš„æ—¶é—´å·®çº¯ç²¹æ˜¯ç»™ç”¨æˆ·å¡«å µï¼Œè¿™ä¸€ç‚¹ B ç«™ç»å¸¸è„‘æ®‹çš„å‰ç«¯åè€Œåšå¾—ä¸é”™ï¼Œåœ¨è§†é¢‘é¡µé¢æ˜¾ç¤ºçš„æ˜¯ç²¾ç¡®çš„æ—¥æœŸã€‚\n"},{"title":"é€šè¿‡ USB HID over AOAv2 åœ¨ scrcpy é‡Œæ¨¡æ‹ŸçœŸå®žé”®ç›˜","url":"/posts/Simulate-Physical-Keyboard-in-Scrcpy-via-USB-HID-over-AOAv2/","content":"è¿™ç¯‡æ–‡ç« åŒæ—¶æœ‰ ä¸­æ–‡ç‰ˆæœ¬ å’Œ è‹±æ–‡ç‰ˆæœ¬ã€‚\nThis post is both available in Chinese version and English version.\n\n\nä¸­æ–‡ç‰ˆæœ¬\nä¸‰å¹´å‰ï¼ˆ2018 å¹´ï¼‰æˆ‘åœ¨ scrcpy çš„ GitHub ä»“åº“é‡Œæäº† è¿™ä¸ª issueï¼Œå› ä¸ºæˆ‘å½“æ—¶å‘çŽ°è¿™ä¸ªé¡¹ç›®èƒ½æŠŠæ‰‹æœºæŠ•å±åˆ°ç”µè„‘ä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘å°±å¯ä»¥åœ¨ Linux ä¸‹é¢é€šè¿‡ Android æ‰‹æœºèŠ QQ äº†ï¼ˆæˆ‘å½“æ—¶å¤§æ¦‚ä¹Ÿè®¸è¿˜æœ‰é«˜å¼ºåº¦èŠ QQ çš„éœ€æ±‚ï¼‰ï¼Œä¸è¿‡è¯•äº†ä¹‹åŽå‘çŽ°å¾ˆéš¾ç”¨ï¼Œå› ä¸ºå®ƒå’Œç›´æŽ¥åœ¨æ‰‹æœºä¸Šæ’é”®ç›˜ä¸ä¸€æ ·ï¼Œæ˜¾ç¤ºçš„è¿˜æ˜¯è½¯é”®ç›˜ï¼Œè™½ç„¶èƒ½é€šè¿‡ç”µè„‘é”®ç›˜è§¦å‘è¾“å…¥æ³•ï¼Œä½†æ˜¯å´ä¸èƒ½ç”¨æ•°å­—é”®é€‰è¯ã€‚æˆ‘å½“æ—¶ä¹Ÿä¸å¤ªæ‡‚ï¼ŒäºŽæ˜¯å°±å‘ issue é—®å¼€å‘è€…ï¼Œ@rom1v å›žå¤è¯´ Android æœ‰ä¸ªå« HID over AOA çš„åè®®å¯ä»¥å®žçŽ°ï¼Œä½†æ˜¯å¯¹æœ‰äº›è®¾å¤‡æ¥è¯´æœ‰ bugï¼ŒåŒæ—¶ä¹Ÿéœ€è¦æœ‰äººèŠ±æ—¶é—´è¯» USB è§„èŒƒç„¶åŽåšæŠŠ SDL event è½¬æ¢æˆ HID event çš„å·¥ä½œã€‚æˆ‘åˆæƒ³é‚£èƒ½ä¸èƒ½ç›´æŽ¥ç”¨ç”µè„‘çš„è¾“å…¥æ³•ç”Ÿæˆå­—ç¬¦ç„¶åŽä¼ ç»™æ‰‹æœºï¼Œ@rom1v è¡¨ç¤ºçŽ°åœ¨å°±æ˜¯è¿™ä¹ˆåšçš„ï¼Œä½†æ˜¯ Android ç›¸å…³çš„ API é™åˆ¶åªèƒ½å‘é€ ASCII çš„å­—ç¬¦ï¼Œæ‰€ä»¥ä¹Ÿè¡Œä¸é€šã€‚\næˆ‘å½“æ—¶ç¨å¾®äº†è§£äº†ä¸€ä¸‹è¿™äº›ç›¸å…³çš„ä¸œè¥¿ï¼Œä¸è¿‡æ˜¾ç„¶è¶…å‡ºäº†æˆ‘çš„èƒ½åŠ›èŒƒå›´ï¼ŒäºŽæ˜¯è¿™ä»¶äº‹æˆ‘å°±æç½®äº†ã€‚ä¸€ç›´åˆ°æœ€è¿‘æˆ–è€…å‡†ç¡®çš„è¯´å°±æ˜¯ä¸Šå‘¨å’Œ Hackghost è·Ÿæˆ‘æèµ·è¯´è‹¹æžœä¼¼ä¹Žæ‰“ç®—åšæ‰‹æœºæŠ•å±åˆ°ç”µè„‘çš„åŠŸèƒ½ï¼Œç„¶åŽåˆè¯´åŽä¸ºå¥½åƒæœ‰ä¸ªçŽ°æˆçš„ã€‚ä¸è¿‡æˆ‘å¯¹è¿™äº›ä¸€å‘æ˜¯æ¼ ä¸å…³å¿ƒçš„ï¼Œè¿™äº›åŽ‚å•†å°±æ˜¯åˆæ‡’åˆåçš„å…¸åž‹ï¼Œä¸ä¼šåšä¸€ä¸ª Linux ç‰ˆçš„å®¢æˆ·ç«¯çš„ã€‚å¦‚æžœä»–ä»¬è‡ªå·±åšä¸äº†æˆ–è€…ä¸æ‰“ç®—åšï¼Œé‚£å°±åº”è¯¥å…¬å¼€ä¸€ç‚¹ï¼Œè®©èƒ½åšçš„äººæ¥åšè€Œä¸æ˜¯è—ç€æŽ–ç€ã€‚ç„¶åŽå°±æ˜¯æˆ‘ä»¬è®¨è®ºäº†ä¸€æ°”å…³äºŽæˆæœ¬åˆ°åº•è°ä»˜äº†è°äºäº†çš„é—®é¢˜ï¼Œæˆ‘åšæŒè®¤ä¸ºåŽ‚å•†èµšå¾—å·²ç»å¤Ÿå¤šäº†ï¼Œæˆæœ¬å’Œåˆ©æ¶¦ Linux ç”¨æˆ·åœ¨ä¹°æ‰‹æœºçš„æ—¶å€™ä¹Ÿæ˜¯ç…§æ ·ä»˜çš„ï¼Œåªæ˜¯è¿™äº›äººè´ªå¾—æ— åŽŒèƒ½å°‘ä»˜å‡ºæˆæœ¬å°±å°‘ä»˜å‡ºä¸€ç‚¹è€Œå·²ã€‚æœ€åŽæˆ‘è¯´å·²ç»æœ‰èƒ½åšçš„äººåšäº† scrcpy è¿™ä¸ªé¡¹ç›®å‡ºæ¥ï¼ŒæŠ•å±å®Œå…¨æ²¡é—®é¢˜ï¼Œæ”¯æŒå„ç§å¹³å°ï¼Œç¾Žä¸­ä¸è¶³å°±æ˜¯è¾“å…¥ä½“éªŒä¸å¤ªå¥½ã€‚è¿™æ—¶å€™æˆ‘åˆæƒ³å·²ç»è¿‡åŽ»å¾ˆä¹…äº†ï¼Œä¸å¦‚æˆ‘å†è¯•è¯•åŽ»çœ‹çœ‹èƒ½ä¸èƒ½è§£å†³è¾“å…¥ä½“éªŒçš„é—®é¢˜ï¼ŒäºŽæ˜¯å°±å›žåŽ»ç¿»äº†è¿™ä¸ª issueã€‚\nè¿æ°”ä¸é”™ï¼Œç¿»è¿‡åŽ»çœ‹åˆ°åœ¨ 2019 å¹´å¹´åˆçš„æ—¶å€™ @amosbird å·²ç»å†™äº†ä¸€ä»½ä»£ç ï¼Œä»–è‡ªç§°æ˜¯èƒ½ç”¨çš„ï¼Œç„¶è€Œä¸çŸ¥é“ä¸ºä»€ä¹ˆå½“åˆæ²¡æœ‰åˆå¹¶è¿›ä¸»çº¿ï¼ŒçŽ°åœ¨å¤šåŠä¹Ÿæ˜¯è·‘ä¸èµ·æ¥ã€‚æˆ‘ä¸€å¼€å§‹æƒ³æˆ‘æŠŠä»–è¿™ä¸ªåœ¨å½“å‰çš„ HEAD ä¸Šé‡æž„ä¸€ä¸‹å°±å¥½äº†ï¼ŒäºŽæ˜¯å¼€å§‹è¯»ä»–çš„ä»£ç ã€‚ä¸€å¼€å§‹è¿˜æ˜¯æ²¡ä»€ä¹ˆå¤´ç»ªï¼Œçœ‹èµ·æ¥ä»–ä¼¼ä¹Žå†™äº†ä¸æ­¢ä¸€ä¸ªåŠŸèƒ½ï¼Œä½†æ˜¯éƒ½åœ¨ä¸€ä¸ª commit é‡Œé¢ï¼Œåˆæ²¡ä»€ä¹ˆå…³äºŽæ€è·¯çš„æ³¨é‡Šã€‚éšåŽæˆ‘åŠ ä¸Šäº†ä»–çš„ Telegramï¼Œä¸è¿‡ä»–æœ¬äººè¡¨ç¤ºæ—¶é—´æœ‰ç‚¹ä¹…äº†ä»–ä¹Ÿä¸è®°å¾—è‡ªå·±å†™çš„ä»£ç éƒ½æ˜¯ä»€ä¹ˆæ„æ€ï¼ˆç¬‘ï¼‰ã€‚äºŽæ˜¯æˆ‘åªèƒ½ç¡¬ç€å¤´çš®å•ƒäº†ï¼Œå¥½åœ¨æˆ‘çŽ°åœ¨çš„ç»éªŒæ¯”ä»¥å‰æ¶¨äº†å¾ˆå¤šï¼Œç„¶åŽå†åŒæ—¶å•ƒ USB å’Œ Android çš„åè®®ï¼Œé…åˆä¸€äº›æœåˆ°çš„å…¶ä»–èµ„æ–™ï¼Œæœ€ç»ˆäº†è§£äº†å¤§æ¦‚æ˜¯æ€Žä¹ˆå›žäº‹ã€‚æœ€å¼€å§‹æœ¬æ¥ä»¥ä¸ºç®€å•åœ°åˆå¹¶ä¸€ä¸‹ä»£ç å°±å¯ä»¥äº†ï¼Œæ²¡æƒ³åˆ°è¿˜å‘çŽ°äº†ä»–ä»£ç é‡Œçš„é”™è¯¯ï¼ŒåŸºæœ¬æ˜¯å˜æˆé‡å†™äº†ã€‚èŠ±äº†å¤´ä¸¤å¤©äº‹ä»¶è®©ç¨‹åºè·‘èµ·æ¥ï¼Œç„¶åŽç”¨äº†å‡ å¤©è°ƒæ•´æˆå’ŒçŽ°æœ‰ä»£ç ä¸€è‡´çš„é£Žæ ¼ä»¥ä¾¿åˆå¹¶è¿›åŽ»ã€‚ æ€»ä¹‹å¾ˆæ˜¯æœ‰ä¸€ç‚¹æ–°æ‰‹æ‘å‡ºæ¥é‡åˆ° BOSS æš‚æ—¶æ’¤é€€ï¼Œå‡çº§æ‰“æ€ªä¸‰å¹´ä¹‹åŽæ€å›žæ¥çš„æ„Ÿè§‰ã€‚\nåšå¥½ä¹‹åŽçš„æ•ˆæžœåŸºæœ¬å°±æ˜¯ä¸‹é¢ä¸¤å¼ æˆªå›¾ï¼ŒGboard å¼€å§‹å·¥ä½œåœ¨å¤–æŽ¥ç¡¬ä»¶é”®ç›˜çš„æ¨¡å¼äº†ï¼š\n\n\næ—¢ç„¶æ˜¯ USB HID over AOAv2ï¼Œé‚£å¾ˆæ˜¾ç„¶éœ€è¦çŸ¥é“ USB HID æ˜¯æ€Žä¹ˆå›žäº‹ï¼ŒUSB å®˜æ–¹æœ‰ä¸€ä¸ª å¾ˆé•¿çš„ PDF è§„å®šæ€Žä¹ˆæˆä¸ºä¸€ä¸ªåˆæ³•çš„ HID è®¾å¤‡ï¼Œè¯´å®žè¯ï¼Œçœ‹ä¸å¤ªä¸‹åŽ»ã€‚å¦‚æžœä½ æƒ³è¦æŸ¥ä¸€äº›æœ‰å¸®åŠ©çš„ä¾‹å­ï¼Œç›´æŽ¥æŸ¥ AOAv2 å¤šåŠæ˜¯æ²¡æˆçš„ï¼Œåªæœ‰ Android è‡ªå·±ä¸€ä¸ªæƒœå­—å¦‚é‡‘çš„æ–‡æ¡£é¡µï¼Œæˆ‘çš„ç»éªŒå°±æ˜¯ä½ æ‰¾é‚£äº›ä¸»é¢˜æ˜¯ç”¨å•ç‰‡æœºæ¨¡æ‹Ÿé”®ç›˜é¼ æ ‡çš„æ–‡ç« ï¼Œä»–ä»¬çš„ç›®æ ‡å’Œè¿™ä¸ªåŸºæœ¬æ˜¯ä¸€è‡´çš„ã€‚ä¸è¿‡æˆ‘è¯´å¥½ä¸ç¢°ç¡¬ä»¶çš„è¯çœ‹æ¥æ˜¯ç®—ä½œåºŸäº†ã€‚\nåŸºæœ¬ä¸Šæˆä¸ºä¸€ä¸ª USB HID è®¾å¤‡éœ€è¦ä½ å‘é€ä¸€å¤§å †çš„æè¿°ç¬¦åˆ°ä¸»æœºï¼Œä¸è¿‡æˆ‘ä»¬è¿™é‡Œæœ‰ç‚¹ä¸ä¸€æ ·ï¼Œå› ä¸º Android è®¾å¤‡è¿žæŽ¥ç”µè„‘çš„æ—¶å€™ï¼ŒAndroid æ˜¯ USB ä»Žè®¾å¤‡ï¼Œç”µè„‘æ˜¯ä¸»è®¾å¤‡ï¼Œè€Œ AOAv2 æ˜¯ä»Žä¸»æœºåå‘å‘æ•°æ®åˆ°ä»Žè®¾å¤‡ï¼Œå®ƒä¸è¦æ±‚æˆ‘ä»¬å‘é€ä¸€å¤§å † USB çš„æè¿°ç¬¦ï¼Œåªè¦å‘ Android æ³¨å†Œä¸€ä¸ªè®¾å¤‡ï¼Œå‘é€ HID çš„æŠ¥å‘Šæè¿°ç¬¦ï¼Œå†å‘é€ HID eventï¼Œå†æ³¨é”€å°±å¥½äº†ã€‚è¿™éƒ¨åˆ†å¯ä»¥é€šè¿‡ libusb è¿™ä¸ªåº“æ¥å®žçŽ° USB çš„æ•°æ®åŒ…ä¼ è¾“ï¼Œç„¶åŽæŠŠ Android çš„å‡ ä¸ªå‘½ä»¤å°è£…æˆå‡½æ•°å°±å¯ä»¥äº†ï¼ŒåŸºæœ¬æ˜¯åœ¨ https://github.com/AlynxZhou/scrcpy/blob/dev/app/src/aoa_hid.c#L155-L246 è¿™éƒ¨åˆ†ã€‚\nåŸºç¡€çš„ API æœ‰äº†ä¹‹åŽåˆ™æ˜¯å…·ä½“çš„å‘ä»€ä¹ˆæ•°æ®åŒ…äº†ï¼ŒHID çš„æ•°æ®å®žé™…ä¸Šå°±æ˜¯ç”± byte ç»„æˆçš„ bufferï¼Œé¦–å…ˆå°±æ˜¯æŠ¥å‘Šæè¿°ç¬¦ï¼Œè¿™ä¸ªæè¿°ç¬¦æ˜¯è®©ä¸»è®¾å¤‡çŸ¥é“æ¯ä¸ªå‘è¿‡æ¥çš„ event é‡Œé¢çš„æ¯ä¸ª byte éƒ½æ˜¯ä»€ä¹ˆå«ä¹‰ï¼Œé”®ç›˜çš„æè¿°ç¬¦å…¶å®žç›¸å¯¹æ˜¯æ¯”è¾ƒå›ºå®šçš„ï¼Œåœ¨ Device Class Definition for Human Interface Devices è¿™ä¸ª PDF é‡Œé¢å…¶å®žç»™äº†ä¸€ä¸ªæœ€ç®€å•çš„ USB é”®ç›˜çš„ä¾‹å­ï¼Œè¿™ä¸ªä¹Ÿæ˜¯ä¿è¯åœ¨ BIOS é‡Œé¢èƒ½æ­£å¸¸ä½¿ç”¨ USB é”®ç›˜çš„æœ€å°é›†åˆï¼Œæ˜¯åœ¨ Appendix B: Boot Interface Descriptors ä¸‹é¢çš„ B.1 Protocol 1 (Keyboard) å’Œ Appendix E: Example USB Descriptors for HID Class Devices ä¸‹é¢çš„ E.6 Report Descriptor (Keyboard)ã€‚ä¸è¿‡æœ‰æ—¶å€™å…‰çŸ¥é“è¿™äº›è¿˜ä¸å¤Ÿï¼Œæ¯”å¦‚æŠ¥å‘Šæè¿°ç¬¦é‡Œé¢å¤§éƒ¨åˆ†éƒ½æ˜¯ä¸¤ä¸ª byte ä¸€å¥è¯ï¼Œç¬¬ä¸€ä¸ª byte è¡¨ç¤ºçš„æ˜¯ç±»åˆ«è€Œç¬¬äºŒä¸ªè¡¨ç¤ºçš„æ˜¯å…·ä½“çš„å€¼ï¼ŒåŽé¢çš„å¤§æ¦‚å¾ˆå¥½ç†è§£ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ª byte æ˜¯æ€Žä¹ˆç®—å‡ºæ¥çš„å¯èƒ½éœ€è¦äº†è§£ï¼Œè¿™éœ€è¦çœ‹é‚£ä¸ª PDF é‡Œ 8. Report Protocol è¿™ä¸€èŠ‚äº†ï¼Œæˆ–è€…ä¸­æ–‡çš„è¯å¯ä»¥çœ‹ è¿™ç¯‡çŸ¥ä¹Žæ–‡ç« ï¼Œç„¶åŽä½ å°±ä¼šæ˜Žç™½ä¸ºä»€ä¹ˆæœ‰æ—¶å€™çœ‹èµ·æ¥æ•°å­—ä¸ä¸€æ ·ç»“æžœå«ä¹‰å´ä¸€æ ·äº†ï¼Œå› ä¸ºå…¶å®žç¬¬ä¸€ä¸ª byte çš„æ¯ä¸ª bit éƒ½æ˜¯æœ‰åˆ†åˆ«çš„å«ä¹‰çš„ã€‚ç„¶åŽå°±æ˜¯å¯¹äºŽ Usage Tag è¿™ä¸ªæœ‰å¾ˆå¤šï¼Œè¢«æ”¾åœ¨ å¦ä¸€ä¸ªå•ç‹¬çš„ PDF é‡Œé¢äº†ã€‚\næˆ‘è¿˜æ˜¯æŠŠ https://github.com/AlynxZhou/scrcpy/blob/dev/app/src/hid_keyboard.c#L28-L144 è¿™æ®µä»£ç è´´è¿‡æ¥å¥½äº†ï¼Œè¯¦ç»†çš„è¯´æ˜Žæˆ‘åŠ åœ¨äº†æ³¨é‡Šé‡Œé¢ï¼š\nunsigned char kb_report_desc_buffer[]  = {\n    // Usage Page (Generic Desktop)\n    // é”®ç›˜è¿™ä¸ªå­—æ®µåº”è¯¥æ˜¯ Generic Desktopï¼Œä¸ºå•¥æ˜¯è¿™ä¸ªæˆ‘ä¹Ÿä¸çŸ¥é“ã€‚\n    0x05, 0x01,\n    // Usage (Keyboard)\n    // ä¹Ÿä¸ç”¨æˆ‘è§£é‡Šäº†å§ï¼Œè‡ªå·±æŸ¥è¡¨åŽ»ã€‚\n    0x09, 0x06,\n\n    // Collection (Application)\n    // ç„¶åŽåŸºæœ¬ä¸Š USB HID æè¿°ç¬¦è¦æœ‰ä¸åŒçš„ Collectionï¼Œ\n    // ä»£è¡¨ä½ å‘åˆ°ä¸»æœºçš„ä¸€ç»„æ•°æ®ï¼Œ\n    // ä¸€ä¸ªè®¾å¤‡æœ€å°‘æœ‰ä¸€ä¸ª Collection å§ï¼Œä¸ç„¶ä¹Ÿæ²¡æ„ä¹‰äº†ã€‚\n    // ä¸ºå•¥æ˜¯ Application å¥½åƒæ˜¯å› ä¸º Keyboard çš„ Usage Page tag åœ¨è¿™ä¸ªé‡Œé¢ã€‚\n    0xA1, 0x01,\n    // Report ID (1)\n    // ä½ ä¼šå‘çŽ°æœ€åŸºç¡€çš„é‚£ä¸ªé”®ç›˜ç¤ºä¾‹é‡Œé¢æ²¡æœ‰è¿™ä¸ªå­—æ®µï¼Œ\n    // å®žé™…ä¸Šå½“ä½ åªå‘ä¸€ç§æ•°æ®çš„æ—¶å€™è¿™ä¸ªå­—æ®µå¯ä»¥çœç•¥ã€‚\n    // ä½†æ˜¯çŽ°åœ¨æ˜¯ä¸ªæœºæ¢°é”®ç›˜éƒ½å¸¦åª’ä½“æŽ§åˆ¶æŒ‰é”®å§ï¼Œé‚£ä¸ªè¦ç®—å¦ä¸€ä¸ª Collection çš„ï¼Œ\n    // æ‰€ä»¥å°±é€šè¿‡ Report ID åŒºåˆ†ï¼ŒåŒæ—¶ä½ å‘æ•°æ®çš„æ—¶å€™ç¬¬ä¸€ä¸ª byte å°±å¾—è¯´æ˜Žè‡ªå·±å‘çš„æ˜¯å“ªä¸ª\n    // Report IDã€‚æ‰€ä»¥ä¸è¦é—®ä¸ºä»€ä¹ˆç½‘ä¸Šè¯´ USB HID é”®ç›˜ä¸€ä¸ªäº‹ä»¶ 8 ä¸ª byte æˆ‘ä»¬å´å‘äº† 9 ä¸ªã€‚\n    0x85, 0x01,\n\n    // Usage Page (Keyboard)\n    // è¿™é‡Œæ³¨æ„ Usage Page å’Œ Usage ä¸ä¸€æ ·å’¯ã€‚å¥½åƒè¿™ä¸ªæ–‡æ¡£é‡Œä¹Ÿå« Key Codes æ¥ç€ã€‚\n    0x05, 0x07,\n    // Usage Minimum (224)\n    // ä¸€èˆ¬æ¥è¯´ä¸€ç»„æŠ¥å‘Šæ•°æ®åŒ…å«å¾ˆå¤šç”¨é€”ï¼Œä½ ä¸å¯èƒ½æŠŠæ‰€æœ‰çš„ç”¨é€”éƒ½åˆ—å‡ºæ¥ï¼Œç»™ä¸ªç”¨é€”èŒƒå›´å°±å¯ä»¥äº†ã€‚\n    // è¿™é‡Œè¡¨ç¤ºæœ€å°çš„ç”¨é€” tag æ˜¯ 0xE0ï¼Œåº”è¯¥æ˜¯ Left Control çš„æ„æ€ã€‚\n    0x19, 0xE0,\n    // Usage Maximum (231)\n    // æœ€å¤§çš„ç”¨é€” tagï¼Œæ˜¯ Right GUI é”®ã€‚è¿™ä¸ª byte çš„å«ä¹‰å°±æ˜¯é”®ç›˜ä¸Šçš„å…«ä¸ªä¿®é¥°é”®ã€‚\n    // Left Controlï¼ŒRight Controlï¼ŒLeft Altï¼ŒRight Altï¼ŒLeft Shiftï¼ŒRight Shiftï¼Œ\n    // Left GUIï¼ŒRight GUIã€‚\n    // ä¸è¿‡ä¸€å®šè¦è®°ä½ 16 è¿›åˆ¶æ•°è½¬æˆ 2 è¿›åˆ¶æ—¶å€™æœ€å³è¾¹æ˜¯ç¬¬ 0 ä½ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸Šè¾¹çš„é¡ºåºè¦å€’è¿‡æ¥ã€‚\n    0x29, 0xE7,\n    // Logical Minimum (0)\n    // æ¯ä¸ª bit çš„é€»è¾‘æœ€å°å€¼å½“ç„¶æ˜¯ 0 å•¦ã€‚\n    0x15, 0x00,\n    // Logical Maximum (1)\n    // æŒ‰ä¸‹åŽ»å°±å˜æˆæœ€å¤§å€¼ 1ã€‚\n    0x25, 0x01,\n    // Report Size (1)\n    // æ¯ä¸ªæ•°æ®åªå  1 bitã€‚\n    0x75, 0x01,\n    // Report Count (8)\n    // ä¸€å…± 8 ä¸ªæ•°æ®ã€‚\n    0x95, 0x08,\n    // Input (Data, Variable, Absolute): Modifier byte\n    // å…³äºŽ Input tag æ˜¯ä»€ä¹ˆæ„æ€å¤ªé•¿äº†ï¼Œè‡ªå·±æŸ¥åŽ»å§ï¼Œæ€»ä¹‹å’Œä¸Šé¢é‚£äº›è¦ç¬¦åˆã€‚\n    0x81, 0x02,\n\n    // ä¸‹é¢è¿™æ®µæ˜¯åŽ‚å•†ä¿ç•™ä½ï¼Œä¸€èˆ¬åªè¦å†™ä¸€ä¸ªä¸º 0 çš„ byte å°±å¯ä»¥äº†ã€‚\n    // Report Size (8)\n    0x75, 0x08,\n    // Report Count (1)\n    0x95, 0x01,\n    // Input (Constant): Reserved byte\n    0x81, 0x01,\n\n    // è¿™éƒ¨åˆ†è¡¨ç¤ºä¸»è®¾å¤‡è¿”å›žçš„å…³äºŽ LED ç¯äº®çš„ä¿¡å·ï¼Œ\n    // HID é”®ç›˜è‡ªå·±æ˜¯ä¸ä¿å­˜ä»€ä¹ˆå¤§å†™é”å®šçš„çŠ¶æ€çš„ã€‚\n    // ä¸è¿‡æˆ‘ä»¬æ¯•ç«Ÿä¸æ˜¯çœŸçš„é”®ç›˜ï¼Œè¿™éƒ¨åˆ†æŠ„ä¸€ä¸‹å°±å®Œäº‹äº†ï¼Œç¨‹åºç›´æŽ¥å¿½ç•¥ã€‚\n    // æ€»ä¹‹é”®ç›˜ä¸Šæœ‰ 5 ä¸ªç¯ï¼Œå’Œä¸Šé¢çš„ä¿®é¥°é”®å·®ä¸å¤šï¼Œä¸€ä¸ª bit ä»£è¡¨ä¸€ä¸ªç¯ã€‚\n    // Usage Page (LEDs)\n    0x05, 0x08,\n    // Usage Minimum (1)\n    0x19, 0x01,\n    // Usage Maximum (5)\n    0x29, 0x05,\n    // Report Size (1)\n    0x75, 0x01,\n    // Report Count (5)\n    0x95, 0x05,\n    // Output (Data, Variable, Absolute): LED report\n    0x91, 0x02,\n\n    // 5 ä¸ª bit å¯¹ä¸é½ï¼Œè¿™ 3 ä¸ª bit æ˜¯ä¸ºäº†å‡‘æ•´çš„ã€‚\n    // Report Size (3)\n    0x75, 0x03,\n    // Report Count (1)\n    0x95, 0x01,\n    // Output (Constant): LED report padding\n    0x91, 0x01,\n\n    // ä¸‹é¢å°±æœ‰æ„æ€äº†ï¼Œé”®ç›˜ä¸Šæœ‰ 101 ä¸ªæ™®é€šé”®ï¼Œä½ è‚¯å®šæ˜¯ä¸ä¼šåŒæ—¶æŒ‰ä¸‹ 101 ä¸ªé”®çš„ï¼Œ\n    // æ‰€ä»¥ä¹Ÿä¸éœ€è¦åƒä¿®é¥°é”®é‚£æ ·æ¯ä¸ª bit ä»£è¡¨ä¸€ä¸ªé”®\n    //ï¼ˆå½“ç„¶ç†è®ºä¸Šä½ å†™ä¸ªæè¿°ç¬¦è¯´æˆ‘è¿™ä¸ªé”®ç›˜å°±æ˜¯è¿™æ ·çš„ä¹Ÿæœªå°ä¸å¯å•¦ï¼‰ï¼Œ\n    // æ‰€ä»¥å®žé™…ä¸Šè¿™é‡Œè¿”å›žçš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ª byte ä»£è¡¨ä¸€ä¸ªè¢«æŒ‰ä¸‹åŽ»çš„é”®çš„é”®ç ã€‚\n    // Usage Page (Key Codes)\n    0x05, 0x07,\n    // Usage Minimum (0)\n    // ç”¨é€”æœ€å°å€¼ä»Žä¸ä»£è¡¨ä»»ä½•é”®çš„ç©ºå€¼ 0 å¼€å§‹ã€‚\n    0x19, 0x00,\n    // Usage Maximum (101)\n    // è¿™é‡Œå°±æ˜¯ 101 å•¦ï¼Œæ ‡å‡†é”®ç›˜ä¸Šçš„æŒ‰é”®æ•°é‡ï¼Œå¦‚æžœè¦æ”¯æŒéžæ ‡å‡†é”®ç›˜è‡ªå·±æŸ¥è¡¨åŽ»ã€‚\n    0x29, HID_KEYBOARD_KEYS - 1,\n    // Logical Minimum (0)\n    // å› ä¸ºæ¯ä¸ª byte æ”¾çš„éƒ½æ˜¯é”®ç ï¼Œé”®ç æœ€å°å€¼æ˜¯ 0ã€‚\n    0x15, 0x00,\n    // Logical Maximum(101)\n    // æœ€å¤§å€¼å°±æ˜¯ç¬¬ 101 ä¸ªé”®ã€‚\n    0x25, HID_KEYBOARD_KEYS - 1,\n    // Report Size (8)\n    // æ¯ä¸ªå€¼éƒ½æ˜¯ 1 byteã€‚\n    0x75, 0x08,\n    // Report Count (6)\n    // æœ€åŸºç¡€çš„ USB é”®ç›˜ä¸€æ¬¡æœ€å¤šèƒ½è¿”å›ž 6 ä¸ªè¢«åŒæ—¶æŒ‰ä¸‹çš„æŒ‰é”®ï¼Œ\n    // ä½ çš„ USB é”®ç›˜å®žé™…ä¸Šå¾ˆå¯èƒ½ä¼šå‘Šè¯‰ç”µè„‘å®ƒèƒ½æŠ¥å‘Šæ›´å¤šï¼Œ\n    // ä¸è¿‡æˆ‘ä»¬æ¯•ç«Ÿä¸æ˜¯çœŸçš„é”®ç›˜ï¼Œ6 ä¸ªé”®åº”è¯¥èƒ½æ»¡è¶³å¤§éƒ¨åˆ†æƒ…å†µäº†ã€‚\n    0x95, HID_KEYBOARD_MAX_KEYS,\n    // Input (Data, Array): Keys\n    // è¿™é‡Œä¹ŸæŸ¥è¡¨åŽ»å§ï¼Œæ€»ä¹‹å˜æˆäº† Array è€Œä¸æ˜¯ Variableã€‚\n    // ä¸€ä¸ª Collection åº”è¯¥æ˜¯åªèƒ½æœ‰ä¸€ä¸ª Arrayï¼Œå¿…é¡»åœ¨æœ«å°¾æ¥ç€ã€‚\n    0x81, 0x00,\n\n    // End Collection\n    // è¿™æ ·æˆ‘ä»¬ä»£è¡¨æ­£å¸¸é”®ç›˜çš„ Collection å°±ç»“æŸäº†ã€‚\n    0xC0,\n\n    // Usage Page (Consumer)\n    // ä¸‹é¢åˆ™æ˜¯ä»£è¡¨åª’ä½“æŽ§åˆ¶çš„æŒ‰é”®ï¼Œä»–ä»¬å±žäºŽå¦ä¸€ä¸ªç”¨é€”é¡µäº†ã€‚\n    0x05, 0x0C,\n    // Usage (Consumer Control)\n    // è¿™äº›é”®åœ¨å¦ä¸€ä¸ªç”¨é€”ä¸‹é¢ã€‚\n    0x09, 0x01,\n\n    // Collection (Application)\n    // ä¸€ä¸ªæ–°çš„ Collectionï¼Œæ•°æ®å’Œä¹‹å‰ä¸ä¸€æ ·äº†ã€‚\n    0xA1, 0x01,\n    // Report ID (2)\n    // ä¸€ä¸ªæ–°çš„ Report IDï¼Œ\n    // æ‰€ä»¥è¿™ç§ event æ˜¯ 1 byte Report ID å’Œ 1 byte é”®ç ä¸€å…± 2 byteã€‚\n    0x85, 0x02,\n\n    // Usage Page (Consumer)\n    // ä¸‹é¢çš„ç”¨é€”éƒ½ç®—è¿™é‡Œã€‚\n    0x05, 0x0C,\n    // è¿™äº›å’Œä¿®é¥°é”®åŸºæœ¬æ˜¯ä¸€ä¸ªæ„æ€ï¼Œæ¯ä¸ª bit ä»£è¡¨ä¸€ä¸ªæŒ‰é”®ï¼Œä¸è¿‡è¿™äº›ç”¨é€”ä¸è¿žè´¯äº†ã€‚\n    // Usage (Scan Next Track)\n    0x09, 0xB5,\n    // Usage (Scan Previous Track)\n    0x09, 0xB6,\n    // Usage (Stop)\n    0x09, 0xB7,\n    // Usage (Eject)\n    0x09, 0xB8,\n    // Usage (Play/Pause)\n    0x09, 0xCD,\n    // Usage (Mute)\n    0x09, 0xE2,\n    // Usage (Volume Increment)\n    0x09, 0xE9,\n    // Usage (Volume Decrement)\n    0x09, 0xEA,\n    // å’Œä¿®é¥°é”®å·®ä¸å¤šå•¦ä¸‹é¢ã€‚\n    // Logical Minimum (0)\n    0x15, 0x00,\n    // Logical Maximum (1)\n    0x25, 0x01,\n    // Report Size (1)\n    0x75, 0x01,\n    // Report Count (8)\n    0x95, 0x08,\n    // Input (Data, Array)\n    0x81, 0x02,\n\n    // End Collection\n    0xC0\n};\n\næ‰€ä»¥åŸºæœ¬ä¸Šæˆ‘ä»¬æž„å»ºçš„è™šæ‹Ÿé”®ç›˜å°±å‘Šè¯‰ä¸»è®¾å¤‡å®ƒæ˜¯è¿™ä¹ˆæŠ¥å‘Šæ•°æ®çš„ã€‚é‡Œé¢é™¤äº†è¦æ³¨æ„å…·ä½“çš„æ•°æ®ä¹‹å¤–ç¬¬ä¸€ä¸ª byte è¦æ”¾ Report ID ä¹‹å¤–ä¹Ÿæ²¡ä»€ä¹ˆã€‚ç„¶åŽå°±æ˜¯æ€Žä¹ˆæŠŠ SDL çš„äº‹ä»¶è½¬æ¢æˆ HID äº‹ä»¶äº†ï¼Œä¸€å¼€å§‹çœ‹ @amosbird çš„ä»£ç ï¼Œå‘çŽ°ä»–æŠŠ HID event ç†è§£æˆäº†å’Œ SDL event ä¸€æ ·çš„ä¸œè¥¿äº†â€”â€”æœ‰ä¸€ä¸ªç±»ä¼¼ä¿®é¥°é”®çš„æ•°æ®å’Œä¸€ä¸ªæŒ‰ä¸‹æŠ¬èµ·çš„æ•°æ®å’Œä¸€ä¸ªå…·ä½“å“ªä¸ªé”®çš„æ•°æ®ï¼Œç”¨æˆ·æŒ‰ä¸€ä¸ªé”®å°±ç”Ÿæˆä¸€ä¸ªé’ˆå¯¹è¿™ä¸ªé”®å•ç‹¬çš„ eventâ€”â€”ä½†æ˜¯å…¶å®žä¸æ˜¯ï¼ŒHID é”®ç›˜å¹¶ä¸ä¼šç›´æŽ¥å‘Šè¯‰ä½ å“ªä¸ªé”®æŒ‰ä¸‹è¿˜æ˜¯æŠ¬èµ·äº†ï¼Œä»Žä¸Šé¢çš„æŠ¥å‘Šæè¿°ç¬¦ä¹Ÿèƒ½çœ‹å‡ºæ¥ï¼Œå®žé™…ä¸Šå®ƒæ˜¯ä¸€ä¸ªåŸºäºŽé¡ºåºçš„åè®®ï¼Œæ¯”æ–¹è¯´æˆ‘æŒ‰ä¸‹äº† Cï¼Œç»™ä¸»æœºçš„äº‹ä»¶å¯èƒ½æ˜¯ Cé”® 00 00 00 00 00ï¼ŒåˆæŒ‰ä¸‹äº† Bï¼Œå†å‘ä¸€ä¸ª Cé”® Bé”® 00 00 00 00ï¼ŒæŠ¬èµ·æ¥ Cï¼Œå†å‘ä¸€ä¸ª Bé”® 00 00 00 00 00ï¼Œç„¶åŽä¸»æœºå¯¹æ¯”ä¹‹å‰å’Œä¹‹åŽçš„äº‹ä»¶ï¼Œå¾—åˆ°â€œC æŠ¬èµ·äº†â€æˆ–è€…â€œB æŒ‰ä¸‹äº†â€çš„ä¿¡æ¯ï¼Œè¿™æ‰æ˜¯æˆ‘ä»¬å¸ç©ºè§æƒ¯çš„â€œé”®ç›˜äº‹ä»¶â€ã€‚æ‰€ä»¥åœ¨ç¨‹åºé‡Œé¢æˆ‘ä»¬éœ€è¦åšä¸ªåå‘æ“ä½œï¼ŒæŠŠå•ç‹¬é’ˆå¯¹æŸä¸ªæŒ‰é”®çš„æŒ‰ä¸‹æŠ¬èµ·çš„æ•°æ®å˜æˆä¸€ä¸ªâ€œæœ‰å“ªäº›é”®æŒ‰ä¸‹â€çš„æ•°æ®ã€‚è¿™é‡Œå…¶å®žå¾ˆç®€å•ï¼Œæˆ‘ä»¬å†…éƒ¨ç”¨ä¸€ä¸ªæ•°ç»„ä¿å­˜å½“å‰çš„æŒ‰é”®çŠ¶æ€ï¼Œæ¯æ¬¡æœ‰ SDL çš„æŒ‰é”®äº‹ä»¶å‘æ¥å°±æ›´æ–°çŠ¶æ€ï¼ˆä¸æ˜¯æ‰€æœ‰æŒ‰é”®äº‹ä»¶éƒ½æ˜¯é‚£ 101 ä¸ªé”®å“¦ï¼‰ï¼Œç„¶åŽéåŽ†è¿™ä¸ªæ•°ç»„ï¼Œå°±å¯ä»¥åˆ©ç”¨å“ªäº›ç´¢å¼•å¯¹åº”çš„å€¼æ˜¯ true ç”Ÿæˆ HID äº‹ä»¶çš„å†…å®¹äº†ï¼ŒåŒæ—¶ HID ä¹Ÿä¸è¦æ±‚å‘é€çš„æŒ‰é”®åœ¨æ•°ç»„é‡Œçš„é¡ºåºå’ŒæŒ‰ä¸‹çš„é¡ºåºä¸€è‡´ï¼Œè€Œä¸” SDL çš„ scancode å’Œ HID çš„å€¼æ˜¯ä¸€è‡´çš„ã€‚å¯¹äºŽä¿®é¥°é”®æ›´ç®€å•ï¼ŒSDL æ¯ä¸ªäº‹ä»¶é‡Œé¢çš„ä¿®é¥°é”®å’Œ HID ä¸€æ ·ï¼Œéƒ½æ˜¯åŒ…å«å½“å‰æ‰€æœ‰ä¿®é¥°é”®çš„çŠ¶æ€ï¼Œåªæ˜¯å…·ä½“çš„å“ªä¸ª bit è¡¨ç¤ºå“ªä¸ªé”®ä¸ä¸€æ ·ï¼Œè½¬æ¢ä¸€ä¸‹å°±å¯ä»¥äº†ï¼ˆhttps://github.com/AlynxZhou/scrcpy/blob/dev/app/src/hid_keyboard.c#L195-L223ï¼‰ã€‚ä½†æ˜¯åƒä¸‡ä¸è¦å› ä¸ºå‘æ¥çš„æŒ‰é”®ä¸æ˜¯é‚£ 101 ä¸ªé”®å°±ç›´æŽ¥å¿½ç•¥æŽ‰æ•´ä¸ªäº‹ä»¶ï¼Œå› ä¸ºå¯èƒ½ç”¨æˆ·åªæ˜¯å•ç‹¬æŒ‰äº†ä¸€ä¸‹ä¿®é¥°é”®ï¼Œæ‰€ä»¥å¦‚æžœè¦è·³è¿‡åªè¦è·³è¿‡æ›´æ–°æŒ‰é”®çŠ¶æ€å°±å¥½äº†ï¼ˆhttps://github.com/AlynxZhou/scrcpy/blob/dev/app/src/hid_keyboard.c#L225-L269ï¼‰ã€‚\nå¯èƒ½æœ‰èªæ˜Žçš„å°æœ‹å‹è¦é—®äº†ï¼Œä½ è¿™æœ€å¤šåªèƒ½å‘å…­ä¸ªé”®ï¼Œæˆ‘æŒ‰ä¸‹ä¸ƒä¸ªæ€Žä¹ˆåŠžï¼Ÿè‡ªå·±å¥½å¥½è¯»ä¸€ä¸‹ HID åè®®å°±è¡Œäº†ï¼Œè¿™ç§æƒ…å†µä¸‹éœ€è¦å›žä¸€ä¸ª phantom stateï¼Œå…·ä½“å°±æ˜¯ä¿®é¥°é”®ä¸€åˆ‡ç…§å¸¸ï¼Œå…­ä¸ª key å…¨è¿”å›ž 0x01ï¼ˆhttps://github.com/AlynxZhou/scrcpy/blob/dev/app/src/hid_keyboard.c#L250-L259ï¼‰ã€‚\nåŸºæœ¬ä¸Šçœ‹åˆ°è¿™é‡Œå·²ç»å¯ä»¥æˆåŠŸçš„ç»™ Android æ‰‹æœºå‘ HID é”®ç›˜äº‹ä»¶äº†ï¼Œå¦å¤–å°±æ˜¯å¦‚æžœä½ ç”¨æ¡Œé¢çŽ¯å¢ƒçš„è¯ï¼Œåª’ä½“æŒ‰é”®åº”è¯¥ä¼šè¢«æ¡Œé¢çŽ¯å¢ƒæ‹¦æˆªï¼Œæ‰€ä»¥å…¶å®žæˆ‘æ²¡æœ‰å‘åª’ä½“äº‹ä»¶ï¼Œscrcpy æ˜¯ç”¨ç»„åˆé”®å•ç‹¬å¤„ç†äº†ä¸€éƒ¨åˆ†åŠŸèƒ½ã€‚ç„¶åŽå°±æ˜¯ä¸€äº›æ”¶å°¾ï¼Œæ¯”å¦‚ @amosbird å¿˜è®°åœ¨ç¨‹åºç»“æŸä¹‹å‰å–æ¶ˆæ³¨é”€ HID è®¾å¤‡äº†ï¼Œè¿™ä¼šå¯¼è‡´å¦‚æžœä½ ä¸æ‹”æŽ‰ USB çº¿ï¼Œè§¦æ‘¸ç”¨çš„è½¯é”®ç›˜å°±ä¸€ç›´å‡ºä¸æ¥ã€‚\næœ€åŽ @rom1v è¡¨ç¤º scrcpy æ˜¯åœ¨å•ç‹¬çš„çº¿ç¨‹é‡Œå¤„ç†è¾“å…¥çš„ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿç»™ AOA å•ç‹¬èµ·äº†ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿™ä¸ªåªè¦ç…§ç€ scrcpy åŽŸæœ¬ controller çš„çº¿ç¨‹æŠ„ä¸€ä¸ªå°±å¯ä»¥äº†ã€‚\nä½ è¦æ˜¯é—®ä¸ºä»€ä¹ˆä¸æŠŠé¼ æ ‡ä¹Ÿç”¨ HID çš„æ–¹å¼æ¨¡æ‹Ÿè¿›åŽ»çš„è¯ï¼Œæˆ‘å¯ä»¥å‘Šè¯‰ä½ æˆ‘ä¹Ÿè¯•è¿‡äº†ï¼Œæ•ˆæžœå¹¶ä¸ç®—å¥½ï¼ŒAOA æ˜¯å¯ä»¥æ³¨å†Œä¸æ­¢ä¸€ä¸ª HID è®¾å¤‡çš„ï¼Œåªè¦ä½ åˆ†é…ä¸åŒçš„ ID å¹¶ä½œä¸ºå‚æ•°å‘è¿‡åŽ»å°±å¯ä»¥äº†ï¼Œè¿™ä¸€éƒ¨åˆ†ä»£ç æˆ‘éƒ½ç•™å¥½äº†ã€‚ä½†æ˜¯ä¸€ä¸ªä¸»è¦çš„é—®é¢˜æ˜¯ HID é¼ æ ‡åªæ±‡æŠ¥ X å’Œ Y çš„å˜åŒ–é‡ï¼Œå¯¼è‡´æ¯”æ–¹è¯´æˆ‘æŠŠé¼ æ ‡ä»Ž SDL çš„çª—å£æŒªèµ°ï¼ŒMotionEvent åœæ­¢ï¼ŒHID é¼ æ ‡å°±ä¼šåœåœ¨è¾¹æ¡†ä¸Šï¼Œè¿™æ—¶å€™æˆ‘å†ä»Žå¦ä¸€ä¸ªæ–¹å‘æŒªè¿›çª—å£ï¼ŒHID é¼ æ ‡çš„æŒ‡é’ˆå’Œä½ æœ¬æœºçš„æŒ‡é’ˆå°±ä¸å†åŒæ­¥äº†ï¼Œä½“éªŒä¸å¦‚ scrcpy è‡ªå·±æ³¨å…¥äº‹ä»¶çš„æ–¹å¼ï¼Œæ‰€ä»¥æˆ‘æ”¾å¼ƒäº†ã€‚\nWindows ä¸‹é¢ libusb ä¼¼ä¹Žä¸èƒ½å¾ˆå¥½çš„è¿žæŽ¥ Android æ‰‹æœºå‘é€æ•°æ®ï¼Œè¿™ä¸ªæˆ‘æ²¡ä»€ä¹ˆåŠžæ³•ï¼Œçœ‹èµ·æ¥æ˜¯ä¸ª é™ˆå¹´è€ bugï¼Œè€ƒè™‘åˆ°æˆ‘ä¸€å¼€å§‹çš„ç›®çš„åªæ˜¯æˆ‘è‡ªå·±èƒ½åœ¨ Linux ä¸‹é¢æ–¹ä¾¿åœ°èŠ QQï¼Œåšæˆè¿™æ ·æˆ‘è§‰å¾—å°±å¯ä»¥äº†ï¼Œæˆ‘çš„ä»£ç é€»è¾‘æ­£ç¡®ï¼Œå³ä½¿è¦ä¿®å¤ï¼Œä¹Ÿä¸è‡³äºŽåŠ¨ scrcpy è¿™éƒ¨åˆ†è€Œæ˜¯åŠ¨ libusbï¼Œ@rom1v ä¹Ÿè¡¨ç¤ºçŽ°åœ¨å°±å¾ˆä¸é”™äº†ã€‚\nå½“ç„¶å› ä¸ºä¾èµ– USBï¼Œæ‰€ä»¥ä½ åˆ©ç”¨ ADB over WiFi çš„è¯å°±æ²¡åŠžæ³•ç”¨è¿™ä¸ªåŠŸèƒ½äº†ï¼Œä¸è¿‡æˆ‘ç”¨ç”µè„‘æ—¶å€™ä¸€èˆ¬ä¼šç»™æ‰‹æœºå……ç”µï¼Œä¹Ÿæ— æ‰€è°“ã€‚\næäº¤çš„ PR é“¾æŽ¥æ˜¯ https://github.com/Genymobile/scrcpy/pull/2632/filesï¼Œæ„Ÿè§‰æ˜¯ä¸ªå¤§å·¥ç¨‹ï¼Œæœ€åŽå®žé™…ä¸Šä¹Ÿå°±ä¿®æ”¹äº†ä¸€åƒè¡Œï¼Ÿä¸è¿‡ç¡®å®žæŒºéš¾çš„ã€‚\n\nEnglish Version\n(Title is Simulate Physical Keyboards in Scrcpy via USB HID over AOAv2.)\nThree years (2018) ago I opened an issue on scrcpy's GitHub repo, because I just found using scrcpy I can mirror my Android phone to computer and control it, so I could use QQ on Linux via my Android phone (I still had to use QQ frequently at that time), but after I tried it, I found it's inconvenient, because it shows soft keyboard on Android phone instead of simulating physical keyboard, I can trigger input method via typing but using numbers to choose words is not available. I know little about the code at that time and ask the maintainer for some reason, @rom1v replied that there is a protocol called HID over AOA supported by Android can implement a physical keyboard, but there is a bug on some devices and needs some one take their time to read specifications and write some code to convert SDL event into HID event. Then I asked that how about using computer's IME and pass Chinese into Android, @rom1v said that's what scrcpy did but Android has a limitation that you can only pass ASCII chars.\nI just tried reading some related things but it beyonds my ability, I just put it here. Until last week when I am talking with my friend Hackghost, he said Apple is making their own screen mirror implementation, and seems Huawei has one on their phone. I never care about Hardware manufacturer, neither Apple nor Huawei, because I think they are both lazy and evil, and they won't make a Linux client for their screen mirror implementation. If they are unable to make it, they should be open and allow users to do it by themselves. Then we talked about cost and profit, I insist that they have enough profit and Linux users also paid for their phone, so the feature should be available on Linux, but they are greedy and want more profit. Finally I said that there is already a hero who made scrcpy, and scrcpy runs on Windows, Linux and macOS, except for the bad IME experience. And I remebered it takes a long time after I opened the issue, maybe I should try again so I did it.\nI am lucky that @amosbird already wrote some code in 2019 and he said it is able to work but he didn't send a PR, I guess it won't work now but I could refactor it to current HEAD so I start to read his code. At first I am wired that he implemented not only one feature in a single commit without any hinting about what he did. Then I managed to contact to him via Telegram, but he forget his code because 2 years past (lol). So I need to do it myself, I am more experienced that 3 years ago and I read USB and Android documents, with some other articles, I know what I should do. At first I think I just merge code, but finally I am re-writing because some mistakes in his code. It takes 2 days to make it work and some other days to tweak it. Sounds like that you met a BOSS when you are a newbie and you escaped, fight to level up and come back after 3 years.\nThose are screenshots of this feature:\n\n\nSo it's USB HID over AOAv2, you need to know what's USB HID, there is a long PDF from USB IF telling you how to be a HID device, it's hard to read. And if you want examples, typing AOAv2 in Google is useless, you can only get a little page from Android's documents, I found that articles about simulating keyboard with single chip microcomputer (not sure whether this is the correct translation, some thing like Arduino or STM32) are helpful, however I've said that I won't touch hardware, my words are fake now.\nBasically you need to send a lot of descriptors to host if you want to be a USB HID device, but things are different here. When you connect your Android phone to computer, your computer is the host and your Android is sub-device, AOAv2 is about sending data from host to sub-device, so we don't need most USB descriptors, just register a device to Android and send HID report descriptor, then send HID event, then unregister it. We can use libusb for data transfering and make some Android's command into functions, see https://github.com/AlynxZhou/scrcpy/blob/dev/app/src/aoa_hid.c#L155-L246.\nAfter API we need to decide what to send, HID just sends buffer made of bytes, first is the report descriptor, telling host that what's the meaning of every bytes in event, keyboard has a basic example in Device Class Definition for Human Interface Devices which could be used in BIOS, you need to read Appendix B: Boot Interface Descriptors, B.1 Protocol 1 (Keyboard) å’Œ Appendix E: Example USB Descriptors for HID Class Devices and Appendix E: Example USB Descriptors for HID Class Devices, E.6 Report Descriptor (Keyboard). But those are not enough, mostly two bytes in descriptor made one meaning, the first byte is about type and the second is value, if you want to know how to calculate the first bye, you need to read 8. Report Protocol, and then you'll know why sometimes different numbers have the same meaning because each bits of the byte have different meaning. And their are a lot of Usage tags, they are in another PDF.\nI copy https://github.com/AlynxZhou/scrcpy/blob/dev/app/src/hid_keyboard.c#L28-L144 here and add detailed meaning in comments:\nunsigned char kb_report_desc_buffer[]  = {\n    // Usage Page (Generic Desktop)\n    // I don't know why keyboard should be Generic Desktop.\n    0x05, 0x01,\n    // Usage (Keyboard)\n    // Go to look up in the table.\n    0x09, 0x06,\n\n    // Collection (Application)\n    // There are collections in descriptor,\n    // they represent for data you send to computer.\n    // A device should have at least 1 collection.\n    // Keyboard's usage page tag is under Application.\n    0xA1, 0x01,\n    // Report ID (1)\n    // You'll find there are no Report ID in the keyboard example,\n    // because you can ignore it if you have only 1 collection.\n    // But if your keyboard has media keys, they are in different collection.\n    // So you need a Report ID and you send it as the first byte of event.\n    // You know why we send 9 bytes in event while people say 8 for keyboards?\n    0x85, 0x01,\n\n    // Usage Page (Keyboard)\n    // Usage Page is different from Usage.\n    0x05, 0x07,\n    // Usage Minimum (224)\n    // You have many Usages in a collection, but you cannot list them all,\n    // so you have a range from 224, which is Left Control.\n    0x19, 0xE0,\n    // Usage Maximum (231)\n    // And end to 231, the Right GUI, those are 8 modifier keys.\n    // Left Controlï¼ŒRight Controlï¼ŒLeft Altï¼ŒRight Altï¼ŒLeft Shiftï¼ŒRight Shiftï¼Œ\n    // Left GUIï¼ŒRight GUIã€‚\n    // But when you convert hex to binary, the right is bit 0,\n    // so reverse the sequence.\n    0x29, 0xE7,\n    // Logical Minimum (0)\n    // 0 is the minimum of a bit.\n    0x15, 0x00,\n    // Logical Maximum (1)\n    // Press is the maximum 1.\n    0x25, 0x01,\n    // Report Size (1)\n    // One key for one bit.\n    0x75, 0x01,\n    // Report Count (8)\n    // 8 keys.\n    0x95, 0x08,\n    // Input (Data, Variable, Absolute): Modifier byte\n    // Too long to describe what input means, please read the table,\n    // should match the above.\n    0x81, 0x02,\n\n    // Reserved, just send a byte of 0.\n    // Report Size (8)\n    0x75, 0x08,\n    // Report Count (1)\n    0x95, 0x01,\n    // Input (Constant): Reserved byte\n    0x81, 0x01,\n\n    // LEDs on keyboard, HID keyboard does not handle LED states itself.\n    // This is not a real keyboard so just grab it from Internet.\n    // 5 LEDs works like modifiers but output.\n    // Usage Page (LEDs)\n    0x05, 0x08,\n    // Usage Minimum (1)\n    0x19, 0x01,\n    // Usage Maximum (5)\n    0x29, 0x05,\n    // Report Size (1)\n    0x75, 0x01,\n    // Report Count (5)\n    0x95, 0x05,\n    // Output (Data, Variable, Absolute): LED report\n    0x91, 0x02,\n\n    // 5 bits of LEDs are not aligned so add 3 bits as padding.\n    // Report Size (3)\n    0x75, 0x03,\n    // Report Count (1)\n    0x95, 0x01,\n    // Output (Constant): LED report padding\n    0x91, 0x01,\n\n    // We have 101 normal keys on keyboards so you don't want to use 101 bits\n    // for them (it might be OK but hard to write), so we return an array and\n    // a byte is for a keycode.\n    // Usage Page (Key Codes)\n    0x05, 0x07,\n    // Usage Minimum (0)\n    // Minimum is 0 for no key pressed.\n    0x19, 0x00,\n    // Usage Maximum (101)\n    // 101 is the max keycode on standard keyboard.\n    0x29, HID_KEYBOARD_KEYS - 1,\n    // Logical Minimum (0)\n    // Bytes are keyboards and the minimum is 0.\n    0x15, 0x00,\n    // Logical Maximum(101)\n    // Maximum is 101.\n    0x25, HID_KEYBOARD_KEYS - 1,\n    // Report Size (8)\n    // Each key takes 1 byte.\n    0x75, 0x08,\n    // Report Count (6)\n    // USB keyboards need to report 6 keys at lease,\n    // your keyboard might tell your computer it can report more,\n    // but 6 is mostly OK.\n    0x95, HID_KEYBOARD_MAX_KEYS,\n    // Input (Data, Array): Keys\n    // Input is an array here, not a variable, array can only be the last\n    // of a collecton.\n    0x81, 0x00,\n\n    // End Collection\n    // Collection for keyboard is end.\n    0xC0,\n\n    // Usage Page (Consumer)\n    // FOr media keys.\n    0x05, 0x0C,\n    // Usage (Consumer Control)\n    0x09, 0x01,\n\n    // Collection (Application)\n    // A new collection because data format changes.\n    0xA1, 0x01,\n    // Report ID (2)\n    // A new Report ID, so event has two bytes, first Report ID then keycode.\n    0x85, 0x02,\n\n    // Usage Page (Consumer)\n    0x05, 0x0C,\n    // Like the modifiers, but those usages are not consistent,\n    // we have to list them here.\n    // Usage (Scan Next Track)\n    0x09, 0xB5,\n    // Usage (Scan Previous Track)\n    0x09, 0xB6,\n    // Usage (Stop)\n    0x09, 0xB7,\n    // Usage (Eject)\n    0x09, 0xB8,\n    // Usage (Play/Pause)\n    0x09, 0xCD,\n    // Usage (Mute)\n    0x09, 0xE2,\n    // Usage (Volume Increment)\n    0x09, 0xE9,\n    // Usage (Volume Decrement)\n    0x09, 0xEA,\n    // Like modifiers.\n    // Logical Minimum (0)\n    0x15, 0x00,\n    // Logical Maximum (1)\n    0x25, 0x01,\n    // Report Size (1)\n    0x75, 0x01,\n    // Report Count (8)\n    0x95, 0x08,\n    // Input (Data, Array)\n    0x81, 0x02,\n\n    // End Collection\n    0xC0\n};\n\nSo our keyboard sends this to host. The only thing you need to remember is send Report ID as the first byte of event. Then how to convert SDL event into HID event? Firstly I read @amosbird's code and he thinks HID event is like SDL eventâ€”â€”one field for modifiers and another field for press/release and one field for which key, an event represents for one single keyâ€”â€”but it's not, HID keyboards won't tell you which key is pressed or release, it's based on sequence, for example I press C first, it sends C 00 00 00 00 00, then I press B, sends C B 00 00 00 00, release C, sends B 00 00 00 00 00, the host is responsible for comparing the events and getting info like \"B pressed\" or \"C released\". So we need to convert it back to \"what are pressed keys\", it's simple, just use an array for state of current keys, update it when a SDL event is fired (not all key events are the 101 keys), then iterate the array to generate a event contains the indices of true, the sequence of keys does not matter in HID and SDL's scancode is the same as HID values. For modifiers are easier, every SDL events contains all modifiers just like HID events, they are just different in bits, so we do a convert (https://github.com/AlynxZhou/scrcpy/blob/dev/app/src/hid_keyboard.c#L195-L223). But don't ignore events just because it's not inside the 101 keys! User may just press a modifer, and we only skip updating keys state here (https://github.com/AlynxZhou/scrcpy/blob/dev/app/src/hid_keyboard.c#L225-L269&gt;).\nYou may ask that what will happen if I press 7 keys at the same time? HID requires to report a phantom state, which fills 0x01 as all 6 keys (https://github.com/AlynxZhou/scrcpy/blob/dev/app/src/hid_keyboard.c#L250-L259).\nWe almost done it, and if you have a DE, media keys should be caught by it before SDL, so I never send it in code. Scrcpy uses some combination keys for it. And some cleaning, for example @amosbird forget to unregister HID device before program exitting, and you cannot use soft keybaords until you disconnect the USB cable.\nAt last @rom1v says scrcpy uses another thread for input, so I make a thread for AOA, too. Just grab the code from controller.\nYou may ask about HID mouse, I've tried it, not good, AOA can register different HID devices, just pass different ID as argument, I have those code. But the biggest problem is that HID mouse only report the delta of X and Y, if I move the mouse outside the window from left edge, MotionEvent stops, the HID cursor will stop on the edge, and then I move my mouse inside the window from right edge, the HID cursor then loses sync with my mouse. The typicall scrcpy injection events work better so I give up.\nlibusb has an old bug on Windows so this cannot work on windows, I have no idea and because at first I just want to use QQ on Linux, I think it's OK, so does @rom1v. My code is correct and once libusb fixed it, my code should not be updated I think.\nHowever you need USB and this won't work with ADB over WiFi, I typically charge my phone while using computer so it's not a problem for me.\nPR is https://github.com/Genymobile/scrcpy/pull/2632/files, only 1 thousand lines? I spend a lot of time on it.\n"},{"title":"Fontconfig å’Œ Noto Color Emoji å’ŒæŠ—é”¯é½¿","url":"/posts/Fontconfig-NotoColorEmoji-Antialias/","content":"æˆ‘ä¸€ç›´ç”¨çš„æ˜¯ä»¥å‰ç§¯æ”’çš„ä¸€ä»½ fontconfig é…ç½®ï¼Œä¸»è¦åŠŸèƒ½å°±æ˜¯è®¾ç½®å¯¹äºŽæ— è¡¬çº¿å­—ä½“ä¼˜å…ˆç”¨ Roboto æ˜¾ç¤ºè‹±æ–‡å­—ä½“ï¼Œç„¶åŽå›žé€€åˆ° Noto Sans CJK SC æ˜¾ç¤ºä¸­æ–‡å­—ä½“ï¼Œå› ä¸º Roboto æ¯” Noto çš„è‹±æ–‡å­—å¥½çœ‹ï¼Œä»¥åŠå¯¹ç­‰å®½å­—ä½“ä¼˜å…ˆç”¨ Monacoã€‚è™½ç„¶å¤§éƒ¨åˆ†éƒ½æ˜¯ç½‘ä¸ŠæŠ„æ¥çš„ï¼Œæˆ‘è‡ªå·±å¹¶ä¸å¤ªæ‡‚ï¼Œä½†æ˜¯è¿™ä¸ªé…ç½®ä¸€ç›´å·¥ä½œçš„è¿˜å¯ä»¥ã€‚ç›´åˆ°æˆ‘å¼€å¯äº† RIME å†…ç½®çš„ emoji è¾“å…¥æ³•ï¼Œå‘çŽ° emoji æ˜¾ç¤ºæˆäº†ç©ºç™½ã€‚\n\n\nä¸€å¼€å§‹æ²¡è§‰å¾—æ˜¯ä»€ä¹ˆå¾ˆéš¾è§£å†³çš„é—®é¢˜ï¼Œåœ¨å­—ä½“åˆ—è¡¨æœ«å°¾åŠ ä¸Š Noto Color Emoji ä¸å°±è¡Œäº†ï¼Ÿä¸è¿‡äº‹æƒ…è¦æ˜¯çœŸçš„è¿™ä¹ˆç®€å•ï¼Œä¹Ÿå°±æ²¡å¿…è¦å†™ä¸ªåšå®¢è®°ä¸‹æ¥äº†ã€‚å¿˜è®°å½“æ—¶æ€Žä¹ˆæŸ¥çš„äº†ï¼Œæ€»ä¹‹æ˜¯æœåˆ° ä¸€ä¸ª firefox çš„ bugï¼Œæ bug çš„äººè¡¨ç¤ºè‡ªå·±ä¸€ç›´æ˜¯å¼€ç€ hintfull å’Œ antialias çš„ï¼Œå…³æŽ‰è¿™ä¸ª Noto Color Emoji æ‰èƒ½æ˜¾ç¤ºã€‚äºŽæ˜¯æˆ‘çœ‹äº†ä¸€çœ¼æˆ‘çš„é…ç½®ï¼Œä¹Ÿæœ‰è¿™ä¹ˆä¸€æ®µï¼š\n\n\n  \n  \n    false\n  \n  \n  \n    false\n  \n  \n  \n    rgb\n  \n  \n  \n    true\n  \n  \n    true\n  \n  \n    hintslight\n  \n  \n  \n    true\n  \n\n\" data-info=\"language-xml\" data-lang=\"xml\" class=\"code-block\">&lt;!-- é’ˆå¯¹æ‰€æœ‰å­—ä½“çš„é»˜è®¤è®¾ç½®ï¼ŒåŠ›æ±‚æ˜¾ç¤ºæ•ˆæžœæœ€å¥½ã€‚ --&gt;\n&lt;match target=\"font\"&gt;\n  &lt;!-- ç¦ç”¨å†…åµŒç‚¹é˜µã€‚ --&gt;\n  &lt;edit name=\"embeddedbitmap\" mode=\"assign\"&gt;\n    &lt;bool&gt;false&lt;/bool&gt;\n  &lt;/edit&gt;\n  &lt;!-- ç¦ç”¨åˆæˆç²—ä½“ã€‚ --&gt;\n  &lt;edit name=\"embolden\" mode=\"assign\"&gt;\n    &lt;bool&gt;false&lt;/bool&gt;\n  &lt;/edit&gt;\n  &lt;!-- è®¾ç½®æ˜¾ç¤ºå™¨ä¸º RGB æŽ’åˆ—ã€‚ --&gt;\n  &lt;edit name=\"rgba\" mode=\"assign\"&gt;\n    &lt;const&gt;rgb&lt;/const&gt;\n  &lt;/edit&gt;\n  &lt;!-- å¼€å¯è½»åº¦å¾®è°ƒã€‚ --&gt;\n  &lt;edit name=\"hinting\" mode=\"assign\"&gt;\n    &lt;bool&gt;true&lt;/bool&gt;\n  &lt;/edit&gt;\n  &lt;edit name=\"autohint\" mode=\"assign\"&gt;\n    &lt;bool&gt;true&lt;/bool&gt;\n  &lt;/edit&gt;\n  &lt;edit name=\"hintstyle\" mode=\"assign\"&gt;\n    &lt;const&gt;hintslight&lt;/const&gt;\n  &lt;/edit&gt;\n  &lt;!-- å¼€å¯æŠ—é”¯é½¿ã€‚ --&gt;\n  &lt;edit name=\"antialias\" mode=\"assign\"&gt;\n    &lt;bool&gt;true&lt;/bool&gt;\n  &lt;/edit&gt;\n&lt;/match&gt;\n\né‚£æˆ‘è§‰å¾—é’ˆå¯¹ Noto Color Emoji å…³æŽ‰è¿™å‡ ä¸ªé€‰é¡¹å°±è¡Œäº†ï¼Œæ­£å¥½è¿™ä¸ª bug ä¸‹é¢å°±æœ‰äººæä¾›äº†é…ç½®ï¼š\n\n\n  \n    Noto Color Emoji\n  \n  \n    true\n  \n  \n    true\n  \n  \n    false\n  \n  \n    false\n  \n\n\" data-info=\"language-xml\" data-lang=\"xml\" class=\"code-block\">&lt;!-- Noto Color Emoji ä¸æ”¯æŒå¼€å¯æŠ—é”¯é½¿å’Œå¾®è°ƒï¼Œæ‰€ä»¥åœ¨å…¨å±€å¼€å¯ä¹‹åŽè¿˜å¾—ç»™å®ƒå…³æŽ‰ã€‚ --&gt;\n&lt;match target=\"font\"&gt;\n  &lt;test name=\"family\" qual=\"any\"&gt;\n    &lt;string&gt;Noto Color Emoji&lt;/string&gt;\n  &lt;/test&gt;\n  &lt;edit name=\"scalable\" mode=\"assign\"&gt;\n    &lt;bool&gt;true&lt;/bool&gt;\n  &lt;/edit&gt;\n  &lt;edit name=\"embeddedbitmap\" mode=\"assign\"&gt;\n    &lt;bool&gt;true&lt;/bool&gt;\n  &lt;/edit&gt;\n  &lt;edit name=\"hinting\" mode=\"assign\"&gt;\n    &lt;bool&gt;false&lt;/bool&gt;\n  &lt;/edit&gt;\n  &lt;edit name=\"antialias\" mode=\"assign\"&gt;\n    &lt;bool&gt;false&lt;/bool&gt;\n  &lt;/edit&gt;\n&lt;/match&gt;\n\né‡æ–°ç™»å½•ï¼Œè¾“å…¥æ³•é‡Œé¢çš„ emoji éƒ½æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œæˆ‘ä»¥ä¸ºäº‹æƒ…åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œæ²¡æƒ³åˆ°å™©æ¢¦æ‰åˆšåˆšå¼€å§‹â€¦â€¦\næŸä¸€å¤©ç”¨ firefox æ‰“å¼€ twitterï¼Œå‘çŽ°é‡Œé¢å­—ä½“éƒ½æ˜¯æ¯›æ¯›ç³™ç³™çš„ï¼Œæˆ‘è§‰å¾—å¾ˆç¦»å¥‡ï¼Œæ˜Žæ˜Žæˆ‘åªæ˜¯å¯¹ Noto Color Emoji å…³äº†æŠ—é”¯é½¿ï¼Œä¸ºä»€ä¹ˆ twitter çš„å­—ä½“ä¹Ÿå—åˆ°å½±å“äº†ï¼Ÿè€Œä¸”å…¶ä»–é¡µé¢çš„å­—ä½“éƒ½æ˜¯æ­£å¸¸çš„ï¼ŒåŽæ¥æˆ‘åˆæ‰“å¼€è¿‡ä¸€ä¸ªå¾®è½¯çš„æ–‡æ¡£é¡µé¢ï¼Œä¹Ÿå‡ºçŽ°äº†ç±»ä¼¼çš„æ¯›ç—…ã€‚æˆ‘ç ”ç©¶äº†ä¸€ä¸‹å‘çŽ°è¿™ä¸¤ä¸ªé¡µé¢éƒ½ç”¨äº†è‡ªå®šä¹‰çš„ webfontã€‚å¯æ˜¯ webfont å’Œ Noto Color Emoji æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿäººç±»æ‘¸ä¸ç€å¤´å‘ã€‚\næˆ‘æŸ¥äº†å¾ˆå¤šåšå®¢æ–‡ç« ï¼Œä¸è¿‡å®ƒä»¬éƒ½å…³æ³¨åœ¨æ­£å¸¸çš„å­—ä½“é¡ºåºä¸Šï¼Œè¿˜æ²¡æœ‰äººç ”ç©¶ webfont æœ‰ä»€ä¹ˆé—®é¢˜ã€‚äºŽæ˜¯æˆ‘åªèƒ½è‡ªå·±ç ”ç©¶ï¼Œä¸è¿‡æˆ‘ä¸èƒ½ä¿è¯æˆ‘å¯¹ fontconfig çš„ç†è§£å®Œå…¨æ­£ç¡®ï¼Œè¿™ä¸œè¥¿çœ‹èµ·æ¥éžå¸¸å¤æ‚ï¼Œä¸è¿‡æˆ‘è¿˜æ˜¯å¤§è‡´æžæ¸…æ¥šäº†ä¸€äº›äº‹æƒ…ã€‚å¼•ç”¨æˆ‘çœ‹åˆ°çš„ ä¸€ç¯‡è‹±æ–‡åšå®¢ çš„æ ‡é¢˜ï¼š\n\nå½“æˆ‘å‡è§†ç€ fontconfig æ—¶ï¼Œfontconfig ä¹Ÿåœ¨å‡è§†ç€æˆ‘ã€‚\n\n\né¦–å…ˆæˆ‘æ‰¾åˆ°äº†è¿™ä¸ªå« fontconfig å‡ ä¸ªå¸¸è§çš„å‘ çš„æ–‡ç« ï¼Œé‡Œé¢ä¿¡æ¯é‡æŒºå¤§çš„ï¼Œä¸è¿‡è¯´å®žè¯æ²¡æœ‰è§£å†³æŽ‰æˆ‘çš„é—®é¢˜â€”â€”æˆ‘æ˜Žæ˜Žåªå¯¹åŒ¹é…åˆ° Noto Color Emoji æ—¶å€™å…³æŽ‰äº†æŠ—é”¯é½¿ï¼Œä¸ºä»€ä¹ˆ webfont ä¹Ÿå—åˆ°å½±å“äº†å‘¢ï¼Ÿè¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»æ€Žä¹ˆè°ƒæ•´å­—ä½“åˆ—è¡¨é¡ºåºï¼Œä¸è¿‡è¯´å®žè¯æˆ‘æ²¡æœ‰é‡åˆ°é‚£ä¹ˆå¤šéšœç¢ï¼Œç®€å•çš„å†™æ³•å°±å·¥ä½œäº†ã€‚åŒä¸€ä¸ªä½œè€…è¿˜å†™äº† Color Emoji in openSUSE çš„æ–‡ç« ï¼Œä¸è¿‡æ€»æ„Ÿè§‰æ˜¯äº¤å¾…åˆ°ä¸€åŠï¼Œç¿»äº†æ–‡ç« åˆ—è¡¨æ²¡æœ‰åŽç»­äº†ã€‚è€Œä¸”è¿™ç¯‡æ–‡ç« å…³å¿ƒçš„ä¹Ÿæ˜¯å­—ä½“ fallback æ—¶å€™æŸäº›å­—ç¬¦é€‰åˆ°é”™è¯¯çš„å­—ä½“çš„é—®é¢˜ï¼Œå’Œæˆ‘è¿™ä¸ªä¸å¤ªç›¸å…³ã€‚\nç„¶åŽè¿˜æœ‰ Linux fontconfig çš„å­—ä½“åŒ¹é… è¿™ç¯‡æ–‡ç« ï¼Œå®ƒä»‹ç»äº†æµè§ˆå™¨æ˜¯æ€Žä¹ˆå’Œ fontconfig åˆä½œåŒ¹é…å­—ä½“çš„ï¼Œä½†æ˜¯å¯¹äºŽ webfont ä¹Ÿæ˜¯æ²¡æœ‰æåˆ°ã€‚åŒ…æ‹¬å®ƒçš„åŽç»­æ–‡ç«  ç”¨ fontconfig æ²»ç† Linux ä¸­çš„å­—ä½“ ä¹Ÿæ²¡æåˆ°å’Œ Noto Color Emoji ç›¸å…³çš„è°ƒæ•´ï¼ˆå¯èƒ½å’Œå®ƒç”¨çš„ Twemoji æœ‰å…³ç³»ï¼‰ã€‚\nç„¶åŽæˆ‘å°è¯•æŒ‰ç…§æ–‡ç« é‡Œçš„åŠžæ³•å¯¹ firefox è¿›è¡Œä¸€ä¸ª fontconfig çš„è°ƒè¯•ï¼ŒFC_DEBUG=4 firefox --new-instance --private-window https://twitter.com/ ç›´æŽ¥åäº† 12 ä¸‡è¡Œè¾“å‡ºï¼Œæˆ‘å®žåœ¨æ˜¯ä¸çŸ¥é“ä»Žå“ªé‡Œçœ‹äº†ã€‚ç¿»äº†ä¸€ä¸‹åˆèƒ¡ä¹±ä¿®æ”¹äº†å¥½å‡ æ¬¡é…ç½®ä¹Ÿæ²¡æ‰¾å‡ºæ¥å“ªé‡Œæœ‰é—®é¢˜ã€‚å°±åœ¨æˆ‘çœ¼èŠ±çš„æ—¶å€™å¶ç„¶çœ‹åˆ°ä¸€æ¡æœ‰ç”¨çš„ï¼Œfontconfig åå‡ºæ¥ä¸€ä¸ªåŒ¹é…ç»“æžœï¼Œfamily æ˜¯ Roboto, Noto Sans CJK SC, Noto Color Emoji, sans-serifâ€¦ ç­‰ç­‰ä¸€é•¿ä¸²ï¼Œstyle æ˜¯ Â¶ã€‚è¿™ä¸ªå°±å¾ˆæœ‰è¶£äº†ï¼Œå› ä¸ºæˆ‘çœ‹ firefox é‡Œé¢ï¼Œtwitter ç”¨çš„ webfont å« TwitterChirpï¼Œå®ƒçš„ style ä¹Ÿæ˜¯è¿™ä¹ˆä¸ª Â¶ï¼ˆæˆ‘æ€€ç–‘æ˜¯ä¸ª bugï¼‰ï¼Œé‚£è¿™æ¡å¯èƒ½å°±æ˜¯ç›¸å…³çš„äº†ã€‚ç„¶åŽæˆ‘å‘çŽ°è¿™ä¸ªåŒ¹é…ç»“æžœä¸‹é¢ antialias æ˜¯ falseï¼Œä½†ç†è®ºä¸Šæ¥è¯´è¿™æ¡åˆä¸æ˜¯æœ€å…ˆåŒ¹é…åˆ° Noto Color Emojiï¼Œæ€Žä¹ˆä¼šåº”ç”¨ Noto Color Emoji çš„è®¾ç½®å‘¢ï¼Ÿæˆ‘çŒœæµ‹æ˜¯å› ä¸ºé»˜è®¤ test è¯­å¥æ˜¯ qual=\"any\" å«ä¹‰ä¼¼ä¹Žæ˜¯åªè¦åŒ¹é…åˆ°çš„æœ‰ä¸€ä¸ªæ»¡è¶³å°±åº”ç”¨ï¼Œæ­£å¸¸åŒ¹é…ä¸€ä¸ªå­—ä½“åº”è¯¥æ˜¯ä¸ä¼šè¿”å›žè¿™ä¹ˆä¸€é•¿ä¸² family çš„ï¼ˆæˆ‘ç”¨ fc-match ä¸€èˆ¬åªè¿”å›žä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„ familyï¼‰ï¼Œè™½ç„¶æˆ‘ä¸çŸ¥é“ä¸ºä»€ä¹ˆ webfont ä¼šè¿”å›žè¿™ä¹ˆä¸€é•¿ä¸²ç»“æžœï¼Œæ€»ä¹‹æˆ‘æ”¹æˆ qual=\"all\" ä¹Ÿå°±æ˜¯å¿…é¡»æ‰€æœ‰ç»“æžœéƒ½æ˜¯ Noto Color Emoji æ—¶å€™æ‰åº”ç”¨å°±å¥½äº†å¯¹å§ï¼ç„¶åŽé‡æ–°ç™»å½•ï¼Œemoji èƒ½æ˜¾ç¤ºï¼Œæˆ‘ä»¥ä¸ºå·²ç»èƒœåˆ©äº†ï¼ç»“æžœäº‹æƒ…è¯æ˜Žæ˜¯åŠåœºå¼€é¦™æ§Ÿâ€¦â€¦\nå½“æˆ‘ä»¥ä¸ºå®Œå…¨æ²¡é—®é¢˜ï¼Œæ­£æ‰“ç®—ç”¨ atom æ•´ç†ä¸€ä¸‹è¿™ä»½é…ç½®çš„æ—¶å€™ï¼Œçªç„¶å‘çŽ°ä¸å¯¹åŠ²äº†â€¦â€¦Atomé‡Œé¢çš„ä¸­æ–‡å­—ä½“å¤±åŽ»äº†æŠ—é”¯é½¿â€¦â€¦ä½ å¯ä»¥æƒ³åƒæˆ‘å½“æ—¶å¿ƒæƒ…æœ‰å¤šç»æœ›ã€‚å…·ä½“ä¸ºä»€ä¹ˆè¿˜æ˜¯åŒæ ·çš„æˆ‘ä¸çŸ¥é“ï¼Œä¸è¿‡æˆ‘çŒœæµ‹æ°å¥½æ˜¯å’Œ Linux fontconfig çš„å­—ä½“åŒ¹é… é‡Œé¢æåˆ°çš„ chromium æŸ¥è¯¢å­—ä½“çš„å¥‡è‘©é€»è¾‘æœ‰å…³ç³»â€¦â€¦å¯èƒ½åªæ˜¯å®ƒæŸæ¬¡æŸ¥è¯¢åˆšå¥½æ¼æŽ‰äº† Noto Sans CJK SC åŒ¹é…åˆ°äº† Noto Color Emoji ç„¶åŽå°±ç»™äº†ä¸ª antialias falseï¼Œç„¶åŽå†é€šè¿‡ä»€ä¹ˆå¥‡æ€ªçš„ UI å­—ä½“æŸ¥è¯¢æ‰¾å‡ºäº†ä¸­æ–‡å­—ä½“â€¦â€¦åæ­£æ€»ä¹‹æˆ‘çš„å¿ƒå¥½ç´¯ï¼Œæˆ‘å®žåœ¨ä¸çŸ¥é“è¯¥æ€Žä¹ˆè§£å†³äº†ï¼Œæˆ‘åªæƒ³ç”¨ä¸ª emojiï¼Œæˆ‘ç”šè‡³è¿˜ç»™ Noto Color Emoji æäº†è¯·æ±‚æ”¯æŒæŠ—é”¯é½¿çš„ issueâ€¦â€¦ç„¶åŽæˆ‘å†³å®šè¦ä¸æ¢æˆ Twemoji ç®—äº†ã€‚\nTwemoji å€’ä¹Ÿä¸æ˜¯å¼€ç®±å³ç”¨ï¼Œå®ƒä¸èƒ½ç¦ç”¨å†…åµŒç‚¹é˜µå­—ä½“ï¼Œä¸è¿‡å¥½æ­¹è¿™ä¸ªä¸åƒæŠ—é”¯é½¿é‚£ä¹ˆè¦å‘½ï¼Œå°±ç®—å½±å“äº†å…¶ä»–å­—ä½“å¤§æ¦‚ä¹Ÿè®¸èƒ½å¤Ÿå¿½ç•¥å§â€¦â€¦äºŽæ˜¯æˆ‘æ”¹æˆäº†è¿™ä¸ªã€‚ä¸è¿‡è¿™æ—¶å€™æˆ‘çªç„¶çµå…‰ä¸€é—ªæœ‰äº†æ–°ä¸»æ„ã€‚\næŒ‰ç…§å‰é¢é‚£å‡ ç¯‡åšå®¢å’Œ è¿™ä¸€ç¯‡æ‰‹å†Œç¿»è¯‘ çš„è®²è§£ï¼Œfontconfig match çš„ target åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼Œç¬¬ä¸€æ˜¯ scanï¼Œæ‰«æå­—ä½“æ–‡ä»¶ï¼Œæž„å»ºä¸€ä¸ªé›†åˆã€‚ç„¶åŽæ˜¯ patternï¼ŒæŒ‰ç…§è§„åˆ™æž„å»ºä¸€ä¸ªå­—ä½“åˆ—è¡¨ã€‚æœ€åŽæ˜¯ fontï¼Œæ„å‘³ç€å·²ç»æŒ‘å‡ºäº†éœ€è¦çš„å­—ä½“åˆ—è¡¨ã€‚æ‰€ä»¥è°ƒæ•´å­—ä½“å›žé€€é¡ºåºä¸€èˆ¬éƒ½æ”¾åœ¨ pattern é˜¶æ®µã€‚è€Œç½‘ä¸Šå¤§éƒ¨åˆ†éƒ½æŠŠå¯¹äºŽ freetype2 å¾®è°ƒçš„é€‰é¡¹æ”¾åœ¨äº† font é˜¶æ®µï¼Œä¸è¿‡æˆ‘æƒ³æ”¾åœ¨ scan é˜¶æ®µæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥ï¼Ÿè¿™æ ·æ‰«æåˆ° Noto Color Emoji çš„æ—¶å€™å°±å¯¹å®ƒè®¾ç½®é€‰é¡¹ï¼Œä¹Ÿå°±ä¸å­˜åœ¨ family åˆ—è¡¨å¯èƒ½æœ‰å¾ˆå¤šé¡¹çš„é—®é¢˜äº†ã€‚æµ‹è¯•äº†ä¸€ä¸‹å‘çŽ°åŸºæœ¬ä¸€åˆ‡æ­£å¸¸ï¼ŒäºŽæ˜¯å°±æŠŠæ‰€æœ‰ freetype2 å¾®è°ƒé€‰é¡¹ç§»åˆ°äº† scan é˜¶æ®µã€‚ï¼ˆæˆ‘ä¸æ˜¯ fontconfig çš„ä¸“å®¶ï¼Œè¿™ä¸€æ®µè¦æ˜¯æœ‰é”™è¯¯è¿˜å¸Œæœ›æŒ‡æ­£ã€‚ï¼‰\nä¸‹é¢æ˜¯æˆ‘çŽ°åœ¨çš„é…ç½®ï¼Œé¦–å…ˆæˆ‘é…ç½®æ–‡ä»¶æ”¾çš„ä½ç½®æ˜¯ /etc/fonts/local.confï¼Œå› ä¸º /etc/fonts/fonts.conf æ˜¯å‘è¡Œç‰ˆé»˜è®¤çš„è®¾ç½®ï¼Œç”¨æ¥åŠ è½½å…¶ä»–é…ç½®æ–‡ä»¶æ‰€ä»¥ä¸èƒ½æ”¹ï¼Œç„¶åŽæˆ‘æƒ³å¯¹æ‰€æœ‰ç”¨æˆ·éƒ½ç”Ÿæ•ˆï¼Œæ‰€ä»¥æ²¡æœ‰æ”¾åœ¨æˆ‘çš„å®¶ç›®å½•ï¼ŒArch Linux åŒ…å«ä¸€ä¸ª /etc/fonts/conf.d/51-local.conf æ–‡ä»¶ï¼Œ/etc/fonts/fonts.conf ä¼šåŠ è½½å®ƒï¼Œç„¶åŽå®ƒå†åŠ è½½ /etc/fonts/local.confã€‚\né¦–å…ˆæ˜¯ XML å¼€å¤´å¿…é¡»è¦æœ‰çš„é‚£äº›ä¸œè¥¿ï¼š\n\n\n\n\" data-info=\"language-xml\" data-lang=\"xml\" class=\"code-block\">&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE fontconfig SYSTEM \"fonts.dtd\"&gt;\n&lt;fontconfig&gt;\n\nç„¶åŽæŽ¥ä¸‹æ¥å°±æ˜¯é’ˆå¯¹æ‰€æœ‰å­—ä½“çš„ freetype2 å¾®è°ƒé€‰é¡¹ï¼ŒæŒ‰ç…§ä¸Šé¢ä»‹ç»çš„æ”¾åœ¨ scan é˜¶æ®µï¼š\n\n  \n    \n    \n      false\n    \n    \n    \n      false\n    \n    \n    \n      rgb\n    \n    \n    \n      true\n    \n    \n      true\n    \n    \n      hintslight\n    \n    \n    \n      true\n    \n  \n\" data-info=\"language-xml\" data-lang=\"xml\" class=\"code-block\">  &lt;!-- é’ˆå¯¹æ‰€æœ‰å­—ä½“çš„é»˜è®¤è®¾ç½®ï¼ŒåŠ›æ±‚æ˜¾ç¤ºæ•ˆæžœæœ€å¥½ã€‚ --&gt;\n  &lt;match target=\"scan\"&gt;\n    &lt;!-- ç¦ç”¨å†…åµŒç‚¹é˜µã€‚ --&gt;\n    &lt;edit name=\"embeddedbitmap\" mode=\"assign\"&gt;\n      &lt;bool&gt;false&lt;/bool&gt;\n    &lt;/edit&gt;\n    &lt;!-- ç¦ç”¨åˆæˆç²—ä½“ã€‚ --&gt;\n    &lt;edit name=\"embolden\" mode=\"assign\"&gt;\n      &lt;bool&gt;false&lt;/bool&gt;\n    &lt;/edit&gt;\n    &lt;!-- è®¾ç½®æ˜¾ç¤ºå™¨ä¸º RGB æŽ’åˆ—ã€‚ --&gt;\n    &lt;edit name=\"rgba\" mode=\"assign\"&gt;\n      &lt;const&gt;rgb&lt;/const&gt;\n    &lt;/edit&gt;\n    &lt;!-- å¼€å¯è½»åº¦å¾®è°ƒã€‚ --&gt;\n    &lt;edit name=\"hinting\" mode=\"assign\"&gt;\n      &lt;bool&gt;true&lt;/bool&gt;\n    &lt;/edit&gt;\n    &lt;edit name=\"autohint\" mode=\"assign\"&gt;\n      &lt;bool&gt;true&lt;/bool&gt;\n    &lt;/edit&gt;\n    &lt;edit name=\"hintstyle\" mode=\"assign\"&gt;\n      &lt;const&gt;hintslight&lt;/const&gt;\n    &lt;/edit&gt;\n    &lt;!-- å¼€å¯æŠ—é”¯é½¿ã€‚ --&gt;\n    &lt;edit name=\"antialias\" mode=\"assign\"&gt;\n      &lt;bool&gt;true&lt;/bool&gt;\n    &lt;/edit&gt;\n  &lt;/match&gt;\n\nå†…åµŒç‚¹é˜µçš„æ•ˆæžœé€šå¸¸æ²¡æœ‰çŸ¢é‡ç»˜åˆ¶çš„æ•ˆæžœå¥½ï¼Œåˆæˆç²—ä½“ä¹Ÿåªæ˜¯ä¸ªä¸´æ—¶æ–¹æ¡ˆï¼Œå¾®è°ƒä»€ä¹ˆçš„è§ä»è§æ™ºäº†å°±ã€‚\nç„¶åŽå¯¹äºŽ Twemoji è¦æ‰“å¼€å†…åµŒç‚¹é˜µï¼š\n\n  \n    \n      Twemoji\n    \n    \n      true\n    \n  \n\" data-info=\"language-xml\" data-lang=\"xml\" class=\"code-block\">  &lt;!-- å½“ç„¶å¦ä¸€ä¸ªç®€å•æ–¹æ¡ˆæ˜¯æ¢æˆ Twemojiï¼Œä¸è¿‡å®ƒä¸èƒ½å…³è¿™ä¸ªã€‚ --&gt;\n  &lt;match target=\"scan\"&gt;\n    &lt;test name=\"family\" qual=\"any\"&gt;\n      &lt;string&gt;Twemoji&lt;/string&gt;\n    &lt;/test&gt;\n    &lt;edit name=\"embeddedbitmap\" mode=\"assign\"&gt;\n      &lt;bool&gt;true&lt;/bool&gt;\n    &lt;/edit&gt;\n  &lt;/match&gt;\n\nå¯¹äºŽ Noto Color Emoji ä¹Ÿæ˜¯æ‰“å¼€å†…åµŒç‚¹é˜µå…³é—­å¾®è°ƒå’ŒæŠ—é”¯é½¿ï¼š\n\n  \n    \n      Noto Color Emoji\n    \n    \n      true\n    \n    \n      true\n    \n    \n      false\n    \n    \n      false\n    \n  \n\" data-info=\"language-xml\" data-lang=\"xml\" class=\"code-block\">  &lt;!-- Noto Color Emoji ä¸æ”¯æŒå¼€å¯æŠ—é”¯é½¿å’Œå¾®è°ƒï¼Œæ‰€ä»¥åœ¨å…¨å±€å¼€å¯ä¹‹åŽè¿˜å¾—ç»™å®ƒå…³æŽ‰ã€‚ --&gt;\n  &lt;match target=\"scan\"&gt;\n    &lt;test name=\"family\" qual=\"any\"&gt;\n      &lt;string&gt;Noto Color Emoji&lt;/string&gt;\n    &lt;/test&gt;\n    &lt;edit name=\"scalable\" mode=\"assign\"&gt;\n      &lt;bool&gt;true&lt;/bool&gt;\n    &lt;/edit&gt;\n    &lt;edit name=\"embeddedbitmap\" mode=\"assign\"&gt;\n      &lt;bool&gt;true&lt;/bool&gt;\n    &lt;/edit&gt;\n    &lt;edit name=\"hinting\" mode=\"assign\"&gt;\n      &lt;bool&gt;false&lt;/bool&gt;\n    &lt;/edit&gt;\n    &lt;edit name=\"antialias\" mode=\"assign\"&gt;\n      &lt;bool&gt;false&lt;/bool&gt;\n    &lt;/edit&gt;\n  &lt;/match&gt;\n\næˆ‘ä¸ªäººè¿˜æœ‰ä¸€ä¸ªéœ€æ±‚ï¼ŒMonaco ä½œä¸ºä¸€ä¸ªç­‰å®½å­—ä½“ç«Ÿç„¶æ”¯æŒè¿žå­—ï¼Œå¯¼è‡´æŸæ¬¡æˆ‘çœ‹åˆ«äººçš„ä»£ç æ—¶å€™ fi è¿žåœ¨ä¸€èµ·è®©æˆ‘ä»¥ä¸ºä»–æ²¡æœ‰å¯¹é½ç¼©è¿›ï¼Œç»“æžœäººå®¶è¯´æ˜¯æˆ‘çš„é—®é¢˜ï¼Œååˆ†å°´å°¬ï¼ŒäºŽæ˜¯æˆ‘åœ¨è¿™é‡Œå…³æŽ‰äº†å®ƒã€‚ä¸è¿‡æœ‰äº›ç¨‹åºæ¯”å¦‚ firefox æ˜¯ä¸æ”¯æŒè¿™ä¸ªçš„ï¼Œè§£å†³æ–¹æ³•æ˜¯ç”¨ FontForge ç¼–è¾‘å­—ä½“æ–‡ä»¶åˆ æŽ‰è¿žå­—ç›¸å…³çš„æ•°æ®å†å¯¼å‡ºâ€¦â€¦\n\n  \n    \n      Monaco\n    \n    \n      liga off\n      dlig off\n    \n  \n\" data-info=\"language-xml\" data-lang=\"xml\" class=\"code-block\">  &lt;!-- æˆ‘çœŸä¸ç†è§£ä¸€ä¸ªç­‰å®½å­—ä½“è¦è¿žå­—åŠŸèƒ½å¹²å˜›ï¼Ÿæ•…æ„å˜å¾—ä¸ç­‰å®½ï¼Ÿ --&gt;\n  &lt;match target=\"scan\"&gt;\n    &lt;test name=\"family\" qual=\"any\"&gt;\n      &lt;string&gt;Monaco&lt;/string&gt;\n    &lt;/test&gt;\n    &lt;edit name=\"fontfeatures\" mode=\"append\"&gt;\n      &lt;string&gt;liga off&lt;/string&gt;\n      &lt;string&gt;dlig off&lt;/string&gt;\n    &lt;/edit&gt;\n  &lt;/match&gt;\n\næ›´æ–°ï¼ˆ2022-11-24ï¼‰ï¼šæŸäº›ç½‘ç«™çš„å‰ç«¯è„‘å­é‡Œä¸çŸ¥é“è£…çš„ä»€ä¹ˆä¸œè¥¿ï¼Œæ¯”å¦‚ç®€ä¹¦çš„å‰ç«¯å¯èƒ½è„‘å­é‡Œè£…çš„æ˜¯è‹¹æžœï¼Œä»–ä»¬æŠŠ -apple-system,BlinkMacSystemFont,\"Apple Color Emoji\" æŽ’åœ¨ sans-serif å‰è¾¹ï¼ŒäºŽæ˜¯ä½ çœ‹åˆ°çš„æ•°å­—å¯èƒ½æ˜¯ Emoji é‡Œé¢çš„ã€‚å†æ¯”å¦‚ B ç«™ç›´æ’­é¦–é¡µæ‰€æœ‰çš„å­—ä½“éƒ½æ˜¯å¾®è½¯å­—ä½“ï¼Œè¿ž sans-serif éƒ½æ²¡æœ‰ï¼Œä½ æ²¡çœ‹é”™ï¼Œè¿™ä¸ªä¸åˆæ ¼çš„å‰ç«¯è¿žæœ€åŽè¦åŠ  sans-serif ä¿è¯å…¼å®¹æ€§éƒ½ä¸çŸ¥é“ï¼Œè€Œä¸”è¿˜æŠŠ Microsoft Sans Serif æ‹¼é”™äº†ï¼Œå¦‚æžœæˆ‘æ˜¯ä»–çš„è€æ¿ï¼Œæˆ‘çœŸæƒ³ä¸€æ‹³æ‰“åœ¨ä»–å¤´ä¸Šå‘Šè¯‰ä»–è¿™ä¸ªä¸–ç•Œä¸æ˜¯åªæœ‰å¾®è½¯å­—ä½“ï¼Œç„¶åŽå†æŠŠä»–å¼€é™¤æŽ‰ã€‚çŽ°åœ¨æˆ‘éœ€è¦åŠ æ¡è§„åˆ™è®©ä»–åŒ¹é…åˆ°æˆ‘æƒ³è¦çš„å­—ä½“ï¼ˆè™½ç„¶è¿™æ ·åœ¨ä¸€äº›éœ€è¦å¾®è½¯é›…é»‘çš„ office è½¯ä»¶é‡Œé¢å¯èƒ½æœ‰é—®é¢˜ï¼Œä¸è¿‡åæ­£æˆ‘çš„å·¥ä½œä¸éœ€è¦ç”¨åžƒåœ¾ office å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆï¼‰ï¼Œæ‰€ä»¥éœ€è¦å¯¹è¿™äº›å¼±æ™ºåšä¸€äº›ç‰¹æ®Šç…§é¡¾ã€‚å› ä¸º Fontconfig æ˜¯æŒ‰é¡ºåºå¤„ç†çš„ï¼Œæ‰€ä»¥å¦‚æžœä½ æƒ³æŠŠæŸä¸ªå­—ä½“æ¢æˆ sans-serif ä¹‹ç±»çš„å¤„ç†ï¼Œå°±å¾—åœ¨é‚£ä¹‹å‰è¿›è¡Œæ›¿æ¢ã€‚ç„¶åŽå¾ˆå¤šç½‘ç«™å†™çš„éƒ½æ˜¯ Apple Color Emojiï¼Œæˆ‘ä»¬è¿™é‡Œè‡ªç„¶æ˜¯æ²¡æœ‰çš„ï¼Œè¦æ¢æˆæˆ‘ä»¬é»˜è®¤çš„ã€‚\n\n  \n  \n    -apple-system\n    \n      sans-serif\n    \n  \n\n  \n    BlinkMacSystemFont\n    \n      sans-serif\n    \n  \n\n  \n  \n    Microsoft Sans Serif\n    \n      sans-serif\n    \n  \n\n  \n  \n    Microsoft YaHei\n    \n      Roboto\n      Noto Sans CJK SC\n    \n  \n\n  \n  \n    Apple Color Emoji\n    \n      emoji\n    \n  \n\n  \n   -->\n  Noto Color Emoji -->\n   -->\n  emoji -->\n   -->\n   -->\n\n  \n  \n    system-ui\n    \n      sans-serif\n    \n  \n\" data-info=\"language-xml\" data-lang=\"xml\" class=\"code-block\">&lt;!--\n    æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œsans-serifï¼Œserifï¼Œmonospace, emoji è¿™äº›é»˜è®¤å­—ä½“åå¹¶ä¸æ˜¯çœŸæ­£\n    çš„å­—ä½“ï¼Œè€Œæ˜¯é”šç‚¹ï¼Œæ˜¯ç”¨æ¥è¿›è¡ŒåŽç»­çš„å­—ä½“æ’å…¥çš„ã€‚å› æ­¤å¦‚æžœä½ æƒ³é€šè¿‡æŠŠä¸€äº›å­—ä½“æ˜ å°„\n    æˆ sans-serif æ¥ä¿®æ­£ä¸€äº›ç½‘ç«™å¥‡æ€ªçš„é€»è¾‘çš„è¯ï¼Œè¯·åŠ¡å¿…å†™åœ¨å¤„ç† sans-serif éƒ¨åˆ†ä¹‹\n    å‰ï¼Œè¿™æ ·æ‰ä¼šè¢«æ­£å¸¸æ›¿æ¢ã€‚\n  --&gt;\n  &lt;!--\n    æˆ‘å»ºè®®è¿™ä¸ªä¸–ç•Œæ–°å¢žä¸€ç§ç‰©ç§å«è‹¹æžœäººï¼Œå³æ‰“å¼€è„‘å£³ä¹‹åŽæ²¡æœ‰è„‘å­ï¼Œè£…çš„å…¨æ˜¯è‹¹æžœçš„\n    äººï¼Œæ˜¾ç„¶ç®€ä¹¦çš„å‰ç«¯å°±å±žäºŽæ­¤ç±»ï¼ˆ-apple-system,BlinkMacSystemFont,\n    \"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Segoe UI\",\n    \"PingFang SC\",\"Hiragino Sans GB\",\"Microsoft YaHei\",\"Helvetica Neue\",\n    Helvetica,Arial,sans-serifï¼‰ã€‚æ­£å¸¸äººæ€Žä¹ˆä¼šæŠŠ Apple Color Emoji æ”¾å‰é¢ï¼Ÿ\n  --&gt;\n  &lt;alias&gt;\n    &lt;family&gt;-apple-system&lt;/family&gt;\n    &lt;prefer&gt;\n      &lt;family&gt;sans-serif&lt;/family&gt;\n    &lt;/prefer&gt;\n  &lt;/alias&gt;\n\n  &lt;alias&gt;\n    &lt;family&gt;BlinkMacSystemFont&lt;/family&gt;\n    &lt;prefer&gt;\n      &lt;family&gt;sans-serif&lt;/family&gt;\n    &lt;/prefer&gt;\n  &lt;/alias&gt;\n\n  &lt;!--\n    B ç«™ç›´æ’­é¦–é¡µçš„å‰ç«¯è®¤ä¸ºè¿™ä¸ªä¸–ç•Œä¸Šåªæœ‰å¾®è½¯å­—ä½“ï¼ˆArial,Microsoft YaHei,\n    \"Microsoft Sans Serif\",Microsoft SanSerf,å¾®è½¯é›…é»‘ï¼‰ï¼Œ\n    æ‰€ä»¥æˆ‘ä¸å¾—ä¸å¼€ç€è¿™å‡ ä¸ªè§„åˆ™ã€‚å¦‚æžœæˆ‘æ˜¯ä»–çš„è€æ¿ï¼Œæˆ‘å°±ä¼šå¼€é™¤æŽ‰è¿™ä¸ªä¸åˆæ ¼çš„å‰ç«¯ã€‚\n  --&gt;\n  &lt;alias&gt;\n    &lt;family&gt;Microsoft Sans Serif&lt;/family&gt;\n    &lt;prefer&gt;\n      &lt;family&gt;sans-serif&lt;/family&gt;\n    &lt;/prefer&gt;\n  &lt;/alias&gt;\n\n  &lt;!-- æˆ‘æœºå™¨ä¸Šå¯èƒ½çœŸçš„æœ‰å¾®è½¯é›…é»‘ï¼Œè€Œæˆ‘çœŸçš„ä¸æƒ³çœ‹è§å®ƒä»¬ï¼Œåæ­£æˆ‘ä¹Ÿä¸åšæŽ’ç‰ˆã€‚ --&gt;\n  &lt;alias&gt;\n    &lt;family&gt;Microsoft YaHei&lt;/family&gt;\n    &lt;prefer&gt;\n      &lt;family&gt;Roboto&lt;/family&gt;\n      &lt;family&gt;Noto Sans CJK SC&lt;/family&gt;\n    &lt;/prefer&gt;\n  &lt;/alias&gt;\n\n  &lt;!-- æ›¿æ¢ Apple Color Emoji å­—ä½“ã€‚ --&gt;\n  &lt;alias&gt;\n    &lt;family&gt;Apple Color Emoji&lt;/family&gt;\n    &lt;prefer&gt;\n      &lt;family&gt;emoji&lt;/family&gt;\n    &lt;/prefer&gt;\n  &lt;/alias&gt;\n\n  &lt;!-- æ›¿æ¢ Noto Color Emoji å­—ä½“ã€‚ --&gt;\n  &lt;!-- &lt;alias&gt; --&gt;\n  &lt;!--   &lt;family&gt;Noto Color Emoji&lt;/family&gt; --&gt;\n  &lt;!--   &lt;prefer&gt; --&gt;\n  &lt;!--     &lt;family&gt;emoji&lt;/family&gt; --&gt;\n  &lt;!--   &lt;/prefer&gt; --&gt;\n  &lt;!-- &lt;/alias&gt; --&gt;\n\n  &lt;!-- è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¸¸è§çš„é»˜è®¤å­—ä½“ï¼Œæˆ‘çš„ UI å­—ä½“å°±æ˜¯æ— è¡¬çº¿ã€‚ --&gt;\n  &lt;alias&gt;\n    &lt;family&gt;system-ui&lt;/family&gt;\n    &lt;prefer&gt;\n      &lt;family&gt;sans-serif&lt;/family&gt;\n    &lt;/prefer&gt;\n  &lt;/alias&gt;\n\nç„¶åŽå°±æ˜¯å¸¸è§çš„é»˜è®¤å­—ä½“ä»£ç§°ï¼ˆsans-serifï¼Œserifï¼Œmonospaceï¼Œemojiï¼‰å›žé€€åˆ—è¡¨äº†ï¼Œæˆ‘æ˜¯æŒ‰ç…§ Roboto/Roboto Slab/Monaco -&gt; Noto Sans/Serif (Mono) CJK SC -&gt; Noto Color Emoji çš„é¡ºåºå›žé€€çš„ï¼š\n\n  \n  \n    sans\n    \n      Roboto\n      Noto Sans CJK SC\n      emoji\n    \n  \n\n  \n    sans-serif\n    \n      Roboto\n      Noto Sans CJK SC\n      emoji\n    \n  \n\n  \n  \n    serif\n    \n      Roboto Slab\n      Noto Serif CJK SC\n      emoji\n    \n  \n\n  \n  \n    monospace\n    \n      Monaco\n      Noto Sans Mono CJK SC\n      emoji\n    \n  \n\n  \n  \n    emoji\n    \n      Noto Color Emoji\n    \n  \n\" data-info=\"language-xml\" data-lang=\"xml\" class=\"code-block\">  &lt;!-- ç„¶åŽè¯¥é…ç½®æˆ‘ä»¬å–œæ¬¢çš„é»˜è®¤å­—ä½“äº†ã€‚ --&gt;\n  &lt;!-- é»˜è®¤æ— è¡¬çº¿å­—ä½“ã€‚ --&gt;\n  &lt;alias&gt;\n    &lt;family&gt;sans&lt;/family&gt;\n    &lt;prefer&gt;\n      &lt;family&gt;Roboto&lt;/family&gt;\n      &lt;family&gt;Noto Sans CJK SC&lt;/family&gt;\n      &lt;family&gt;emoji&lt;/family&gt;\n    &lt;/prefer&gt;\n  &lt;/alias&gt;\n\n  &lt;alias&gt;\n    &lt;family&gt;sans-serif&lt;/family&gt;\n    &lt;prefer&gt;\n      &lt;family&gt;Roboto&lt;/family&gt;\n      &lt;family&gt;Noto Sans CJK SC&lt;/family&gt;\n      &lt;family&gt;emoji&lt;/family&gt;\n    &lt;/prefer&gt;\n  &lt;/alias&gt;\n\n  &lt;!-- é»˜è®¤æœ‰è¡¬çº¿å­—ä½“ã€‚ --&gt;\n  &lt;alias&gt;\n    &lt;family&gt;serif&lt;/family&gt;\n    &lt;prefer&gt;\n      &lt;family&gt;Roboto Slab&lt;/family&gt;\n      &lt;family&gt;Noto Serif CJK SC&lt;/family&gt;\n      &lt;family&gt;emoji&lt;/family&gt;\n    &lt;/prefer&gt;\n  &lt;/alias&gt;\n\n  &lt;!-- é»˜è®¤ç­‰å®½å­—ä½“ã€‚ --&gt;\n  &lt;alias&gt;\n    &lt;family&gt;monospace&lt;/family&gt;\n    &lt;prefer&gt;\n      &lt;family&gt;Monaco&lt;/family&gt;\n      &lt;family&gt;Noto Sans Mono CJK SC&lt;/family&gt;\n      &lt;family&gt;emoji&lt;/family&gt;\n    &lt;/prefer&gt;\n  &lt;/alias&gt;\n\n  &lt;!-- é»˜è®¤ emoji å­—ä½“ã€‚ --&gt;\n  &lt;alias&gt;\n    &lt;family&gt;emoji&lt;/family&gt;\n    &lt;prefer&gt;\n      &lt;family&gt;Noto Color Emoji&lt;/family&gt;\n    &lt;/prefer&gt;\n  &lt;/alias&gt;\n\nè¿™é‡Œçš„å†™æ³•å’Œ &lt;alias&gt; æ˜¯ç­‰ä»·çš„ã€‚è®¾ç½®å®Œè¿™ä¸ªè®°å¾—æŠŠæ‰€æœ‰è½¯ä»¶çš„è‡ªå®šä¹‰å­—ä½“è®¾ç½®é‡Œé¢æ— è¡¬çº¿è®¾ç½®ä¸º sans-serifï¼Œæœ‰è¡¬çº¿è®¾ç½®ä¸º serifï¼Œç­‰å®½è®¾ç½®ä¸º monospaceï¼Œè¿™æ ·æ‰ä¼šéµå®ˆè¿™é‡Œçš„å›žé€€é¡ºåºã€‚\nå‰©ä¸‹è¿˜æœ‰ä¸€äº›å†—é•¿çš„ç”¨æ¥åœ¨ä¸åŒè¯­è¨€ä¸‹é€‰æ‹©ä¸åŒçš„ Noto Sans CJK å˜ä½“çš„è®¾ç½®ï¼Œå› ä¸º Noto Sans CJK æ˜¯ä¸€ä¸ªå¤šè¯­ç§é›†åˆå­—ä½“ï¼Œç„¶åŽä¸­æ—¥éŸ©å¯¹ä¸€äº›æ±‰å­—æœ‰ä¸åŒçš„å˜ä½“ï¼Œæ‰€ä»¥éœ€è¦è¿™ä¸€æ®µï¼Œä¸è¿‡æˆ‘å°±ä¸è´´åœ¨è¿™é‡Œäº†ï¼Œå®Œæ•´çš„æ–‡ä»¶å¯ä»¥åœ¨æ–‡ç« æœ«å°¾ä¸‹è½½ã€‚\næœ€åŽæ”¶ä¸ªå°¾ï¼š\n\n\" data-info=\"language-xml\" data-lang=\"xml\" class=\"code-block\">&lt;/fontconfig&gt;\n\nå®Œæ•´çš„æ–‡ä»¶åœ¨è¿™é‡Œï¼šlocal.confã€‚\nðŸ˜¼\n"},{"title":"NVIDIA é©±åŠ¨å’Œ GNOME å’Œ Wayland","url":"/posts/NVIDIA-GNOME-Wayland/","content":"æ›´æ–°ï¼ˆ2021-11-09ï¼‰ï¼šæœ€æ–°çš„ NVIDIA 495 é©±åŠ¨ç»ˆäºŽæ”¯æŒäº†å¤§å®¶éƒ½åœ¨ç”¨çš„ GBMï¼ŒåŒæ—¶æœ€æ–°çš„ XWayland 21.1.3 ä¹Ÿæ·»åŠ äº†è¿™æ–¹é¢çš„æ”¯æŒï¼Œä¹Ÿå°±æ„å‘³ç€ NVIDIA ç”¨æˆ·ä¸å†éœ€è¦å•ç‹¬çš„è½®å­è€Œæ˜¯ä½¿ç”¨çŽ°æœ‰çš„ç¨³å®šçš„ä»£ç ã€‚æˆ‘å·²ç»åˆ‡æ¢åˆ° GNOME Wayland ä¸æ­¢ä¸€å‘¨ï¼Œç›®å‰å„ç§åŠŸèƒ½éƒ½å¾ˆæ­£å¸¸ã€‚\n\nç”±äºŽå„ç§å„æ ·çš„åŽ†å²åŽŸå› å’Œè¿‘æœŸçš„å˜åŒ–ï¼Œæˆ‘åœ¨æœ€è¿‘çš„èŠå¤©é‡Œå‘çŽ°å¾ˆå¤šæœ‹å‹å¯¹ NVIDIA é©±åŠ¨å¯¹ Wayland çš„æ”¯æŒæƒ…å†µä¸ç”šäº†è§£ï¼Œæ­£å¥½æˆ‘æœ€è¿‘åœ¨æŠ˜è…¾ç›¸å…³çš„ä¸œè¥¿ï¼Œæ‰€ä»¥æ‰“ç®—ç®€å•ä»‹ç»ä¸€ä¸‹æˆ‘äº†è§£çš„ã€‚\n\n\nå¸¸è§é—®é¢˜\nä¸ºä»€ä¹ˆ NVIDIA çš„ Wayland æ”¯æŒè¿™ä¹ˆå·®ï¼Ÿ\né•¿è¯çŸ­è¯´ï¼Œå¤§éƒ¨åˆ†é©±åŠ¨ï¼ˆAMD çš„å¼€æºå’Œé—­æºé©±åŠ¨ï¼ŒNVIDIA çš„å¼€æºé©±åŠ¨ nouveauï¼ŒIntel çš„å¼€æºé©±åŠ¨ï¼‰éƒ½åŒæ„é‡‡ç”¨ GBM ä½œä¸ºç¼“å­˜ APIï¼Œä½†æ˜¯ NVIDIA åƒä¸ªèµŒæ°”çš„å°å­©ä¸€æ ·è¡¨ç¤ºâ€œä½ ä»¬è¿™ä¸ªä¸å¥½ï¼Œæˆ‘è¦åšä¸ªæ›´å¥½çš„ EGLStreamsâ€æ‰€ä»¥ä¸æ”¯æŒ GBMï¼ŒäºŽæ˜¯æ‰€æœ‰è¦å…¼å®¹ NVIDIA é—­æºé©±åŠ¨çš„æ··æˆå™¨éƒ½è¦ä¸ºå®ƒåšå•ç‹¬çš„å®žçŽ°ä»£ç ã€‚è¯¸å¦‚ GNOME æˆ–è€… KDE è¿™ç§å¤§åž‹é¡¹ç›®æœ‰è¶³å¤Ÿçš„äººæ‰‹ï¼ŒåŒæ—¶ NVIDIA ä¼¼ä¹Žä¹Ÿæä¾›äº†ä¸€å®šçš„å¸®åŠ©æ‰€ä»¥å·²ç»æœ‰äº†æ··æˆå™¨å†…éƒ¨çš„ EGLStreams å®žçŽ°ï¼Œä½†ä¹Ÿæœ‰äº›å°åž‹é¡¹ç›®å¹¶ä¸æ”¯æŒè¿™ä¸ªçŽ©æ„ã€‚è€Œä¸” NVIDIA å¹ç‰›çš®å¹å¾—å¾ˆå¤§ï¼ŒEGLStreams å“ªé‡Œâ€œæ›´å¥½â€ä»Žä»–ä»¬çš„é¾Ÿé€Ÿè¿›å±•ä¸Šæ ¹æœ¬ä½“çŽ°ä¸å‡ºæ¥ã€‚å¯èƒ½æ˜¯å› ä¸ºæŒ–çŸ¿èµšå¾—ç›†æ»¡é’µæ»¡ï¼Œå¿˜è®°äº†æ˜¾å¡çš„æœ¬èŒå·¥ä½œæ˜¯æ˜¾ç¤ºï¼ŒNVIDIA çš„é—­æº Linux é©±åŠ¨è´¨é‡ä¸€ç›´åœç•™åœ¨èƒ½ç”¨çš„ç¨‹åº¦ï¼ŒåŒæ—¶åˆåšå„ç§å„æ ·é™åˆ¶å¯¼è‡´å¼€æºçš„ nouveau åœ¨è¾ƒæ–°çš„æ˜¾å¡ä¸Šå‡ ä¹Žä¸èƒ½ç”¨ã€‚\nNVIDIA é—­æºé©±åŠ¨ä¹‹å‰ä¸€ç›´æ˜¯ç¨€æ³¥å·´ç³Šä¸ä¸Šå¢™çš„åžƒåœ¾ï¼Œå› ä¸ºå®ƒåœ¨ Wayland ä¸‹å¯¹ä½¿ç”¨ XWayland çš„ç¨‹åºæ²¡æœ‰ç¡¬ä»¶åŠ é€Ÿæ”¯æŒâ€”â€”ä¹Ÿå°±æ˜¯è¯´å¦‚æžœä½ ä½¿ç”¨ Xorg ä¼šè¯ï¼Œç¨‹åºæ˜¯æœ‰ç¡¬ä»¶åŠ é€Ÿçš„ï¼Œä½ ä½¿ç”¨ Wayland ä¼šè¯ï¼ŒWayland ç¨‹åºä¹Ÿæ˜¯æœ‰ç¡¬ä»¶åŠ é€Ÿçš„ï¼Œä½†æ˜¯åœ¨ Wayland ä¼šè¯ä¸‹é¢é‚£äº›æ—§çš„ Xorg ç¨‹åºå°±æ²¡æœ‰ç¡¬ä»¶åŠ é€Ÿï¼ˆå¬èµ·æ¥å°±åƒæ¡äº†èŠéº»ä¸¢äº†è¥¿ç“œä¸€æ ·ï¼‰â€”â€”è€Œä»ç„¶æœ‰ç›¸å½“ä¸€éƒ¨åˆ†æ—§ç¨‹åºåœ¨ Wayland ä¸‹ä¾èµ– XWayland è¿è¡Œï¼Œæ‰€ä»¥ NVIDIA é—­æºé©±åŠ¨çš„ Wayland ä¼šè¯åŸºæœ¬å¯ä»¥è®¤ä¸ºæ˜¯ä¸èƒ½æ—¥å¸¸ä½¿ç”¨çš„ã€‚\nä»Žç‰ˆæœ¬ 470 ä¹‹åŽ NVIDIA é—­æºé©±åŠ¨æœ‰æ‰€æ”¹å–„ï¼Œé¦–å…ˆæ˜¯ä»–ä»¬çš„å‘˜å·¥æäº¤çš„è¡¥ä¸åœ¨ XWayland 21.1.1 ç‰ˆæœ¬é‡Šå‡ºäº†ï¼Œè¿™ä¸ªè¡¥ä¸æ·»åŠ äº†å¯¹ XWayland ç¡¬ä»¶åŠ é€Ÿçš„æ”¯æŒï¼ˆéœ€è¦æ–°ç‰ˆæœ¬é©±åŠ¨ï¼‰ï¼Œç„¶åŽæ–°ç‰ˆæœ¬é©±åŠ¨åœ¨ä¸Šå‘¨å˜ä¸ºç¨³å®šç‰ˆï¼Œç”¨æˆ·å¯ä»¥å®‰è£…ï¼Œæ‰€ä»¥åœ¨æ‹–äº†è‡³å°‘ä¸‰å¹´ä¹‹åŽæœ€åŽä¸€å—ç©ºç¼ºç»ˆäºŽè¢«è¡¥ä¸Šäº†ã€‚ä½¿ç”¨ KDE å’Œ GNOME çš„ NVIDIA æ˜¾å¡ç”¨æˆ·ç†è®ºä¸Šå°±å¯ä»¥èŽ·å¾—å®Œæ•´çš„ Wayland ä½“éªŒäº†ã€‚\nçŽ°åœ¨ NVIDIA ç”¨æˆ·çš„ Wayland ä¼šè¯å¯ä»¥æ—¥å¸¸ä½¿ç”¨äº†å—ï¼Ÿ\næ›´æ–°åˆ° 470 é©±åŠ¨ä¹‹åŽæˆ‘ç¬¬ä¸€æ—¶é—´ä½“éªŒäº†ä¸€ä¸‹ï¼Œç»“æžœå°±æ˜¯å¾ˆæŠ±æ­‰ï¼Œè¿˜æ˜¯ä¸è¡Œï¼Œä¸è¿‡ æˆ‘é‡åˆ°çš„éƒ½æ˜¯ä¸€äº›å°é—®é¢˜ï¼š\n\nFirefox ç¨³å®šç‰ˆæ²¡æ³•æ­£å¸¸å·¥ä½œï¼Œä½†æ˜¯ Nightly ç‰ˆæœ¬æ˜¯å¯ä»¥çš„ï¼ŒåŽŸå› æ˜¯ NVIDIA å’Œ Mesa çš„ EGL å®žçŽ°å­˜åœ¨ä¸€ç‚¹å°åŒºåˆ«ï¼Œä¿®å¤è¡¥ä¸å·²ç»åœ¨ Nightly é‡Œé¢äº†ï¼Œæˆ‘ä»¬åªè¦ç­‰ç¨³å®šç‰ˆç‰ˆæœ¬å‡ä¸ŠåŽ»å°±å¯ä»¥äº†ã€‚\nGTK3 ç¨‹åºéƒ½èƒ½å·¥ä½œï¼Œä½†æ˜¯ GTK4 çš„ç¨‹åºï¼ˆæ¯”å¦‚ GNOME Extensionsï¼‰å´å…¨éƒ½æŒ‚äº†ï¼ŒåŽŸå› åº”è¯¥å’Œ Firefox ä¸€è‡´ï¼Œä¿®å¤è¡¥ä¸ä¹Ÿå·²ç»åˆå¹¶äº†ï¼Œåªæ˜¯è¿˜æ²¡æœ‰é‡Šå‡ºç¨³å®šç‰ˆã€‚\nGoogle Chrome ä¸èƒ½å·¥ä½œï¼Œä½†æ˜¯æ¯”è¾ƒæ–°çš„ Chromium ä¼¼ä¹Žå¯ä»¥ï¼ŒåŽŸå› æŽ¨æµ‹ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæˆ‘æ‡’å¾—æŸ¥äº†ï¼ŒåŒæ—¶ æ‰€æœ‰ä¸€ç›´æŠ±ç€æ—§ç‰ˆ Electron ä¸æ›´æ–°çš„ç¨‹åºåº”è¯¥éƒ½æœ‰åŒæ ·çš„é—®é¢˜ã€‚\nGNOME Shell çš„ç¼©ç•¥å›¾ä¼šæ˜¾ç¤ºé”™è¯¯ï¼Œçœ‹èµ·æ¥æ˜¯ä¸ªä¸¤å¹´çš„è€ bugï¼Œæœ€è¿‘å¼€å‘è€…ä¼¼ä¹Žæ‰¾åˆ°äº†åŽŸå› ï¼Œè¿˜æ²¡ä¿®å¤ã€‚\n\nä¸è¿‡æ€»è€Œè¨€ä¹‹è¿™äº›éƒ½æ˜¯èƒ½å¾ˆå¿«ä¿®å¤ï¼ˆåºŸè¯ï¼Œå¤§å®¶åŠ¨ä½œéƒ½æ¯” NVIDIA å¿«ï¼Œå»ºè®®è€é»„æŠŠè‡ªå·±çš„çš®è¡£æ¢æˆä¹Œé¾Ÿå£³ï¼‰çš„é—®é¢˜ï¼Œä¸è‡³äºŽè¢«å¡å¾ˆä¹…ï¼Œè‡³äºŽä½ çš„å‘è¡Œç‰ˆæ˜¯é‚£ç§è¿½æ±‚â€œç¨³å®šâ€é€‰æ‹©äº†ä¸€ä¸ªä¸æ”¯æŒçš„å¤§ç‰ˆæœ¬ç„¶åŽä¸æ›´æ–°çš„ï¼Ÿå“ˆå“ˆï¼Œå…³æˆ‘ X äº‹ã€‚\næ›´æ–°ï¼ˆ2021-09-17ï¼‰ï¼šArch è¿™è¾¹ Firefox æ›´æ–°åˆ°äº† 92.0ï¼Œæ‰€ä»¥å·²ç»ä¿®å¥½äº†ã€‚Google Chrome çŽ°åœ¨æ˜¯ 93.0.4577.63ï¼Œæˆ‘ä¹Ÿèƒ½æ­£å¸¸æ‰“å¼€ã€‚GTK4 çš„ MR å·²ç»é‡Šå‡ºäº†ç¨³å®šç‰ˆï¼Œæ‰€ä»¥æ²¡é—®é¢˜ã€‚Atom åœ¨æˆ‘è¿™ç”¨çš„æ˜¯ electron9ï¼Œèƒ½ç”¨ï¼Œåè€Œæ˜¯ç”¨ electron12 çš„ Code - OSS ä¸èƒ½ç”¨äº†â€¦â€¦æœ€åŽé‚£äº›ä¸çŸ¥é“æ‰“åŒ…äº†å‡ ç™¾å¹´å‰çš„é—­æºæ‹–æ‹‰æœºï¼ˆè¦ä¸æŠŠæ‹–åŽ»æŽ‰å˜æˆåžƒåœ¾ï¼Ÿï¼‰ä¹Ÿå°±æ˜¯æˆ‘æŒ‡çš„å¾ˆæ˜Žç¡®çš„ Slack ä¸èƒ½ç”¨ï¼ŒåŠ ä¸Š --disable-gpu æ˜¯èƒ½ç”¨çš„ï¼Œä½†æ˜¯æ˜¯ä»–çš„é—®é¢˜ï¼Œä¸ºä»€ä¹ˆè¦æˆ‘å…³æŽ‰ç¡¬ä»¶åŠ é€Ÿæ¶ˆè€— CPU èµ„æºï¼Ÿæœ€åŽ GNOME Shell è‡ªå·±çš„é‚£ä¸ª bugâ€¦â€¦ç›®å‰æ²¡æœ‰å¼€å‘è€…æžè¿™ä¸ªï¼Œæˆ‘ç®€å•çœ‹äº†ä¸€ä¸‹å‘çŽ°æ˜¯ä¸ªæˆ‘æ²¡æ¶‰è¶³è¿‡çš„é¢†åŸŸï¼Œä¸è¿‡æ€»ä¹‹æˆ‘è§‰å¾—æ˜¯ä¸ªçœ‹èµ·æ¥ä¸çˆ½ä½†ä¸å½±å“ä½ å®žé™…ä½¿ç”¨çš„é—®é¢˜ï¼Œæ‰€ä»¥çŽ°åœ¨çš„çŠ¶æ€å°±æ˜¯ â€œåˆä¸æ˜¯ä¸èƒ½ç”¨â€ ï¼ï¼ˆæˆ‘å¯æ²¡è¯´åŽåŠå¥å•Šï¼ä¸Šä¸€ä¸ªè¯´äº†åŽåŠå¥çš„ç æµ·å°åŽ‚çŽ°åœ¨è¿˜æ´»ç€å—ï¼Ÿï¼‰\nå¦å¤–æˆ‘åœ¨ openSUSE Tumbleweed ä¸Šæµ‹è¯•çš„æ—¶å€™è¿˜é‡åˆ°ä¸€ä¸ªé—®é¢˜å•Šï¼Œå®ƒé»˜è®¤å®‰è£…çš„æ˜¯ nouveauï¼Œéœ€è¦æ‰‹åŠ¨åœ¨ YaST é‡Œé¢å®‰è£… NVIDIAï¼Œè£…å®Œä¹‹åŽä¼¼ä¹Žä¸¤ä¸ªé©±åŠ¨å†²çªæŠŠæˆ‘æ˜¾ç¤ºå™¨æžé»‘å±äº†ï¼ŒäºŽæ˜¯æˆ‘å°±æ²¡æ³•ç›´æŽ¥é‡å¯ã€‚è€Œä¸”åœ¨é‚£ä¹‹åŽæˆ‘æ˜¾ç¤ºå™¨ç¥žå¥‡çš„å†ä¹Ÿä¸äº®äº†ï¼ˆPS4ã€Switch å…¨éƒ½ç‚¹ä¸äº®å®ƒï¼‰ï¼Œæ‹”æŽ‰ç”µæºæ”¾åŠåˆ†é’Ÿå†æ’ä¸Šæ‰å¥½ï¼Œå¾ˆå¤´ç–¼å•Šã€‚\næˆ‘æ˜¯ GNOME ç”¨æˆ·ï¼Œä¸ºä»€ä¹ˆè£…äº† 470 ç‰ˆæœ¬ GDM é€‰å•é‡Œçš„ GNOME è¿˜æ˜¯ Xorg ä¼šè¯ï¼Ÿ\nè¿™ä¸ªæœ‰å‡ ä¸ªåŽŸå› ï¼Œé¦–å…ˆå°±æ˜¯ Wayland éœ€è¦ Kernel Mode Setting çš„æ”¯æŒï¼ˆè¿™ä¹Ÿæ˜¯ä¸ª NVIDIA æ‹–äº†å¥½ä¹…æ‰è¡¥ä¸Šçš„ç‰¹æ€§ï¼‰ï¼Œæ‰€ä»¥ä½ çš„å†…æ ¸å‚æ•°è¦æœ‰ nvidia-drm.modeset=1ã€‚å…¶æ¬¡è¦çœ‹ /etc/gdm/custom.conf é‡Œé¢ WaylandEnable=false æ˜¯ä¸æ˜¯è¢«æ³¨é‡ŠæŽ‰çš„ï¼ˆé»˜è®¤åº”è¯¥æ˜¯ï¼‰ã€‚\næœ€å¯èƒ½çš„æ˜¯ udev è§„åˆ™ï¼ŒGDM å¸¦äº†ä¸€ä¸ª /usr/lib/udev/rules.d/61-gdm.rules æ–‡ä»¶ï¼Œé‡Œé¢æœ‰è¿™ä¹ˆå‡ è¡Œï¼š\n# disable Wayland on Hi1710 chipsets\nATTR{vendor}==\"0x19e5\", ATTR{device}==\"0x1711\", RUN+=\"/usr/lib/gdm-runtime-config set daemon WaylandEnable false\"\n# disable Wayland when using the proprietary nvidia driver\nDRIVER==\"nvidia\", RUN+=\"/usr/lib/gdm-runtime-config set daemon WaylandEnable false\"\n# disable Wayland if modesetting is disabled\nIMPORT{cmdline}=\"nomodeset\", RUN+=\"/usr/lib/gdm-runtime-config set daemon WaylandEnable false\"\n\nç¬¬äºŒè¡Œè¡¨ç¤ºå¦‚æžœæ£€æµ‹åˆ° NVIDIA é—­æºé©±åŠ¨å°±å…³é—­ Waylandï¼Œç¬¬ä¸‰è¡Œåˆ™æ˜¯å¦‚æžœæ²¡å¼€å¯ Kernel Mode Setting ä¹Ÿå…³æŽ‰ Waylandã€‚\næˆ‘çŒœå¤§éƒ¨åˆ†ç”¨æˆ·éƒ½æ²¡æœ‰ç¬¬ä¸€è¡Œçš„è®¾å¤‡ï¼Œæ‰€ä»¥æˆ‘å»ºè®®ç›´æŽ¥ ln -s /dev/null /etc/udev/rules.d/61-gdm.rules å±è”½æŽ‰è¿™ä¸ªæ–‡ä»¶ã€‚\nåˆ«é—®æˆ‘æ—¢ç„¶ 470 é©±åŠ¨éƒ½å‡ºæ¥äº† GNOME å¼€å‘è€…ä¸ºä»€ä¹ˆä¸åˆ æŽ‰è¿™ä¸ªæ–‡ä»¶ï¼ŒNVIDIA æ†‹å‡ºæ¥ 470 é©±åŠ¨æ€»å…±ä¹Ÿå°±ä¸€å‘¨å¤šç‚¹ï¼Œè¿˜æœ‰ä¸€å †å°é—®é¢˜å‘¢ï¼Œåˆ äº†æ€•ä¸æ˜¯åˆæœ‰ä¸€å †äººæ¥éª‚â€œæ€Žä¹ˆåˆæŠŠä¸ç¨³å®šçš„ä¸œè¥¿æžç»™æˆ‘äº†â€ã€‚\næˆ‘æ˜¯ç¬”è®°æœ¬åŒæ˜¾å¡ç”¨æˆ·ï¼Œä¸»ç”¨çš„æ˜¯æ ¸èŠ¯æ˜¾å¡ï¼Œä¸ºä»€ä¹ˆæˆ‘ GDM é€‰å•é‡Œçš„ GNOME ä¹Ÿæ˜¯ Xorg ä¼šè¯ï¼Ÿ\næ£€æŸ¥ä¸€ä¸‹ä½ æ˜¯ä¸æ˜¯ç”¨äº† NVIDIA ä¹‹å‰æä¾›çš„ Xorg ä¸‹é¢çš„åŒæ˜¾å¡ç®¡ç†åŠŸèƒ½ï¼ˆæœ‰ç¾¤å‹è¯´å« primeï¼Œæˆ‘ä¸çŸ¥é“æ˜¯ä¸æ˜¯å« primeï¼‰ï¼ˆé¡ºä¾¿ä¸€æè¿™ä¹Ÿæ˜¯ NVIDIA æ†‹äº†å¥½å‡ å¹´æ‰æ†‹å‡ºæ¥çš„æœ¬æ¥å°±è¯¥æœ‰çš„ä¸œè¥¿ï¼‰ï¼Ÿå¦‚æžœä½ ä½¿ç”¨é‚£ä¸ªï¼Œé¦–å…ˆå®ƒæ˜¯ Xorg ä¸‹é¢çš„æ”¯æŒï¼Œå…¶æ¬¡å®ƒä¼šåŠ è½½ nvidia æ¨¡å—ï¼Œè‡ªç„¶å°±ä¼šè½åˆ°ä¸Šä¸€ä¸ªé—®é¢˜é‡Œé¢çš„ udev è§„åˆ™ä¸Šã€‚\næœ‰ç¾¤å‹åœ¨ç¾¤é‡Œè¡¨ç¤ºä»–åˆ äº†é‚£ä¸ªè§„åˆ™ç„¶åŽè¿› Waylandï¼Œå¯ä»¥æ˜¯å¯ä»¥ï¼Œä½†æˆ‘æ„Ÿåˆ°å¾ˆè¿·æƒ‘ã€‚è¿™ä¸ª prime åŠŸèƒ½ NVIDIA ä¹‹å‰åªæ˜¯è¯´äº†åœ¨ Xorg ä¸‹é¢å¯ç”¨ï¼Œæ‰€ä»¥æˆ‘ä¸æ˜¯å¾ˆç†è§£åˆè¦ prime åˆè¦ Wayland çš„å¯è¡Œæ€§ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ NVIDIA çš„æŒ‰éœ€æ¸²æŸ“çŽ°åœ¨åˆ° Wayland é‡Œé¢è¿˜èƒ½ä¸èƒ½åƒä¹‹å‰ Xorg é‡Œé¢æä¾›çš„åŠŸèƒ½ä¸€æ ·æ­£å¸¸å·¥ä½œã€‚å°±ç†è®ºä¸Šæˆ‘ç»™ NVIDIA æŽäº†é’±ï¼Œè¿™æ˜¯ä»–çš„ä¹‰åŠ¡ç»™æˆ‘æ”¯æŒè¿™ä¸ªåŠŸèƒ½ï¼Œä½†è¿™å¯æ˜¯åžƒåœ¾ NVIDIA å•Šï¼\nä½ é—®æˆ‘æœ‰æ²¡æœ‰ä»€ä¹ˆå»ºè®®ï¼Ÿå¦‚æžœä½ éœ€è¦è¿™çŽ©æ„ï¼Œå°±æŒ‰ç…§ GNOME çš„è§„åˆ™ç”¨ Xorg å°±å¥½äº†ï¼Œæ²¡é”™è™½ç„¶æˆ‘æ˜¯ Wayland æ”¯æŒè€…ï¼Œä½†æˆ‘åœ¨è¿™é‡Œå»ºè®®ä½ è¿˜æ˜¯å…ˆç”¨ç€ Xorgã€‚å¦‚æžœä½ åªæ˜¯æƒ³ç”¨ Wayland ç„¶åŽå¹¶ä¸æ˜¯å¾ˆéœ€è¦ç”¨ NVIDIA æ˜¾å¡ï¼Œé‚£å°±å…³æŽ‰å®ƒä¸è®©å®ƒåŠ è½½é©±åŠ¨ï¼Œæ²¡é”™ï¼Œæˆ‘åœ¨è‡ªå·±çš„ç¬”è®°æœ¬ä¸Šç”¨çš„æ˜¯ Bumblebeeã€‚\næˆ‘æ˜¯ KDE ç”¨æˆ·ï¼Œä½ æ‰¯è¿™ä¹ˆå¤š GNOMEï¼Œè·Ÿæˆ‘è¯´è¯´ KDE çŽ°åœ¨æœ‰ä»€ä¹ˆé—®é¢˜å‘—ï¼Ÿ\nå¤§å“¥ï¼Œæˆ‘æ˜¯ GNOME ç”¨æˆ·å•Šï¼Œæ—¢ç„¶ä½ æ˜¯ KDE ç”¨æˆ·ï¼Œå»ºè®®ä½ è‡ªå·±è¯•è¯•ç„¶åŽç»™æˆ‘è®²è®²â€¦â€¦\næ²¡ç”¨çš„è§‚ç‚¹\nä½ çœ‹è¿™ä¸ª GDM å°±æ˜¯é€Šå•¦ï¼Œæˆ‘è¿™é‡Œå¡æ­»æ ¹æœ¬ä¸èƒ½ç”¨ï¼Œå¤§å®¶éƒ½æŽ¨èæ¢ SDDM å·´æ‹‰å·´æ‹‰â€¦â€¦\nå¼ºè°ƒä¸€ä¸‹æˆ‘çš„ç›®çš„æ˜¯è§£å†³é—®é¢˜ï¼Œæ¯”å¦‚ç¾¤é‡Œæœ‰äººé—®ä¸ºä»€ä¹ˆæˆ‘åŒæ˜¾å¡ GDM é‡Œæ²¡ Wayland å¯é€‰ä½ æ¥è¿™ä¹ˆä¸€å¥æˆ‘è§‰å¾—å¾ˆä¸ç¤¼è²Œï¼Œå½“åˆ«äººå°±æ˜¯éœ€è¦ç”¨ GDM çš„æ—¶å€™è¯´â€œå¤§å®¶éƒ½æŽ¨èæ¢ SDDMâ€æˆ‘è§‰å¾—ä¸ç®¡æ˜¯ GNOME ç”¨æˆ·è¿˜æ˜¯ KDE ç”¨æˆ·éƒ½ä¼šè§‰å¾—ä¸æ˜¯ä¸ªå¥½å›žç­”ã€‚å…¶æ¬¡åªè¯´è‡ªå·± GDM å¡æ­»å®Œå…¨æ²¡æ³•åˆ¤æ–­é—®é¢˜æ‰€åœ¨ï¼Œåˆ«äººéƒ½æ²¡è¿™ä¸ªé—®é¢˜ï¼Œæˆ–è®¸é—®é¢˜å°±ä¸åœ¨ GDM è€Œåœ¨ä½ çš„é…ç½®å‘¢ï¼ŸåŒç†ï¼Œè¿™ä¸ªâ€œå¤§å®¶éƒ½æŽ¨èæ¢ SDDMâ€é‡Œçš„â€œå¤§å®¶â€æ˜¯å“ªé‡Œæ¥çš„å‘¢ï¼Ÿæˆ‘è§‰å¾—è¿™æ ·çš„å›žå¤å¯¹è§£å†³é—®é¢˜æ²¡ä»€ä¹ˆå¸®åŠ©ã€‚\nXorg å¥½ï¼Wayland åï¼\nè¯·åˆ—ä¸¾å‡ºå……åˆ†è€Œæ°å½“çš„ç†ç”±æ”¯æŒä½ çš„è§‚ç‚¹ï¼Œè€Œä¸æ˜¯äººäº‘äº¦äº‘ã€‚æ¯”æ–¹è¯´ä½ å¯èƒ½è§‰å¾— Wayland ç¼ºä¹ä½ éœ€è¦çš„æŸäº›åŠŸèƒ½ï¼Œè¿™å¯èƒ½æ˜¯è®¾è®¡ç†å¿µä¸Šçš„ä¸åŒï¼Œæˆ–è€…å‘å±•æ—¶é—´ä¸å¤Ÿæ‰€å¯¼è‡´çš„ï¼Œæ¯•ç«Ÿ X åè®®çš„åŽ†å²æ¯” Wayland é•¿å¾—å¤šï¼Œæ‰€ä»¥è¯·å¤šä¸€ç‚¹è€å¿ƒã€‚è€Œè‡³äºŽä¸è®²é“ç†æˆ–è€…äºŒæžç®¡æˆ–è€…è¨€è®ºä¸å‹å–„çš„è¡Œä¸ºåœ¨å“ªé‡Œéƒ½æ˜¯ä¸å—æ¬¢è¿Žçš„ã€‚\næˆ‘ä¹Ÿæ˜¯ NVIDIA ç”¨æˆ·ï¼Œæˆ‘çŽ© XX æ¸¸æˆå¡æˆå¹»ç¯ç‰‡äº†ï¼\nâ€¦â€¦ä¿¡æ¯å¤ªå°‘ï¼Œæ— æ³•ç»™å‡ºåˆç†æŽ¨æ–­ï¼Œåªèƒ½å‘Šè¯‰ä½ æˆ‘æ¸¸æˆçŽ©çš„å¯æ¬¢ä¹äº†ï¼\nä½ ä»¬ NVIDIA ç”¨æˆ·çœŸéº»çƒ¦ï¼Œè°å«ä½ ä»¬è‡ªå·±æŽé’±ä¹° N å¡å—ç½ªï¼\nä½ åˆä¸çŸ¥é“è€å­éƒ½æœ‰ä»€ä¹ˆéœ€æ±‚ï¼Œä¹° N å¡æˆ‘æ˜¯æš‚æ—¶æ²¡æ³•ç”¨ Waylandï¼Œä½†æ˜¯ä¸ä¹° N å¡æˆ‘å°±è¦è¾¾èŠ¬å¥‡å—ç½ª Windows ä¸‹é¢æ‰“æ¸¸æˆå—ç½ªç›´æ’­ç¼–ç å—ç½ªè·‘ hashcat å—ç½ªï¼ˆå­˜ç–‘ï¼‰ã€‚æˆ‘åšçš„é€‰æ‹©æ˜¯æˆ‘æƒè¡¡ä¹‹åŽçš„ç»“æžœã€‚å†è¯´ä¸€éï¼Œè§£å†³é—®é¢˜å’Œâ€œæ¢ XXâ€æ˜¯å®Œå…¨ä¸ä¸€æ ·çš„æ€åº¦ã€‚\næ‰€ä»¥å°±æ˜¯é’±æ˜¯æŽäº†ï¼Œéª‚è¿˜æ˜¯ç…§æ ·éª‚ï¼Œè€Œä¸”æˆ‘éƒ½æŽé’±äº†ï¼Œéª‚å¾—ç„¶æ›´æœ‰åº•æ°”äº†ï¼\n"}]}